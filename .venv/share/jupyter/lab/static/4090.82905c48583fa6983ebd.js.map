{"version":3,"file":"4090.82905c48583fa6983ebd.js?v=82905c48583fa6983ebd","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/OutputJax.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/Tree/Wrapper.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/Tree/WrapperFactory.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Notation.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrapper.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/WrapperFactory.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/TeXAtom.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/TextNode.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/maction.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/math.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/menclose.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mfenced.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mfrac.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mglyph.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mi.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mmultiscripts.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mn.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mo.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mpadded.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mroot.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mrow.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/ms.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mspace.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/msqrt.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/msubsup.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mtable.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mtd.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mtext.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/mtr.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/munderover.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/scriptbase.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/chtml/Wrappers/semantics.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Notation.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/OutputJax.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrapper.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/WrapperFactory.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/TeXAtom.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/TextNode.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/maction.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/math.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/menclose.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mfenced.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mfrac.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mglyph.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mi.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mmultiscripts.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mn.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mo.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mpadded.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mroot.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mrow.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/ms.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mspace.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/msqrt.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/msubsup.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mtable.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mtd.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mtext.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/mtr.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/munderover.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/scriptbase.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/output/common/Wrappers/semantics.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/BBox.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/FunctionList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/PrioritizedList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/StyleList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/Styles.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/numeric.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractOutputJax = void 0;\nvar Options_js_1 = require(\"../util/Options.js\");\nvar FunctionList_js_1 = require(\"../util/FunctionList.js\");\nvar AbstractOutputJax = (function () {\n    function AbstractOutputJax(options) {\n        if (options === void 0) { options = {}; }\n        this.adaptor = null;\n        var CLASS = this.constructor;\n        this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);\n        this.postFilters = new FunctionList_js_1.FunctionList();\n    }\n    Object.defineProperty(AbstractOutputJax.prototype, \"name\", {\n        get: function () {\n            return this.constructor.NAME;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractOutputJax.prototype.setAdaptor = function (adaptor) {\n        this.adaptor = adaptor;\n    };\n    AbstractOutputJax.prototype.initialize = function () {\n    };\n    AbstractOutputJax.prototype.reset = function () {\n        var _args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            _args[_i] = arguments[_i];\n        }\n    };\n    AbstractOutputJax.prototype.getMetrics = function (_document) {\n    };\n    AbstractOutputJax.prototype.styleSheet = function (_document) {\n        return null;\n    };\n    AbstractOutputJax.prototype.pageElements = function (_document) {\n        return null;\n    };\n    AbstractOutputJax.prototype.executeFilters = function (filters, math, document, data) {\n        var args = { math: math, document: document, data: data };\n        filters.execute(args);\n        return args.data;\n    };\n    AbstractOutputJax.NAME = 'generic';\n    AbstractOutputJax.OPTIONS = {};\n    return AbstractOutputJax;\n}());\nexports.AbstractOutputJax = AbstractOutputJax;\n//# sourceMappingURL=OutputJax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractWrapper = void 0;\nvar AbstractWrapper = (function () {\n    function AbstractWrapper(factory, node) {\n        this.factory = factory;\n        this.node = node;\n    }\n    Object.defineProperty(AbstractWrapper.prototype, \"kind\", {\n        get: function () {\n            return this.node.kind;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractWrapper.prototype.wrap = function (node) {\n        return this.factory.wrap(node);\n    };\n    return AbstractWrapper;\n}());\nexports.AbstractWrapper = AbstractWrapper;\n//# sourceMappingURL=Wrapper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractWrapperFactory = void 0;\nvar Factory_js_1 = require(\"./Factory.js\");\nvar AbstractWrapperFactory = (function (_super) {\n    __extends(AbstractWrapperFactory, _super);\n    function AbstractWrapperFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractWrapperFactory.prototype.wrap = function (node) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return this.create.apply(this, __spreadArray([node.kind, node], __read(args), false));\n    };\n    return AbstractWrapperFactory;\n}(Factory_js_1.AbstractFactory));\nexports.AbstractWrapperFactory = AbstractWrapperFactory;\n//# sourceMappingURL=WrapperFactory.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTML = void 0;\nvar OutputJax_js_1 = require(\"./common/OutputJax.js\");\nvar StyleList_js_1 = require(\"../util/StyleList.js\");\nvar WrapperFactory_js_1 = require(\"./chtml/WrapperFactory.js\");\nvar Usage_js_1 = require(\"./chtml/Usage.js\");\nvar tex_js_1 = require(\"./chtml/fonts/tex.js\");\nvar LENGTHS = __importStar(require(\"../util/lengths.js\"));\nvar string_js_1 = require(\"../util/string.js\");\nvar CHTML = (function (_super) {\n    __extends(CHTML, _super);\n    function CHTML(options) {\n        if (options === void 0) { options = null; }\n        var _this = _super.call(this, options, WrapperFactory_js_1.CHTMLWrapperFactory, tex_js_1.TeXFont) || this;\n        _this.chtmlStyles = null;\n        _this.font.adaptiveCSS(_this.options.adaptiveCSS);\n        _this.wrapperUsage = new Usage_js_1.Usage();\n        return _this;\n    }\n    CHTML.prototype.escaped = function (math, html) {\n        this.setDocument(html);\n        return this.html('span', {}, [this.text(math.math)]);\n    };\n    CHTML.prototype.styleSheet = function (html) {\n        if (this.chtmlStyles) {\n            if (this.options.adaptiveCSS) {\n                var styles = new StyleList_js_1.CssStyles();\n                this.addWrapperStyles(styles);\n                this.updateFontStyles(styles);\n                this.adaptor.insertRules(this.chtmlStyles, styles.getStyleRules());\n            }\n            return this.chtmlStyles;\n        }\n        var sheet = this.chtmlStyles = _super.prototype.styleSheet.call(this, html);\n        this.adaptor.setAttribute(sheet, 'id', CHTML.STYLESHEETID);\n        this.wrapperUsage.update();\n        return sheet;\n    };\n    CHTML.prototype.updateFontStyles = function (styles) {\n        styles.addStyles(this.font.updateStyles({}));\n    };\n    CHTML.prototype.addWrapperStyles = function (styles) {\n        var e_1, _a;\n        if (!this.options.adaptiveCSS) {\n            _super.prototype.addWrapperStyles.call(this, styles);\n            return;\n        }\n        try {\n            for (var _b = __values(this.wrapperUsage.update()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var kind = _c.value;\n                var wrapper = this.factory.getNodeClass(kind);\n                wrapper && this.addClassStyles(wrapper, styles);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    CHTML.prototype.addClassStyles = function (wrapper, styles) {\n        var _a;\n        var CLASS = wrapper;\n        if (CLASS.autoStyle && CLASS.kind !== 'unknown') {\n            styles.addStyles((_a = {},\n                _a['mjx-' + CLASS.kind] = {\n                    display: 'inline-block',\n                    'text-align': 'left'\n                },\n                _a));\n        }\n        this.wrapperUsage.add(CLASS.kind);\n        _super.prototype.addClassStyles.call(this, wrapper, styles);\n    };\n    CHTML.prototype.processMath = function (math, parent) {\n        this.factory.wrap(math).toCHTML(parent);\n    };\n    CHTML.prototype.clearCache = function () {\n        this.cssStyles.clear();\n        this.font.clearCache();\n        this.wrapperUsage.clear();\n        this.chtmlStyles = null;\n    };\n    CHTML.prototype.reset = function () {\n        this.clearCache();\n    };\n    CHTML.prototype.unknownText = function (text, variant, width) {\n        if (width === void 0) { width = null; }\n        var styles = {};\n        var scale = 100 / this.math.metrics.scale;\n        if (scale !== 100) {\n            styles['font-size'] = this.fixed(scale, 1) + '%';\n            styles.padding = LENGTHS.em(75 / scale) + ' 0 ' + LENGTHS.em(20 / scale) + ' 0';\n        }\n        if (variant !== '-explicitFont') {\n            var c = (0, string_js_1.unicodeChars)(text);\n            if (c.length !== 1 || c[0] < 0x1D400 || c[0] > 0x1D7FF) {\n                this.cssFontStyles(this.font.getCssFont(variant), styles);\n            }\n        }\n        if (width !== null) {\n            var metrics = this.math.metrics;\n            styles.width = Math.round(width * metrics.em * metrics.scale) + 'px';\n        }\n        return this.html('mjx-utext', { variant: variant, style: styles }, [this.text(text)]);\n    };\n    CHTML.prototype.measureTextNode = function (textNode) {\n        var adaptor = this.adaptor;\n        var text = adaptor.clone(textNode);\n        adaptor.setStyle(text, 'font-family', adaptor.getStyle(text, 'font-family').replace(/MJXZERO, /g, ''));\n        var style = { position: 'absolute', 'white-space': 'nowrap' };\n        var node = this.html('mjx-measure-text', { style: style }, [text]);\n        adaptor.append(adaptor.parent(this.math.start.node), this.container);\n        adaptor.append(this.container, node);\n        var w = adaptor.nodeSize(text, this.math.metrics.em)[0] / this.math.metrics.scale;\n        adaptor.remove(this.container);\n        adaptor.remove(node);\n        return { w: w, h: .75, d: .2 };\n    };\n    CHTML.NAME = 'CHTML';\n    CHTML.OPTIONS = __assign(__assign({}, OutputJax_js_1.CommonOutputJax.OPTIONS), { adaptiveCSS: true, matchFontHeight: true });\n    CHTML.commonStyles = {\n        'mjx-container[jax=\"CHTML\"]': { 'line-height': 0 },\n        'mjx-container [space=\"1\"]': { 'margin-left': '.111em' },\n        'mjx-container [space=\"2\"]': { 'margin-left': '.167em' },\n        'mjx-container [space=\"3\"]': { 'margin-left': '.222em' },\n        'mjx-container [space=\"4\"]': { 'margin-left': '.278em' },\n        'mjx-container [space=\"5\"]': { 'margin-left': '.333em' },\n        'mjx-container [rspace=\"1\"]': { 'margin-right': '.111em' },\n        'mjx-container [rspace=\"2\"]': { 'margin-right': '.167em' },\n        'mjx-container [rspace=\"3\"]': { 'margin-right': '.222em' },\n        'mjx-container [rspace=\"4\"]': { 'margin-right': '.278em' },\n        'mjx-container [rspace=\"5\"]': { 'margin-right': '.333em' },\n        'mjx-container [size=\"s\"]': { 'font-size': '70.7%' },\n        'mjx-container [size=\"ss\"]': { 'font-size': '50%' },\n        'mjx-container [size=\"Tn\"]': { 'font-size': '60%' },\n        'mjx-container [size=\"sm\"]': { 'font-size': '85%' },\n        'mjx-container [size=\"lg\"]': { 'font-size': '120%' },\n        'mjx-container [size=\"Lg\"]': { 'font-size': '144%' },\n        'mjx-container [size=\"LG\"]': { 'font-size': '173%' },\n        'mjx-container [size=\"hg\"]': { 'font-size': '207%' },\n        'mjx-container [size=\"HG\"]': { 'font-size': '249%' },\n        'mjx-container [width=\"full\"]': { width: '100%' },\n        'mjx-box': { display: 'inline-block' },\n        'mjx-block': { display: 'block' },\n        'mjx-itable': { display: 'inline-table' },\n        'mjx-row': { display: 'table-row' },\n        'mjx-row > *': { display: 'table-cell' },\n        'mjx-mtext': {\n            display: 'inline-block'\n        },\n        'mjx-mstyle': {\n            display: 'inline-block'\n        },\n        'mjx-merror': {\n            display: 'inline-block',\n            color: 'red',\n            'background-color': 'yellow'\n        },\n        'mjx-mphantom': {\n            visibility: 'hidden'\n        },\n        '_::-webkit-full-page-media, _:future, :root mjx-container': {\n            'will-change': 'opacity'\n        }\n    };\n    CHTML.STYLESHEETID = 'MJX-CHTML-styles';\n    return CHTML;\n}(OutputJax_js_1.CommonOutputJax));\nexports.CHTML = CHTML;\n//# sourceMappingURL=chtml.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Arrow = exports.DiagonalArrow = exports.DiagonalStrike = exports.Border2 = exports.Border = exports.RenderElement = void 0;\nvar Notation = __importStar(require(\"../common/Notation.js\"));\n__exportStar(require(\"../common/Notation.js\"), exports);\nvar RenderElement = function (name, offset) {\n    if (offset === void 0) { offset = ''; }\n    return (function (node, _child) {\n        var shape = node.adjustBorder(node.html('mjx-' + name));\n        if (offset) {\n            var d = node.getOffset(offset);\n            if (node.thickness !== Notation.THICKNESS || d) {\n                var transform = \"translate\".concat(offset, \"(\").concat(node.em(node.thickness / 2 - d), \")\");\n                node.adaptor.setStyle(shape, 'transform', transform);\n            }\n        }\n        node.adaptor.append(node.chtml, shape);\n    });\n};\nexports.RenderElement = RenderElement;\nvar Border = function (side) {\n    return Notation.CommonBorder(function (node, child) {\n        node.adaptor.setStyle(child, 'border-' + side, node.em(node.thickness) + ' solid');\n    })(side);\n};\nexports.Border = Border;\nvar Border2 = function (name, side1, side2) {\n    return Notation.CommonBorder2(function (node, child) {\n        var border = node.em(node.thickness) + ' solid';\n        node.adaptor.setStyle(child, 'border-' + side1, border);\n        node.adaptor.setStyle(child, 'border-' + side2, border);\n    })(name, side1, side2);\n};\nexports.Border2 = Border2;\nvar DiagonalStrike = function (name, neg) {\n    return Notation.CommonDiagonalStrike(function (cname) { return function (node, _child) {\n        var _a = node.getBBox(), w = _a.w, h = _a.h, d = _a.d;\n        var _b = __read(node.getArgMod(w, h + d), 2), a = _b[0], W = _b[1];\n        var t = neg * node.thickness / 2;\n        var strike = node.adjustBorder(node.html(cname, { style: {\n                width: node.em(W),\n                transform: 'rotate(' + node.fixed(-neg * a) + 'rad) translateY(' + t + 'em)',\n            } }));\n        node.adaptor.append(node.chtml, strike);\n    }; })(name);\n};\nexports.DiagonalStrike = DiagonalStrike;\nvar DiagonalArrow = function (name) {\n    return Notation.CommonDiagonalArrow(function (node, arrow) {\n        node.adaptor.append(node.chtml, arrow);\n    })(name);\n};\nexports.DiagonalArrow = DiagonalArrow;\nvar Arrow = function (name) {\n    return Notation.CommonArrow(function (node, arrow) {\n        node.adaptor.append(node.chtml, arrow);\n    })(name);\n};\nexports.Arrow = Arrow;\n//# sourceMappingURL=Notation.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLWrapper = exports.SPACE = exports.FONTSIZE = void 0;\nvar LENGTHS = __importStar(require(\"../../util/lengths.js\"));\nvar Wrapper_js_1 = require(\"../common/Wrapper.js\");\nvar BBox_js_1 = require(\"../../util/BBox.js\");\nexports.FONTSIZE = {\n    '70.7%': 's',\n    '70%': 's',\n    '50%': 'ss',\n    '60%': 'Tn',\n    '85%': 'sm',\n    '120%': 'lg',\n    '144%': 'Lg',\n    '173%': 'LG',\n    '207%': 'hg',\n    '249%': 'HG'\n};\nexports.SPACE = (_a = {},\n    _a[LENGTHS.em(2 / 18)] = '1',\n    _a[LENGTHS.em(3 / 18)] = '2',\n    _a[LENGTHS.em(4 / 18)] = '3',\n    _a[LENGTHS.em(5 / 18)] = '4',\n    _a[LENGTHS.em(6 / 18)] = '5',\n    _a);\nvar CHTMLWrapper = (function (_super) {\n    __extends(CHTMLWrapper, _super);\n    function CHTMLWrapper() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.chtml = null;\n        return _this;\n    }\n    CHTMLWrapper.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        var chtml = this.standardCHTMLnode(parent);\n        try {\n            for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                child.toCHTML(chtml);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    CHTMLWrapper.prototype.standardCHTMLnode = function (parent) {\n        this.markUsed();\n        var chtml = this.createCHTMLnode(parent);\n        this.handleStyles();\n        this.handleVariant();\n        this.handleScale();\n        this.handleColor();\n        this.handleSpace();\n        this.handleAttributes();\n        this.handlePWidth();\n        return chtml;\n    };\n    CHTMLWrapper.prototype.markUsed = function () {\n        this.jax.wrapperUsage.add(this.kind);\n    };\n    CHTMLWrapper.prototype.createCHTMLnode = function (parent) {\n        var href = this.node.attributes.get('href');\n        if (href) {\n            parent = this.adaptor.append(parent, this.html('a', { href: href }));\n        }\n        this.chtml = this.adaptor.append(parent, this.html('mjx-' + this.node.kind));\n        return this.chtml;\n    };\n    CHTMLWrapper.prototype.handleStyles = function () {\n        if (!this.styles)\n            return;\n        var styles = this.styles.cssText;\n        if (styles) {\n            this.adaptor.setAttribute(this.chtml, 'style', styles);\n            var family = this.styles.get('font-family');\n            if (family) {\n                this.adaptor.setStyle(this.chtml, 'font-family', 'MJXZERO, ' + family);\n            }\n        }\n    };\n    CHTMLWrapper.prototype.handleVariant = function () {\n        if (this.node.isToken && this.variant !== '-explicitFont') {\n            this.adaptor.setAttribute(this.chtml, 'class', (this.font.getVariant(this.variant) || this.font.getVariant('normal')).classes);\n        }\n    };\n    CHTMLWrapper.prototype.handleScale = function () {\n        this.setScale(this.chtml, this.bbox.rscale);\n    };\n    CHTMLWrapper.prototype.setScale = function (chtml, rscale) {\n        var scale = (Math.abs(rscale - 1) < .001 ? 1 : rscale);\n        if (chtml && scale !== 1) {\n            var size = this.percent(scale);\n            if (exports.FONTSIZE[size]) {\n                this.adaptor.setAttribute(chtml, 'size', exports.FONTSIZE[size]);\n            }\n            else {\n                this.adaptor.setStyle(chtml, 'fontSize', size);\n            }\n        }\n        return chtml;\n    };\n    CHTMLWrapper.prototype.handleSpace = function () {\n        var e_2, _a;\n        try {\n            for (var _b = __values([[this.bbox.L, 'space', 'marginLeft'],\n                [this.bbox.R, 'rspace', 'marginRight']]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var data = _c.value;\n                var _d = __read(data, 3), dimen = _d[0], name_1 = _d[1], margin = _d[2];\n                if (dimen) {\n                    var space = this.em(dimen);\n                    if (exports.SPACE[space]) {\n                        this.adaptor.setAttribute(this.chtml, name_1, exports.SPACE[space]);\n                    }\n                    else {\n                        this.adaptor.setStyle(this.chtml, margin, space);\n                    }\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    CHTMLWrapper.prototype.handleColor = function () {\n        var attributes = this.node.attributes;\n        var mathcolor = attributes.getExplicit('mathcolor');\n        var color = attributes.getExplicit('color');\n        var mathbackground = attributes.getExplicit('mathbackground');\n        var background = attributes.getExplicit('background');\n        if (mathcolor || color) {\n            this.adaptor.setStyle(this.chtml, 'color', mathcolor || color);\n        }\n        if (mathbackground || background) {\n            this.adaptor.setStyle(this.chtml, 'backgroundColor', mathbackground || background);\n        }\n    };\n    CHTMLWrapper.prototype.handleAttributes = function () {\n        var e_3, _a, e_4, _b;\n        var attributes = this.node.attributes;\n        var defaults = attributes.getAllDefaults();\n        var skip = CHTMLWrapper.skipAttributes;\n        try {\n            for (var _c = __values(attributes.getExplicitNames()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var name_2 = _d.value;\n                if (skip[name_2] === false || (!(name_2 in defaults) && !skip[name_2] &&\n                    !this.adaptor.hasAttribute(this.chtml, name_2))) {\n                    this.adaptor.setAttribute(this.chtml, name_2, attributes.getExplicit(name_2));\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        if (attributes.get('class')) {\n            var names = attributes.get('class').trim().split(/ +/);\n            try {\n                for (var names_1 = __values(names), names_1_1 = names_1.next(); !names_1_1.done; names_1_1 = names_1.next()) {\n                    var name_3 = names_1_1.value;\n                    this.adaptor.addClass(this.chtml, name_3);\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (names_1_1 && !names_1_1.done && (_b = names_1.return)) _b.call(names_1);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n    };\n    CHTMLWrapper.prototype.handlePWidth = function () {\n        if (this.bbox.pwidth) {\n            if (this.bbox.pwidth === BBox_js_1.BBox.fullWidth) {\n                this.adaptor.setAttribute(this.chtml, 'width', 'full');\n            }\n            else {\n                this.adaptor.setStyle(this.chtml, 'width', this.bbox.pwidth);\n            }\n        }\n    };\n    CHTMLWrapper.prototype.setIndent = function (chtml, align, shift) {\n        var adaptor = this.adaptor;\n        if (align === 'center' || align === 'left') {\n            var L = this.getBBox().L;\n            adaptor.setStyle(chtml, 'margin-left', this.em(shift + L));\n        }\n        if (align === 'center' || align === 'right') {\n            var R = this.getBBox().R;\n            adaptor.setStyle(chtml, 'margin-right', this.em(-shift + R));\n        }\n    };\n    CHTMLWrapper.prototype.drawBBox = function () {\n        var _a = this.getBBox(), w = _a.w, h = _a.h, d = _a.d, R = _a.R;\n        var box = this.html('mjx-box', { style: {\n                opacity: .25, 'margin-left': this.em(-w - R)\n            } }, [\n            this.html('mjx-box', { style: {\n                    height: this.em(h),\n                    width: this.em(w),\n                    'background-color': 'red'\n                } }),\n            this.html('mjx-box', { style: {\n                    height: this.em(d),\n                    width: this.em(w),\n                    'margin-left': this.em(-w),\n                    'vertical-align': this.em(-d),\n                    'background-color': 'green'\n                } })\n        ]);\n        var node = this.chtml || this.parent.chtml;\n        var size = this.adaptor.getAttribute(node, 'size');\n        if (size) {\n            this.adaptor.setAttribute(box, 'size', size);\n        }\n        var fontsize = this.adaptor.getStyle(node, 'fontSize');\n        if (fontsize) {\n            this.adaptor.setStyle(box, 'fontSize', fontsize);\n        }\n        this.adaptor.append(this.adaptor.parent(node), box);\n        this.adaptor.setStyle(node, 'backgroundColor', '#FFEE00');\n    };\n    CHTMLWrapper.prototype.html = function (type, def, content) {\n        if (def === void 0) { def = {}; }\n        if (content === void 0) { content = []; }\n        return this.jax.html(type, def, content);\n    };\n    CHTMLWrapper.prototype.text = function (text) {\n        return this.jax.text(text);\n    };\n    CHTMLWrapper.prototype.char = function (n) {\n        return this.font.charSelector(n).substr(1);\n    };\n    CHTMLWrapper.kind = 'unknown';\n    CHTMLWrapper.autoStyle = true;\n    return CHTMLWrapper;\n}(Wrapper_js_1.CommonWrapper));\nexports.CHTMLWrapper = CHTMLWrapper;\n//# sourceMappingURL=Wrapper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLWrapperFactory = void 0;\nvar WrapperFactory_js_1 = require(\"../common/WrapperFactory.js\");\nvar Wrappers_js_1 = require(\"./Wrappers.js\");\nvar CHTMLWrapperFactory = (function (_super) {\n    __extends(CHTMLWrapperFactory, _super);\n    function CHTMLWrapperFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLWrapperFactory.defaultNodes = Wrappers_js_1.CHTMLWrappers;\n    return CHTMLWrapperFactory;\n}(WrapperFactory_js_1.CommonWrapperFactory));\nexports.CHTMLWrapperFactory = CHTMLWrapperFactory;\n//# sourceMappingURL=WrapperFactory.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLWrappers = void 0;\nvar Wrapper_js_1 = require(\"./Wrapper.js\");\nvar math_js_1 = require(\"./Wrappers/math.js\");\nvar mi_js_1 = require(\"./Wrappers/mi.js\");\nvar mo_js_1 = require(\"./Wrappers/mo.js\");\nvar mn_js_1 = require(\"./Wrappers/mn.js\");\nvar ms_js_1 = require(\"./Wrappers/ms.js\");\nvar mtext_js_1 = require(\"./Wrappers/mtext.js\");\nvar mspace_js_1 = require(\"./Wrappers/mspace.js\");\nvar mpadded_js_1 = require(\"./Wrappers/mpadded.js\");\nvar menclose_js_1 = require(\"./Wrappers/menclose.js\");\nvar mrow_js_1 = require(\"./Wrappers/mrow.js\");\nvar mfenced_js_1 = require(\"./Wrappers/mfenced.js\");\nvar mfrac_js_1 = require(\"./Wrappers/mfrac.js\");\nvar msqrt_js_1 = require(\"./Wrappers/msqrt.js\");\nvar mroot_js_1 = require(\"./Wrappers/mroot.js\");\nvar msubsup_js_1 = require(\"./Wrappers/msubsup.js\");\nvar munderover_js_1 = require(\"./Wrappers/munderover.js\");\nvar mmultiscripts_js_1 = require(\"./Wrappers/mmultiscripts.js\");\nvar mtable_js_1 = require(\"./Wrappers/mtable.js\");\nvar mtr_js_1 = require(\"./Wrappers/mtr.js\");\nvar mtd_js_1 = require(\"./Wrappers/mtd.js\");\nvar maction_js_1 = require(\"./Wrappers/maction.js\");\nvar mglyph_js_1 = require(\"./Wrappers/mglyph.js\");\nvar semantics_js_1 = require(\"./Wrappers/semantics.js\");\nvar TeXAtom_js_1 = require(\"./Wrappers/TeXAtom.js\");\nvar TextNode_js_1 = require(\"./Wrappers/TextNode.js\");\nexports.CHTMLWrappers = (_a = {},\n    _a[math_js_1.CHTMLmath.kind] = math_js_1.CHTMLmath,\n    _a[mrow_js_1.CHTMLmrow.kind] = mrow_js_1.CHTMLmrow,\n    _a[mrow_js_1.CHTMLinferredMrow.kind] = mrow_js_1.CHTMLinferredMrow,\n    _a[mi_js_1.CHTMLmi.kind] = mi_js_1.CHTMLmi,\n    _a[mo_js_1.CHTMLmo.kind] = mo_js_1.CHTMLmo,\n    _a[mn_js_1.CHTMLmn.kind] = mn_js_1.CHTMLmn,\n    _a[ms_js_1.CHTMLms.kind] = ms_js_1.CHTMLms,\n    _a[mtext_js_1.CHTMLmtext.kind] = mtext_js_1.CHTMLmtext,\n    _a[mspace_js_1.CHTMLmspace.kind] = mspace_js_1.CHTMLmspace,\n    _a[mpadded_js_1.CHTMLmpadded.kind] = mpadded_js_1.CHTMLmpadded,\n    _a[menclose_js_1.CHTMLmenclose.kind] = menclose_js_1.CHTMLmenclose,\n    _a[mfrac_js_1.CHTMLmfrac.kind] = mfrac_js_1.CHTMLmfrac,\n    _a[msqrt_js_1.CHTMLmsqrt.kind] = msqrt_js_1.CHTMLmsqrt,\n    _a[mroot_js_1.CHTMLmroot.kind] = mroot_js_1.CHTMLmroot,\n    _a[msubsup_js_1.CHTMLmsub.kind] = msubsup_js_1.CHTMLmsub,\n    _a[msubsup_js_1.CHTMLmsup.kind] = msubsup_js_1.CHTMLmsup,\n    _a[msubsup_js_1.CHTMLmsubsup.kind] = msubsup_js_1.CHTMLmsubsup,\n    _a[munderover_js_1.CHTMLmunder.kind] = munderover_js_1.CHTMLmunder,\n    _a[munderover_js_1.CHTMLmover.kind] = munderover_js_1.CHTMLmover,\n    _a[munderover_js_1.CHTMLmunderover.kind] = munderover_js_1.CHTMLmunderover,\n    _a[mmultiscripts_js_1.CHTMLmmultiscripts.kind] = mmultiscripts_js_1.CHTMLmmultiscripts,\n    _a[mfenced_js_1.CHTMLmfenced.kind] = mfenced_js_1.CHTMLmfenced,\n    _a[mtable_js_1.CHTMLmtable.kind] = mtable_js_1.CHTMLmtable,\n    _a[mtr_js_1.CHTMLmtr.kind] = mtr_js_1.CHTMLmtr,\n    _a[mtr_js_1.CHTMLmlabeledtr.kind] = mtr_js_1.CHTMLmlabeledtr,\n    _a[mtd_js_1.CHTMLmtd.kind] = mtd_js_1.CHTMLmtd,\n    _a[maction_js_1.CHTMLmaction.kind] = maction_js_1.CHTMLmaction,\n    _a[mglyph_js_1.CHTMLmglyph.kind] = mglyph_js_1.CHTMLmglyph,\n    _a[semantics_js_1.CHTMLsemantics.kind] = semantics_js_1.CHTMLsemantics,\n    _a[semantics_js_1.CHTMLannotation.kind] = semantics_js_1.CHTMLannotation,\n    _a[semantics_js_1.CHTMLannotationXML.kind] = semantics_js_1.CHTMLannotationXML,\n    _a[semantics_js_1.CHTMLxml.kind] = semantics_js_1.CHTMLxml,\n    _a[TeXAtom_js_1.CHTMLTeXAtom.kind] = TeXAtom_js_1.CHTMLTeXAtom,\n    _a[TextNode_js_1.CHTMLTextNode.kind] = TextNode_js_1.CHTMLTextNode,\n    _a[Wrapper_js_1.CHTMLWrapper.kind] = Wrapper_js_1.CHTMLWrapper,\n    _a);\n//# sourceMappingURL=Wrappers.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLTeXAtom = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar TeXAtom_js_1 = require(\"../../common/Wrappers/TeXAtom.js\");\nvar TeXAtom_js_2 = require(\"../../../core/MmlTree/MmlNodes/TeXAtom.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar CHTMLTeXAtom = (function (_super) {\n    __extends(CHTMLTeXAtom, _super);\n    function CHTMLTeXAtom() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLTeXAtom.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n        this.adaptor.setAttribute(this.chtml, 'texclass', MmlNode_js_1.TEXCLASSNAMES[this.node.texClass]);\n        if (this.node.texClass === MmlNode_js_1.TEXCLASS.VCENTER) {\n            var bbox = this.childNodes[0].getBBox();\n            var h = bbox.h, d = bbox.d;\n            var a = this.font.params.axis_height;\n            var dh = ((h + d) / 2 + a) - h;\n            this.adaptor.setStyle(this.chtml, 'verticalAlign', this.em(dh));\n        }\n    };\n    CHTMLTeXAtom.kind = TeXAtom_js_2.TeXAtom.prototype.kind;\n    return CHTMLTeXAtom;\n}((0, TeXAtom_js_1.CommonTeXAtomMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLTeXAtom = CHTMLTeXAtom;\n//# sourceMappingURL=TeXAtom.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLTextNode = void 0;\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar TextNode_js_1 = require(\"../../common/Wrappers/TextNode.js\");\nvar CHTMLTextNode = (function (_super) {\n    __extends(CHTMLTextNode, _super);\n    function CHTMLTextNode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLTextNode.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        this.markUsed();\n        var adaptor = this.adaptor;\n        var variant = this.parent.variant;\n        var text = this.node.getText();\n        if (text.length === 0)\n            return;\n        if (variant === '-explicitFont') {\n            adaptor.append(parent, this.jax.unknownText(text, variant, this.getBBox().w));\n        }\n        else {\n            var chars = this.remappedText(text, variant);\n            try {\n                for (var chars_1 = __values(chars), chars_1_1 = chars_1.next(); !chars_1_1.done; chars_1_1 = chars_1.next()) {\n                    var n = chars_1_1.value;\n                    var data = this.getVariantChar(variant, n)[3];\n                    var font = (data.f ? ' TEX-' + data.f : '');\n                    var node = (data.unknown ?\n                        this.jax.unknownText(String.fromCodePoint(n), variant) :\n                        this.html('mjx-c', { class: this.char(n) + font }));\n                    adaptor.append(parent, node);\n                    !data.unknown && this.font.charUsage.add([variant, n]);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (chars_1_1 && !chars_1_1.done && (_a = chars_1.return)) _a.call(chars_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n    };\n    CHTMLTextNode.kind = MmlNode_js_1.TextNode.prototype.kind;\n    CHTMLTextNode.autoStyle = false;\n    CHTMLTextNode.styles = {\n        'mjx-c': {\n            display: 'inline-block'\n        },\n        'mjx-utext': {\n            display: 'inline-block',\n            padding: '.75em 0 .2em 0'\n        }\n    };\n    return CHTMLTextNode;\n}((0, TextNode_js_1.CommonTextNodeMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLTextNode = CHTMLTextNode;\n//# sourceMappingURL=TextNode.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmaction = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar maction_js_1 = require(\"../../common/Wrappers/maction.js\");\nvar maction_js_2 = require(\"../../common/Wrappers/maction.js\");\nvar maction_js_3 = require(\"../../../core/MmlTree/MmlNodes/maction.js\");\nvar CHTMLmaction = (function (_super) {\n    __extends(CHTMLmaction, _super);\n    function CHTMLmaction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmaction.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        var child = this.selected;\n        child.toCHTML(chtml);\n        this.action(this, this.data);\n    };\n    CHTMLmaction.prototype.setEventHandler = function (type, handler) {\n        this.chtml.addEventListener(type, handler);\n    };\n    CHTMLmaction.kind = maction_js_3.MmlMaction.prototype.kind;\n    CHTMLmaction.styles = {\n        'mjx-maction': {\n            position: 'relative'\n        },\n        'mjx-maction > mjx-tool': {\n            display: 'none',\n            position: 'absolute',\n            bottom: 0, right: 0,\n            width: 0, height: 0,\n            'z-index': 500\n        },\n        'mjx-tool > mjx-tip': {\n            display: 'inline-block',\n            padding: '.2em',\n            border: '1px solid #888',\n            'font-size': '70%',\n            'background-color': '#F8F8F8',\n            color: 'black',\n            'box-shadow': '2px 2px 5px #AAAAAA'\n        },\n        'mjx-maction[toggle]': {\n            cursor: 'pointer'\n        },\n        'mjx-status': {\n            display: 'block',\n            position: 'fixed',\n            left: '1em',\n            bottom: '1em',\n            'min-width': '25%',\n            padding: '.2em .4em',\n            border: '1px solid #888',\n            'font-size': '90%',\n            'background-color': '#F8F8F8',\n            color: 'black'\n        }\n    };\n    CHTMLmaction.actions = new Map([\n        ['toggle', [function (node, _data) {\n                    node.adaptor.setAttribute(node.chtml, 'toggle', node.node.attributes.get('selection'));\n                    var math = node.factory.jax.math;\n                    var document = node.factory.jax.document;\n                    var mml = node.node;\n                    node.setEventHandler('click', function (event) {\n                        if (!math.end.node) {\n                            math.start.node = math.end.node = math.typesetRoot;\n                            math.start.n = math.end.n = 0;\n                        }\n                        mml.nextToggleSelection();\n                        math.rerender(document);\n                        event.stopPropagation();\n                    });\n                }, {}]],\n        ['tooltip', [function (node, data) {\n                    var tip = node.childNodes[1];\n                    if (!tip)\n                        return;\n                    if (tip.node.isKind('mtext')) {\n                        var text = tip.node.getText();\n                        node.adaptor.setAttribute(node.chtml, 'title', text);\n                    }\n                    else {\n                        var adaptor_1 = node.adaptor;\n                        var tool_1 = adaptor_1.append(node.chtml, node.html('mjx-tool', {\n                            style: { bottom: node.em(-node.dy), right: node.em(-node.dx) }\n                        }, [node.html('mjx-tip')]));\n                        tip.toCHTML(adaptor_1.firstChild(tool_1));\n                        node.setEventHandler('mouseover', function (event) {\n                            data.stopTimers(node, data);\n                            var timeout = setTimeout(function () { return adaptor_1.setStyle(tool_1, 'display', 'block'); }, data.postDelay);\n                            data.hoverTimer.set(node, timeout);\n                            event.stopPropagation();\n                        });\n                        node.setEventHandler('mouseout', function (event) {\n                            data.stopTimers(node, data);\n                            var timeout = setTimeout(function () { return adaptor_1.setStyle(tool_1, 'display', ''); }, data.clearDelay);\n                            data.clearTimer.set(node, timeout);\n                            event.stopPropagation();\n                        });\n                    }\n                }, maction_js_2.TooltipData]],\n        ['statusline', [function (node, data) {\n                    var tip = node.childNodes[1];\n                    if (!tip)\n                        return;\n                    if (tip.node.isKind('mtext')) {\n                        var adaptor_2 = node.adaptor;\n                        var text_1 = tip.node.getText();\n                        adaptor_2.setAttribute(node.chtml, 'statusline', text_1);\n                        node.setEventHandler('mouseover', function (event) {\n                            if (data.status === null) {\n                                var body = adaptor_2.body(adaptor_2.document);\n                                data.status = adaptor_2.append(body, node.html('mjx-status', {}, [node.text(text_1)]));\n                            }\n                            event.stopPropagation();\n                        });\n                        node.setEventHandler('mouseout', function (event) {\n                            if (data.status) {\n                                adaptor_2.remove(data.status);\n                                data.status = null;\n                            }\n                            event.stopPropagation();\n                        });\n                    }\n                }, {\n                    status: null\n                }]]\n    ]);\n    return CHTMLmaction;\n}((0, maction_js_1.CommonMactionMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmaction = CHTMLmaction;\n//# sourceMappingURL=maction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmath = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar math_js_1 = require(\"../../common/Wrappers/math.js\");\nvar math_js_2 = require(\"../../../core/MmlTree/MmlNodes/math.js\");\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nvar CHTMLmath = (function (_super) {\n    __extends(CHTMLmath, _super);\n    function CHTMLmath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmath.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n        var chtml = this.chtml;\n        var adaptor = this.adaptor;\n        var display = (this.node.attributes.get('display') === 'block');\n        if (display) {\n            adaptor.setAttribute(chtml, 'display', 'true');\n            adaptor.setAttribute(parent, 'display', 'true');\n            this.handleDisplay(parent);\n        }\n        else {\n            this.handleInline(parent);\n        }\n        adaptor.addClass(chtml, 'MJX-TEX');\n    };\n    CHTMLmath.prototype.handleDisplay = function (parent) {\n        var adaptor = this.adaptor;\n        var _a = __read(this.getAlignShift(), 2), align = _a[0], shift = _a[1];\n        if (align !== 'center') {\n            adaptor.setAttribute(parent, 'justify', align);\n        }\n        if (this.bbox.pwidth === BBox_js_1.BBox.fullWidth) {\n            adaptor.setAttribute(parent, 'width', 'full');\n            if (this.jax.table) {\n                var _b = this.jax.table.getOuterBBox(), L = _b.L, w = _b.w, R = _b.R;\n                if (align === 'right') {\n                    R = Math.max(R || -shift, -shift);\n                }\n                else if (align === 'left') {\n                    L = Math.max(L || shift, shift);\n                }\n                else if (align === 'center') {\n                    w += 2 * Math.abs(shift);\n                }\n                var W = this.em(Math.max(0, L + w + R));\n                adaptor.setStyle(parent, 'min-width', W);\n                adaptor.setStyle(this.jax.table.chtml, 'min-width', W);\n            }\n        }\n        else {\n            this.setIndent(this.chtml, align, shift);\n        }\n    };\n    CHTMLmath.prototype.handleInline = function (parent) {\n        var adaptor = this.adaptor;\n        var margin = adaptor.getStyle(this.chtml, 'margin-right');\n        if (margin) {\n            adaptor.setStyle(this.chtml, 'margin-right', '');\n            adaptor.setStyle(parent, 'margin-right', margin);\n            adaptor.setStyle(parent, 'width', '0');\n        }\n    };\n    CHTMLmath.prototype.setChildPWidths = function (recompute, w, clear) {\n        if (w === void 0) { w = null; }\n        if (clear === void 0) { clear = true; }\n        return (this.parent ? _super.prototype.setChildPWidths.call(this, recompute, w, clear) : false);\n    };\n    CHTMLmath.kind = math_js_2.MmlMath.prototype.kind;\n    CHTMLmath.styles = {\n        'mjx-math': {\n            'line-height': 0,\n            'text-align': 'left',\n            'text-indent': 0,\n            'font-style': 'normal',\n            'font-weight': 'normal',\n            'font-size': '100%',\n            'font-size-adjust': 'none',\n            'letter-spacing': 'normal',\n            'border-collapse': 'collapse',\n            'word-wrap': 'normal',\n            'word-spacing': 'normal',\n            'white-space': 'nowrap',\n            'direction': 'ltr',\n            'padding': '1px 0'\n        },\n        'mjx-container[jax=\"CHTML\"][display=\"true\"]': {\n            display: 'block',\n            'text-align': 'center',\n            margin: '1em 0'\n        },\n        'mjx-container[jax=\"CHTML\"][display=\"true\"][width=\"full\"]': {\n            display: 'flex'\n        },\n        'mjx-container[jax=\"CHTML\"][display=\"true\"] mjx-math': {\n            padding: 0\n        },\n        'mjx-container[jax=\"CHTML\"][justify=\"left\"]': {\n            'text-align': 'left'\n        },\n        'mjx-container[jax=\"CHTML\"][justify=\"right\"]': {\n            'text-align': 'right'\n        }\n    };\n    return CHTMLmath;\n}((0, math_js_1.CommonMathMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmath = CHTMLmath;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmenclose = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar menclose_js_1 = require(\"../../common/Wrappers/menclose.js\");\nvar Notation = __importStar(require(\"../Notation.js\"));\nvar menclose_js_2 = require(\"../../../core/MmlTree/MmlNodes/menclose.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nfunction Angle(x, y) {\n    return Math.atan2(x, y).toFixed(3).replace(/\\.?0+$/, '');\n}\nvar ANGLE = Angle(Notation.ARROWDX, Notation.ARROWY);\nvar CHTMLmenclose = (function (_super) {\n    __extends(CHTMLmenclose, _super);\n    function CHTMLmenclose() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmenclose.prototype.toCHTML = function (parent) {\n        var e_1, _a, e_2, _b;\n        var adaptor = this.adaptor;\n        var chtml = this.standardCHTMLnode(parent);\n        var block = adaptor.append(chtml, this.html('mjx-box'));\n        if (this.renderChild) {\n            this.renderChild(this, block);\n        }\n        else {\n            this.childNodes[0].toCHTML(block);\n        }\n        try {\n            for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var name_1 = _d.value;\n                var notation = this.notations[name_1];\n                !notation.renderChild && notation.renderer(this, block);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var pbox = this.getPadding();\n        try {\n            for (var _e = __values(Notation.sideNames), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var name_2 = _f.value;\n                var i = Notation.sideIndex[name_2];\n                pbox[i] > 0 && adaptor.setStyle(block, 'padding-' + name_2, this.em(pbox[i]));\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    CHTMLmenclose.prototype.arrow = function (w, a, double, offset, dist) {\n        if (offset === void 0) { offset = ''; }\n        if (dist === void 0) { dist = 0; }\n        var W = this.getBBox().w;\n        var style = { width: this.em(w) };\n        if (W !== w) {\n            style.left = this.em((W - w) / 2);\n        }\n        if (a) {\n            style.transform = 'rotate(' + this.fixed(a) + 'rad)';\n        }\n        var arrow = this.html('mjx-arrow', { style: style }, [\n            this.html('mjx-aline'), this.html('mjx-rthead'), this.html('mjx-rbhead')\n        ]);\n        if (double) {\n            this.adaptor.append(arrow, this.html('mjx-lthead'));\n            this.adaptor.append(arrow, this.html('mjx-lbhead'));\n            this.adaptor.setAttribute(arrow, 'double', 'true');\n        }\n        this.adjustArrow(arrow, double);\n        this.moveArrow(arrow, offset, dist);\n        return arrow;\n    };\n    CHTMLmenclose.prototype.adjustArrow = function (arrow, double) {\n        var _this = this;\n        var t = this.thickness;\n        var head = this.arrowhead;\n        if (head.x === Notation.ARROWX && head.y === Notation.ARROWY &&\n            head.dx === Notation.ARROWDX && t === Notation.THICKNESS)\n            return;\n        var _a = __read([t * head.x, t * head.y].map(function (x) { return _this.em(x); }), 2), x = _a[0], y = _a[1];\n        var a = Angle(head.dx, head.y);\n        var _b = __read(this.adaptor.childNodes(arrow), 5), line = _b[0], rthead = _b[1], rbhead = _b[2], lthead = _b[3], lbhead = _b[4];\n        this.adjustHead(rthead, [y, '0', '1px', x], a);\n        this.adjustHead(rbhead, ['1px', '0', y, x], '-' + a);\n        this.adjustHead(lthead, [y, x, '1px', '0'], '-' + a);\n        this.adjustHead(lbhead, ['1px', x, y, '0'], a);\n        this.adjustLine(line, t, head.x, double);\n    };\n    CHTMLmenclose.prototype.adjustHead = function (head, border, a) {\n        if (head) {\n            this.adaptor.setStyle(head, 'border-width', border.join(' '));\n            this.adaptor.setStyle(head, 'transform', 'skewX(' + a + 'rad)');\n        }\n    };\n    CHTMLmenclose.prototype.adjustLine = function (line, t, x, double) {\n        this.adaptor.setStyle(line, 'borderTop', this.em(t) + ' solid');\n        this.adaptor.setStyle(line, 'top', this.em(-t / 2));\n        this.adaptor.setStyle(line, 'right', this.em(t * (x - 1)));\n        if (double) {\n            this.adaptor.setStyle(line, 'left', this.em(t * (x - 1)));\n        }\n    };\n    CHTMLmenclose.prototype.moveArrow = function (arrow, offset, d) {\n        if (!d)\n            return;\n        var transform = this.adaptor.getStyle(arrow, 'transform');\n        this.adaptor.setStyle(arrow, 'transform', \"translate\".concat(offset, \"(\").concat(this.em(-d), \")\").concat((transform ? ' ' + transform : '')));\n    };\n    CHTMLmenclose.prototype.adjustBorder = function (node) {\n        if (this.thickness !== Notation.THICKNESS) {\n            this.adaptor.setStyle(node, 'borderWidth', this.em(this.thickness));\n        }\n        return node;\n    };\n    CHTMLmenclose.prototype.adjustThickness = function (shape) {\n        if (this.thickness !== Notation.THICKNESS) {\n            this.adaptor.setStyle(shape, 'strokeWidth', this.fixed(this.thickness));\n        }\n        return shape;\n    };\n    CHTMLmenclose.prototype.fixed = function (m, n) {\n        if (n === void 0) { n = 3; }\n        if (Math.abs(m) < .0006) {\n            return '0';\n        }\n        return m.toFixed(n).replace(/\\.?0+$/, '');\n    };\n    CHTMLmenclose.prototype.em = function (m) {\n        return _super.prototype.em.call(this, m);\n    };\n    CHTMLmenclose.kind = menclose_js_2.MmlMenclose.prototype.kind;\n    CHTMLmenclose.styles = {\n        'mjx-menclose': {\n            position: 'relative'\n        },\n        'mjx-menclose > mjx-dstrike': {\n            display: 'inline-block',\n            left: 0, top: 0,\n            position: 'absolute',\n            'border-top': Notation.SOLID,\n            'transform-origin': 'top left'\n        },\n        'mjx-menclose > mjx-ustrike': {\n            display: 'inline-block',\n            left: 0, bottom: 0,\n            position: 'absolute',\n            'border-top': Notation.SOLID,\n            'transform-origin': 'bottom left'\n        },\n        'mjx-menclose > mjx-hstrike': {\n            'border-top': Notation.SOLID,\n            position: 'absolute',\n            left: 0, right: 0, bottom: '50%',\n            transform: 'translateY(' + (0, lengths_js_1.em)(Notation.THICKNESS / 2) + ')'\n        },\n        'mjx-menclose > mjx-vstrike': {\n            'border-left': Notation.SOLID,\n            position: 'absolute',\n            top: 0, bottom: 0, right: '50%',\n            transform: 'translateX(' + (0, lengths_js_1.em)(Notation.THICKNESS / 2) + ')'\n        },\n        'mjx-menclose > mjx-rbox': {\n            position: 'absolute',\n            top: 0, bottom: 0, right: 0, left: 0,\n            'border': Notation.SOLID,\n            'border-radius': (0, lengths_js_1.em)(Notation.THICKNESS + Notation.PADDING)\n        },\n        'mjx-menclose > mjx-cbox': {\n            position: 'absolute',\n            top: 0, bottom: 0, right: 0, left: 0,\n            'border': Notation.SOLID,\n            'border-radius': '50%'\n        },\n        'mjx-menclose > mjx-arrow': {\n            position: 'absolute',\n            left: 0, bottom: '50%', height: 0, width: 0\n        },\n        'mjx-menclose > mjx-arrow > *': {\n            display: 'block',\n            position: 'absolute',\n            'transform-origin': 'bottom',\n            'border-left': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWX) + ' solid',\n            'border-right': 0,\n            'box-sizing': 'border-box'\n        },\n        'mjx-menclose > mjx-arrow > mjx-aline': {\n            left: 0, top: (0, lengths_js_1.em)(-Notation.THICKNESS / 2),\n            right: (0, lengths_js_1.em)(Notation.THICKNESS * (Notation.ARROWX - 1)), height: 0,\n            'border-top': (0, lengths_js_1.em)(Notation.THICKNESS) + ' solid',\n            'border-left': 0\n        },\n        'mjx-menclose > mjx-arrow[double] > mjx-aline': {\n            left: (0, lengths_js_1.em)(Notation.THICKNESS * (Notation.ARROWX - 1)), height: 0,\n        },\n        'mjx-menclose > mjx-arrow > mjx-rthead': {\n            transform: 'skewX(' + ANGLE + 'rad)',\n            right: 0, bottom: '-1px',\n            'border-bottom': '1px solid transparent',\n            'border-top': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'\n        },\n        'mjx-menclose > mjx-arrow > mjx-rbhead': {\n            transform: 'skewX(-' + ANGLE + 'rad)',\n            'transform-origin': 'top',\n            right: 0, top: '-1px',\n            'border-top': '1px solid transparent',\n            'border-bottom': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'\n        },\n        'mjx-menclose > mjx-arrow > mjx-lthead': {\n            transform: 'skewX(-' + ANGLE + 'rad)',\n            left: 0, bottom: '-1px',\n            'border-left': 0,\n            'border-right': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWX) + ' solid',\n            'border-bottom': '1px solid transparent',\n            'border-top': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'\n        },\n        'mjx-menclose > mjx-arrow > mjx-lbhead': {\n            transform: 'skewX(' + ANGLE + 'rad)',\n            'transform-origin': 'top',\n            left: 0, top: '-1px',\n            'border-left': 0,\n            'border-right': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWX) + ' solid',\n            'border-top': '1px solid transparent',\n            'border-bottom': (0, lengths_js_1.em)(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'\n        },\n        'mjx-menclose > dbox': {\n            position: 'absolute',\n            top: 0, bottom: 0, left: (0, lengths_js_1.em)(-1.5 * Notation.PADDING),\n            width: (0, lengths_js_1.em)(3 * Notation.PADDING),\n            border: (0, lengths_js_1.em)(Notation.THICKNESS) + ' solid',\n            'border-radius': '50%',\n            'clip-path': 'inset(0 0 0 ' + (0, lengths_js_1.em)(1.5 * Notation.PADDING) + ')',\n            'box-sizing': 'border-box'\n        }\n    };\n    CHTMLmenclose.notations = new Map([\n        Notation.Border('top'),\n        Notation.Border('right'),\n        Notation.Border('bottom'),\n        Notation.Border('left'),\n        Notation.Border2('actuarial', 'top', 'right'),\n        Notation.Border2('madruwb', 'bottom', 'right'),\n        Notation.DiagonalStrike('up', 1),\n        Notation.DiagonalStrike('down', -1),\n        ['horizontalstrike', {\n                renderer: Notation.RenderElement('hstrike', 'Y'),\n                bbox: function (node) { return [0, node.padding, 0, node.padding]; }\n            }],\n        ['verticalstrike', {\n                renderer: Notation.RenderElement('vstrike', 'X'),\n                bbox: function (node) { return [node.padding, 0, node.padding, 0]; }\n            }],\n        ['box', {\n                renderer: function (node, child) {\n                    node.adaptor.setStyle(child, 'border', node.em(node.thickness) + ' solid');\n                },\n                bbox: Notation.fullBBox,\n                border: Notation.fullBorder,\n                remove: 'left right top bottom'\n            }],\n        ['roundedbox', {\n                renderer: Notation.RenderElement('rbox'),\n                bbox: Notation.fullBBox\n            }],\n        ['circle', {\n                renderer: Notation.RenderElement('cbox'),\n                bbox: Notation.fullBBox\n            }],\n        ['phasorangle', {\n                renderer: function (node, child) {\n                    var _a = node.getBBox(), h = _a.h, d = _a.d;\n                    var _b = __read(node.getArgMod(1.75 * node.padding, h + d), 2), a = _b[0], W = _b[1];\n                    var t = node.thickness * Math.sin(a) * .9;\n                    node.adaptor.setStyle(child, 'border-bottom', node.em(node.thickness) + ' solid');\n                    var strike = node.adjustBorder(node.html('mjx-ustrike', { style: {\n                            width: node.em(W),\n                            transform: 'translateX(' + node.em(t) + ') rotate(' + node.fixed(-a) + 'rad)',\n                        } }));\n                    node.adaptor.append(node.chtml, strike);\n                },\n                bbox: function (node) {\n                    var p = node.padding / 2;\n                    var t = node.thickness;\n                    return [2 * p, p, p + t, 3 * p + t];\n                },\n                border: function (node) { return [0, 0, node.thickness, 0]; },\n                remove: 'bottom'\n            }],\n        Notation.Arrow('up'),\n        Notation.Arrow('down'),\n        Notation.Arrow('left'),\n        Notation.Arrow('right'),\n        Notation.Arrow('updown'),\n        Notation.Arrow('leftright'),\n        Notation.DiagonalArrow('updiagonal'),\n        Notation.DiagonalArrow('northeast'),\n        Notation.DiagonalArrow('southeast'),\n        Notation.DiagonalArrow('northwest'),\n        Notation.DiagonalArrow('southwest'),\n        Notation.DiagonalArrow('northeastsouthwest'),\n        Notation.DiagonalArrow('northwestsoutheast'),\n        ['longdiv', {\n                renderer: function (node, child) {\n                    var adaptor = node.adaptor;\n                    adaptor.setStyle(child, 'border-top', node.em(node.thickness) + ' solid');\n                    var arc = adaptor.append(node.chtml, node.html('dbox'));\n                    var t = node.thickness;\n                    var p = node.padding;\n                    if (t !== Notation.THICKNESS) {\n                        adaptor.setStyle(arc, 'border-width', node.em(t));\n                    }\n                    if (p !== Notation.PADDING) {\n                        adaptor.setStyle(arc, 'left', node.em(-1.5 * p));\n                        adaptor.setStyle(arc, 'width', node.em(3 * p));\n                        adaptor.setStyle(arc, 'clip-path', 'inset(0 0 0 ' + node.em(1.5 * p) + ')');\n                    }\n                },\n                bbox: function (node) {\n                    var p = node.padding;\n                    var t = node.thickness;\n                    return [p + t, p, p, 2 * p + t / 2];\n                }\n            }],\n        ['radical', {\n                renderer: function (node, child) {\n                    node.msqrt.toCHTML(child);\n                    var TRBL = node.sqrtTRBL();\n                    node.adaptor.setStyle(node.msqrt.chtml, 'margin', TRBL.map(function (x) { return node.em(-x); }).join(' '));\n                },\n                init: function (node) {\n                    node.msqrt = node.createMsqrt(node.childNodes[0]);\n                },\n                bbox: function (node) { return node.sqrtTRBL(); },\n                renderChild: true\n            }]\n    ]);\n    return CHTMLmenclose;\n}((0, menclose_js_1.CommonMencloseMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmenclose = CHTMLmenclose;\n//# sourceMappingURL=menclose.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmfenced = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mfenced_js_1 = require(\"../../common/Wrappers/mfenced.js\");\nvar mfenced_js_2 = require(\"../../../core/MmlTree/MmlNodes/mfenced.js\");\nvar CHTMLmfenced = (function (_super) {\n    __extends(CHTMLmfenced, _super);\n    function CHTMLmfenced() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmfenced.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        this.mrow.toCHTML(chtml);\n    };\n    CHTMLmfenced.kind = mfenced_js_2.MmlMfenced.prototype.kind;\n    return CHTMLmfenced;\n}((0, mfenced_js_1.CommonMfencedMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmfenced = CHTMLmfenced;\n//# sourceMappingURL=mfenced.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmfrac = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mfrac_js_1 = require(\"../../common/Wrappers/mfrac.js\");\nvar mfrac_js_2 = require(\"../../../core/MmlTree/MmlNodes/mfrac.js\");\nvar CHTMLmfrac = (function (_super) {\n    __extends(CHTMLmfrac, _super);\n    function CHTMLmfrac() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmfrac.prototype.toCHTML = function (parent) {\n        this.standardCHTMLnode(parent);\n        var _a = this.node.attributes.getList('linethickness', 'bevelled'), linethickness = _a.linethickness, bevelled = _a.bevelled;\n        var display = this.isDisplay();\n        if (bevelled) {\n            this.makeBevelled(display);\n        }\n        else {\n            var thickness = this.length2em(String(linethickness), .06);\n            if (thickness === 0) {\n                this.makeAtop(display);\n            }\n            else {\n                this.makeFraction(display, thickness);\n            }\n        }\n    };\n    CHTMLmfrac.prototype.makeFraction = function (display, t) {\n        var _a = this.node.attributes.getList('numalign', 'denomalign'), numalign = _a.numalign, denomalign = _a.denomalign;\n        var withDelims = this.node.getProperty('withDelims');\n        var attr = (display ? { type: 'd' } : {});\n        var fattr = (withDelims ? __assign(__assign({}, attr), { delims: 'true' }) : __assign({}, attr));\n        var nattr = (numalign !== 'center' ? { align: numalign } : {});\n        var dattr = (denomalign !== 'center' ? { align: denomalign } : {});\n        var dsattr = __assign({}, attr), nsattr = __assign({}, attr);\n        var tex = this.font.params;\n        if (t !== .06) {\n            var a = tex.axis_height;\n            var tEm = this.em(t);\n            var _b = this.getTUV(display, t), T = _b.T, u = _b.u, v = _b.v;\n            var m = (display ? this.em(3 * t) : tEm) + ' -.1em';\n            attr.style = { height: tEm, 'border-top': tEm + ' solid', margin: m };\n            var nh = this.em(Math.max(0, u));\n            nsattr.style = { height: nh, 'vertical-align': '-' + nh };\n            dsattr.style = { height: this.em(Math.max(0, v)) };\n            fattr.style = { 'vertical-align': this.em(a - T) };\n        }\n        var num, den;\n        this.adaptor.append(this.chtml, this.html('mjx-frac', fattr, [\n            num = this.html('mjx-num', nattr, [this.html('mjx-nstrut', nsattr)]),\n            this.html('mjx-dbox', {}, [\n                this.html('mjx-dtable', {}, [\n                    this.html('mjx-line', attr),\n                    this.html('mjx-row', {}, [\n                        den = this.html('mjx-den', dattr, [this.html('mjx-dstrut', dsattr)])\n                    ])\n                ])\n            ])\n        ]));\n        this.childNodes[0].toCHTML(num);\n        this.childNodes[1].toCHTML(den);\n    };\n    CHTMLmfrac.prototype.makeAtop = function (display) {\n        var _a = this.node.attributes.getList('numalign', 'denomalign'), numalign = _a.numalign, denomalign = _a.denomalign;\n        var withDelims = this.node.getProperty('withDelims');\n        var attr = (display ? { type: 'd', atop: true } : { atop: true });\n        var fattr = (withDelims ? __assign(__assign({}, attr), { delims: true }) : __assign({}, attr));\n        var nattr = (numalign !== 'center' ? { align: numalign } : {});\n        var dattr = (denomalign !== 'center' ? { align: denomalign } : {});\n        var _b = this.getUVQ(display), v = _b.v, q = _b.q;\n        nattr.style = { 'padding-bottom': this.em(q) };\n        fattr.style = { 'vertical-align': this.em(-v) };\n        var num, den;\n        this.adaptor.append(this.chtml, this.html('mjx-frac', fattr, [\n            num = this.html('mjx-num', nattr),\n            den = this.html('mjx-den', dattr)\n        ]));\n        this.childNodes[0].toCHTML(num);\n        this.childNodes[1].toCHTML(den);\n    };\n    CHTMLmfrac.prototype.makeBevelled = function (display) {\n        var adaptor = this.adaptor;\n        adaptor.setAttribute(this.chtml, 'bevelled', 'ture');\n        var num = adaptor.append(this.chtml, this.html('mjx-num'));\n        this.childNodes[0].toCHTML(num);\n        this.bevel.toCHTML(this.chtml);\n        var den = adaptor.append(this.chtml, this.html('mjx-den'));\n        this.childNodes[1].toCHTML(den);\n        var _a = this.getBevelData(display), u = _a.u, v = _a.v, delta = _a.delta, nbox = _a.nbox, dbox = _a.dbox;\n        if (u) {\n            adaptor.setStyle(num, 'verticalAlign', this.em(u / nbox.scale));\n        }\n        if (v) {\n            adaptor.setStyle(den, 'verticalAlign', this.em(v / dbox.scale));\n        }\n        var dx = this.em(-delta / 2);\n        adaptor.setStyle(this.bevel.chtml, 'marginLeft', dx);\n        adaptor.setStyle(this.bevel.chtml, 'marginRight', dx);\n    };\n    CHTMLmfrac.kind = mfrac_js_2.MmlMfrac.prototype.kind;\n    CHTMLmfrac.styles = {\n        'mjx-frac': {\n            display: 'inline-block',\n            'vertical-align': '0.17em',\n            padding: '0 .22em'\n        },\n        'mjx-frac[type=\"d\"]': {\n            'vertical-align': '.04em'\n        },\n        'mjx-frac[delims]': {\n            padding: '0 .1em'\n        },\n        'mjx-frac[atop]': {\n            padding: '0 .12em'\n        },\n        'mjx-frac[atop][delims]': {\n            padding: '0'\n        },\n        'mjx-dtable': {\n            display: 'inline-table',\n            width: '100%'\n        },\n        'mjx-dtable > *': {\n            'font-size': '2000%'\n        },\n        'mjx-dbox': {\n            display: 'block',\n            'font-size': '5%'\n        },\n        'mjx-num': {\n            display: 'block',\n            'text-align': 'center'\n        },\n        'mjx-den': {\n            display: 'block',\n            'text-align': 'center'\n        },\n        'mjx-mfrac[bevelled] > mjx-num': {\n            display: 'inline-block'\n        },\n        'mjx-mfrac[bevelled] > mjx-den': {\n            display: 'inline-block'\n        },\n        'mjx-den[align=\"right\"], mjx-num[align=\"right\"]': {\n            'text-align': 'right'\n        },\n        'mjx-den[align=\"left\"], mjx-num[align=\"left\"]': {\n            'text-align': 'left'\n        },\n        'mjx-nstrut': {\n            display: 'inline-block',\n            height: '.054em',\n            width: 0,\n            'vertical-align': '-.054em'\n        },\n        'mjx-nstrut[type=\"d\"]': {\n            height: '.217em',\n            'vertical-align': '-.217em',\n        },\n        'mjx-dstrut': {\n            display: 'inline-block',\n            height: '.505em',\n            width: 0\n        },\n        'mjx-dstrut[type=\"d\"]': {\n            height: '.726em',\n        },\n        'mjx-line': {\n            display: 'block',\n            'box-sizing': 'border-box',\n            'min-height': '1px',\n            height: '.06em',\n            'border-top': '.06em solid',\n            margin: '.06em -.1em',\n            overflow: 'hidden'\n        },\n        'mjx-line[type=\"d\"]': {\n            margin: '.18em -.1em'\n        }\n    };\n    return CHTMLmfrac;\n}((0, mfrac_js_1.CommonMfracMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmfrac = CHTMLmfrac;\n//# sourceMappingURL=mfrac.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmglyph = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mglyph_js_1 = require(\"../../common/Wrappers/mglyph.js\");\nvar mglyph_js_2 = require(\"../../../core/MmlTree/MmlNodes/mglyph.js\");\nvar CHTMLmglyph = (function (_super) {\n    __extends(CHTMLmglyph, _super);\n    function CHTMLmglyph() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmglyph.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        if (this.charWrapper) {\n            this.charWrapper.toCHTML(chtml);\n            return;\n        }\n        var _a = this.node.attributes.getList('src', 'alt'), src = _a.src, alt = _a.alt;\n        var styles = {\n            width: this.em(this.width),\n            height: this.em(this.height)\n        };\n        if (this.valign) {\n            styles.verticalAlign = this.em(this.valign);\n        }\n        var img = this.html('img', { src: src, style: styles, alt: alt, title: alt });\n        this.adaptor.append(chtml, img);\n    };\n    CHTMLmglyph.kind = mglyph_js_2.MmlMglyph.prototype.kind;\n    CHTMLmglyph.styles = {\n        'mjx-mglyph > img': {\n            display: 'inline-block',\n            border: 0,\n            padding: 0\n        }\n    };\n    return CHTMLmglyph;\n}((0, mglyph_js_1.CommonMglyphMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmglyph = CHTMLmglyph;\n//# sourceMappingURL=mglyph.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmi = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mi_js_1 = require(\"../../common/Wrappers/mi.js\");\nvar mi_js_2 = require(\"../../../core/MmlTree/MmlNodes/mi.js\");\nvar CHTMLmi = (function (_super) {\n    __extends(CHTMLmi, _super);\n    function CHTMLmi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmi.kind = mi_js_2.MmlMi.prototype.kind;\n    return CHTMLmi;\n}((0, mi_js_1.CommonMiMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmi = CHTMLmi;\n//# sourceMappingURL=mi.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmmultiscripts = void 0;\nvar msubsup_js_1 = require(\"./msubsup.js\");\nvar mmultiscripts_js_1 = require(\"../../common/Wrappers/mmultiscripts.js\");\nvar mmultiscripts_js_2 = require(\"../../../core/MmlTree/MmlNodes/mmultiscripts.js\");\nvar string_js_1 = require(\"../../../util/string.js\");\nvar CHTMLmmultiscripts = (function (_super) {\n    __extends(CHTMLmmultiscripts, _super);\n    function CHTMLmmultiscripts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmmultiscripts.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        var data = this.scriptData;\n        var scriptalign = this.node.getProperty('scriptalign') || 'right left';\n        var _a = __read((0, string_js_1.split)(scriptalign + ' ' + scriptalign), 2), preAlign = _a[0], postAlign = _a[1];\n        var sub = this.combinePrePost(data.sub, data.psub);\n        var sup = this.combinePrePost(data.sup, data.psup);\n        var _b = __read(this.getUVQ(sub, sup), 2), u = _b[0], v = _b[1];\n        if (data.numPrescripts) {\n            var scripts = this.addScripts(u, -v, true, data.psub, data.psup, this.firstPrescript, data.numPrescripts);\n            preAlign !== 'right' && this.adaptor.setAttribute(scripts, 'script-align', preAlign);\n        }\n        this.childNodes[0].toCHTML(chtml);\n        if (data.numScripts) {\n            var scripts = this.addScripts(u, -v, false, data.sub, data.sup, 1, data.numScripts);\n            postAlign !== 'left' && this.adaptor.setAttribute(scripts, 'script-align', postAlign);\n        }\n    };\n    CHTMLmmultiscripts.prototype.addScripts = function (u, v, isPre, sub, sup, i, n) {\n        var adaptor = this.adaptor;\n        var q = (u - sup.d) + (v - sub.h);\n        var U = (u < 0 && v === 0 ? sub.h + u : u);\n        var rowdef = (q > 0 ? { style: { height: this.em(q) } } : {});\n        var tabledef = (U ? { style: { 'vertical-align': this.em(U) } } : {});\n        var supRow = this.html('mjx-row');\n        var sepRow = this.html('mjx-row', rowdef);\n        var subRow = this.html('mjx-row');\n        var name = 'mjx-' + (isPre ? 'pre' : '') + 'scripts';\n        var m = i + 2 * n;\n        while (i < m) {\n            this.childNodes[i++].toCHTML(adaptor.append(subRow, this.html('mjx-cell')));\n            this.childNodes[i++].toCHTML(adaptor.append(supRow, this.html('mjx-cell')));\n        }\n        return adaptor.append(this.chtml, this.html(name, tabledef, [supRow, sepRow, subRow]));\n    };\n    CHTMLmmultiscripts.kind = mmultiscripts_js_2.MmlMmultiscripts.prototype.kind;\n    CHTMLmmultiscripts.styles = {\n        'mjx-prescripts': {\n            display: 'inline-table',\n            'padding-left': '.05em'\n        },\n        'mjx-scripts': {\n            display: 'inline-table',\n            'padding-right': '.05em'\n        },\n        'mjx-prescripts > mjx-row > mjx-cell': {\n            'text-align': 'right'\n        },\n        '[script-align=\"left\"] > mjx-row > mjx-cell': {\n            'text-align': 'left'\n        },\n        '[script-align=\"center\"] > mjx-row > mjx-cell': {\n            'text-align': 'center'\n        },\n        '[script-align=\"right\"] > mjx-row > mjx-cell': {\n            'text-align': 'right'\n        }\n    };\n    return CHTMLmmultiscripts;\n}((0, mmultiscripts_js_1.CommonMmultiscriptsMixin)(msubsup_js_1.CHTMLmsubsup)));\nexports.CHTMLmmultiscripts = CHTMLmmultiscripts;\n//# sourceMappingURL=mmultiscripts.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmn = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mn_js_1 = require(\"../../common/Wrappers/mn.js\");\nvar mn_js_2 = require(\"../../../core/MmlTree/MmlNodes/mn.js\");\nvar CHTMLmn = (function (_super) {\n    __extends(CHTMLmn, _super);\n    function CHTMLmn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmn.kind = mn_js_2.MmlMn.prototype.kind;\n    return CHTMLmn;\n}((0, mn_js_1.CommonMnMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmn = CHTMLmn;\n//# sourceMappingURL=mn.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmo = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mo_js_1 = require(\"../../common/Wrappers/mo.js\");\nvar mo_js_2 = require(\"../../../core/MmlTree/MmlNodes/mo.js\");\nvar CHTMLmo = (function (_super) {\n    __extends(CHTMLmo, _super);\n    function CHTMLmo() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmo.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        var attributes = this.node.attributes;\n        var symmetric = attributes.get('symmetric') && this.stretch.dir !== 2;\n        var stretchy = this.stretch.dir !== 0;\n        if (stretchy && this.size === null) {\n            this.getStretchedVariant([]);\n        }\n        var chtml = this.standardCHTMLnode(parent);\n        if (stretchy && this.size < 0) {\n            this.stretchHTML(chtml);\n        }\n        else {\n            if (symmetric || attributes.get('largeop')) {\n                var u = this.em(this.getCenterOffset());\n                if (u !== '0') {\n                    this.adaptor.setStyle(chtml, 'verticalAlign', u);\n                }\n            }\n            if (this.node.getProperty('mathaccent')) {\n                this.adaptor.setStyle(chtml, 'width', '0');\n                this.adaptor.setStyle(chtml, 'margin-left', this.em(this.getAccentOffset()));\n            }\n            try {\n                for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    child.toCHTML(chtml);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n    };\n    CHTMLmo.prototype.stretchHTML = function (chtml) {\n        var c = this.getText().codePointAt(0);\n        this.font.delimUsage.add(c);\n        this.childNodes[0].markUsed();\n        var delim = this.stretch;\n        var stretch = delim.stretch;\n        var content = [];\n        if (stretch[0]) {\n            content.push(this.html('mjx-beg', {}, [this.html('mjx-c')]));\n        }\n        content.push(this.html('mjx-ext', {}, [this.html('mjx-c')]));\n        if (stretch.length === 4) {\n            content.push(this.html('mjx-mid', {}, [this.html('mjx-c')]), this.html('mjx-ext', {}, [this.html('mjx-c')]));\n        }\n        if (stretch[2]) {\n            content.push(this.html('mjx-end', {}, [this.html('mjx-c')]));\n        }\n        var styles = {};\n        var _a = this.bbox, h = _a.h, d = _a.d, w = _a.w;\n        if (delim.dir === 1) {\n            content.push(this.html('mjx-mark'));\n            styles.height = this.em(h + d);\n            styles.verticalAlign = this.em(-d);\n        }\n        else {\n            styles.width = this.em(w);\n        }\n        var dir = mo_js_1.DirectionVH[delim.dir];\n        var properties = { class: this.char(delim.c || c), style: styles };\n        var html = this.html('mjx-stretchy-' + dir, properties, content);\n        this.adaptor.append(chtml, html);\n    };\n    CHTMLmo.kind = mo_js_2.MmlMo.prototype.kind;\n    CHTMLmo.styles = {\n        'mjx-stretchy-h': {\n            display: 'inline-table',\n            width: '100%'\n        },\n        'mjx-stretchy-h > *': {\n            display: 'table-cell',\n            width: 0\n        },\n        'mjx-stretchy-h > * > mjx-c': {\n            display: 'inline-block',\n            transform: 'scalex(1.0000001)'\n        },\n        'mjx-stretchy-h > * > mjx-c::before': {\n            display: 'inline-block',\n            width: 'initial'\n        },\n        'mjx-stretchy-h > mjx-ext': {\n            '/* IE */ overflow': 'hidden',\n            '/* others */ overflow': 'clip visible',\n            width: '100%'\n        },\n        'mjx-stretchy-h > mjx-ext > mjx-c::before': {\n            transform: 'scalex(500)'\n        },\n        'mjx-stretchy-h > mjx-ext > mjx-c': {\n            width: 0\n        },\n        'mjx-stretchy-h > mjx-beg > mjx-c': {\n            'margin-right': '-.1em'\n        },\n        'mjx-stretchy-h > mjx-end > mjx-c': {\n            'margin-left': '-.1em'\n        },\n        'mjx-stretchy-v': {\n            display: 'inline-block'\n        },\n        'mjx-stretchy-v > *': {\n            display: 'block'\n        },\n        'mjx-stretchy-v > mjx-beg': {\n            height: 0\n        },\n        'mjx-stretchy-v > mjx-end > mjx-c': {\n            display: 'block'\n        },\n        'mjx-stretchy-v > * > mjx-c': {\n            transform: 'scaley(1.0000001)',\n            'transform-origin': 'left center',\n            overflow: 'hidden'\n        },\n        'mjx-stretchy-v > mjx-ext': {\n            display: 'block',\n            height: '100%',\n            'box-sizing': 'border-box',\n            border: '0px solid transparent',\n            '/* IE */ overflow': 'hidden',\n            '/* others */ overflow': 'visible clip',\n        },\n        'mjx-stretchy-v > mjx-ext > mjx-c::before': {\n            width: 'initial',\n            'box-sizing': 'border-box'\n        },\n        'mjx-stretchy-v > mjx-ext > mjx-c': {\n            transform: 'scaleY(500) translateY(.075em)',\n            overflow: 'visible'\n        },\n        'mjx-mark': {\n            display: 'inline-block',\n            height: '0px'\n        }\n    };\n    return CHTMLmo;\n}((0, mo_js_1.CommonMoMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmo = CHTMLmo;\n//# sourceMappingURL=mo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmpadded = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mpadded_js_1 = require(\"../../common/Wrappers/mpadded.js\");\nvar mpadded_js_2 = require(\"../../../core/MmlTree/MmlNodes/mpadded.js\");\nvar CHTMLmpadded = (function (_super) {\n    __extends(CHTMLmpadded, _super);\n    function CHTMLmpadded() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmpadded.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        var chtml = this.standardCHTMLnode(parent);\n        var content = [];\n        var style = {};\n        var _b = __read(this.getDimens(), 9), W = _b[2], dh = _b[3], dd = _b[4], dw = _b[5], x = _b[6], y = _b[7], dx = _b[8];\n        if (dw) {\n            style.width = this.em(W + dw);\n        }\n        if (dh || dd) {\n            style.margin = this.em(dh) + ' 0 ' + this.em(dd);\n        }\n        if (x + dx || y) {\n            style.position = 'relative';\n            var rbox = this.html('mjx-rbox', {\n                style: { left: this.em(x + dx), top: this.em(-y), 'max-width': style.width }\n            });\n            if (x + dx && this.childNodes[0].getBBox().pwidth) {\n                this.adaptor.setAttribute(rbox, 'width', 'full');\n                this.adaptor.setStyle(rbox, 'left', this.em(x));\n            }\n            content.push(rbox);\n        }\n        chtml = this.adaptor.append(chtml, this.html('mjx-block', { style: style }, content));\n        try {\n            for (var _c = __values(this.childNodes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var child = _d.value;\n                child.toCHTML(content[0] || chtml);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    CHTMLmpadded.kind = mpadded_js_2.MmlMpadded.prototype.kind;\n    CHTMLmpadded.styles = {\n        'mjx-mpadded': {\n            display: 'inline-block'\n        },\n        'mjx-rbox': {\n            display: 'inline-block',\n            position: 'relative'\n        }\n    };\n    return CHTMLmpadded;\n}((0, mpadded_js_1.CommonMpaddedMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmpadded = CHTMLmpadded;\n//# sourceMappingURL=mpadded.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmroot = void 0;\nvar msqrt_js_1 = require(\"./msqrt.js\");\nvar mroot_js_1 = require(\"../../common/Wrappers/mroot.js\");\nvar mroot_js_2 = require(\"../../../core/MmlTree/MmlNodes/mroot.js\");\nvar CHTMLmroot = (function (_super) {\n    __extends(CHTMLmroot, _super);\n    function CHTMLmroot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmroot.prototype.addRoot = function (ROOT, root, sbox, H) {\n        root.toCHTML(ROOT);\n        var _a = __read(this.getRootDimens(sbox, H), 3), x = _a[0], h = _a[1], dx = _a[2];\n        this.adaptor.setStyle(ROOT, 'verticalAlign', this.em(h));\n        this.adaptor.setStyle(ROOT, 'width', this.em(x));\n        if (dx) {\n            this.adaptor.setStyle(this.adaptor.firstChild(ROOT), 'paddingLeft', this.em(dx));\n        }\n    };\n    CHTMLmroot.kind = mroot_js_2.MmlMroot.prototype.kind;\n    return CHTMLmroot;\n}((0, mroot_js_1.CommonMrootMixin)(msqrt_js_1.CHTMLmsqrt)));\nexports.CHTMLmroot = CHTMLmroot;\n//# sourceMappingURL=mroot.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLinferredMrow = exports.CHTMLmrow = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mrow_js_1 = require(\"../../common/Wrappers/mrow.js\");\nvar mrow_js_2 = require(\"../../common/Wrappers/mrow.js\");\nvar mrow_js_3 = require(\"../../../core/MmlTree/MmlNodes/mrow.js\");\nvar CHTMLmrow = (function (_super) {\n    __extends(CHTMLmrow, _super);\n    function CHTMLmrow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmrow.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        var chtml = (this.node.isInferred ? (this.chtml = parent) : this.standardCHTMLnode(parent));\n        var hasNegative = false;\n        try {\n            for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                child.toCHTML(chtml);\n                if (child.bbox.w < 0) {\n                    hasNegative = true;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (hasNegative) {\n            var w = this.getBBox().w;\n            if (w) {\n                this.adaptor.setStyle(chtml, 'width', this.em(Math.max(0, w)));\n                if (w < 0) {\n                    this.adaptor.setStyle(chtml, 'marginRight', this.em(w));\n                }\n            }\n        }\n    };\n    CHTMLmrow.kind = mrow_js_3.MmlMrow.prototype.kind;\n    return CHTMLmrow;\n}((0, mrow_js_1.CommonMrowMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmrow = CHTMLmrow;\nvar CHTMLinferredMrow = (function (_super) {\n    __extends(CHTMLinferredMrow, _super);\n    function CHTMLinferredMrow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLinferredMrow.kind = mrow_js_3.MmlInferredMrow.prototype.kind;\n    return CHTMLinferredMrow;\n}((0, mrow_js_2.CommonInferredMrowMixin)(CHTMLmrow)));\nexports.CHTMLinferredMrow = CHTMLinferredMrow;\n//# sourceMappingURL=mrow.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLms = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar ms_js_1 = require(\"../../common/Wrappers/ms.js\");\nvar ms_js_2 = require(\"../../../core/MmlTree/MmlNodes/ms.js\");\nvar CHTMLms = (function (_super) {\n    __extends(CHTMLms, _super);\n    function CHTMLms() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLms.kind = ms_js_2.MmlMs.prototype.kind;\n    return CHTMLms;\n}((0, ms_js_1.CommonMsMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLms = CHTMLms;\n//# sourceMappingURL=ms.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmspace = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mspace_js_1 = require(\"../../common/Wrappers/mspace.js\");\nvar mspace_js_2 = require(\"../../../core/MmlTree/MmlNodes/mspace.js\");\nvar CHTMLmspace = (function (_super) {\n    __extends(CHTMLmspace, _super);\n    function CHTMLmspace() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmspace.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        var _a = this.getBBox(), w = _a.w, h = _a.h, d = _a.d;\n        if (w < 0) {\n            this.adaptor.setStyle(chtml, 'marginRight', this.em(w));\n            w = 0;\n        }\n        if (w) {\n            this.adaptor.setStyle(chtml, 'width', this.em(w));\n        }\n        h = Math.max(0, h + d);\n        if (h) {\n            this.adaptor.setStyle(chtml, 'height', this.em(Math.max(0, h)));\n        }\n        if (d) {\n            this.adaptor.setStyle(chtml, 'verticalAlign', this.em(-d));\n        }\n    };\n    CHTMLmspace.kind = mspace_js_2.MmlMspace.prototype.kind;\n    return CHTMLmspace;\n}((0, mspace_js_1.CommonMspaceMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmspace = CHTMLmspace;\n//# sourceMappingURL=mspace.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmsqrt = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar msqrt_js_1 = require(\"../../common/Wrappers/msqrt.js\");\nvar msqrt_js_2 = require(\"../../../core/MmlTree/MmlNodes/msqrt.js\");\nvar CHTMLmsqrt = (function (_super) {\n    __extends(CHTMLmsqrt, _super);\n    function CHTMLmsqrt() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmsqrt.prototype.toCHTML = function (parent) {\n        var surd = this.childNodes[this.surd];\n        var base = this.childNodes[this.base];\n        var sbox = surd.getBBox();\n        var bbox = base.getOuterBBox();\n        var _a = __read(this.getPQ(sbox), 2), q = _a[1];\n        var t = this.font.params.rule_thickness;\n        var H = bbox.h + q + t;\n        var CHTML = this.standardCHTMLnode(parent);\n        var SURD, BASE, ROOT, root;\n        if (this.root != null) {\n            ROOT = this.adaptor.append(CHTML, this.html('mjx-root'));\n            root = this.childNodes[this.root];\n        }\n        var SQRT = this.adaptor.append(CHTML, this.html('mjx-sqrt', {}, [\n            SURD = this.html('mjx-surd'),\n            BASE = this.html('mjx-box', { style: { paddingTop: this.em(q) } })\n        ]));\n        this.addRoot(ROOT, root, sbox, H);\n        surd.toCHTML(SURD);\n        base.toCHTML(BASE);\n        if (surd.size < 0) {\n            this.adaptor.addClass(SQRT, 'mjx-tall');\n        }\n    };\n    CHTMLmsqrt.prototype.addRoot = function (_ROOT, _root, _sbox, _H) {\n    };\n    CHTMLmsqrt.kind = msqrt_js_2.MmlMsqrt.prototype.kind;\n    CHTMLmsqrt.styles = {\n        'mjx-root': {\n            display: 'inline-block',\n            'white-space': 'nowrap'\n        },\n        'mjx-surd': {\n            display: 'inline-block',\n            'vertical-align': 'top'\n        },\n        'mjx-sqrt': {\n            display: 'inline-block',\n            'padding-top': '.07em'\n        },\n        'mjx-sqrt > mjx-box': {\n            'border-top': '.07em solid'\n        },\n        'mjx-sqrt.mjx-tall > mjx-box': {\n            'padding-left': '.3em',\n            'margin-left': '-.3em'\n        }\n    };\n    return CHTMLmsqrt;\n}((0, msqrt_js_1.CommonMsqrtMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmsqrt = CHTMLmsqrt;\n//# sourceMappingURL=msqrt.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmsubsup = exports.CHTMLmsup = exports.CHTMLmsub = void 0;\nvar scriptbase_js_1 = require(\"./scriptbase.js\");\nvar msubsup_js_1 = require(\"../../common/Wrappers/msubsup.js\");\nvar msubsup_js_2 = require(\"../../common/Wrappers/msubsup.js\");\nvar msubsup_js_3 = require(\"../../common/Wrappers/msubsup.js\");\nvar msubsup_js_4 = require(\"../../../core/MmlTree/MmlNodes/msubsup.js\");\nvar CHTMLmsub = (function (_super) {\n    __extends(CHTMLmsub, _super);\n    function CHTMLmsub() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmsub.kind = msubsup_js_4.MmlMsub.prototype.kind;\n    return CHTMLmsub;\n}((0, msubsup_js_1.CommonMsubMixin)(scriptbase_js_1.CHTMLscriptbase)));\nexports.CHTMLmsub = CHTMLmsub;\nvar CHTMLmsup = (function (_super) {\n    __extends(CHTMLmsup, _super);\n    function CHTMLmsup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmsup.kind = msubsup_js_4.MmlMsup.prototype.kind;\n    return CHTMLmsup;\n}((0, msubsup_js_2.CommonMsupMixin)(scriptbase_js_1.CHTMLscriptbase)));\nexports.CHTMLmsup = CHTMLmsup;\nvar CHTMLmsubsup = (function (_super) {\n    __extends(CHTMLmsubsup, _super);\n    function CHTMLmsubsup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmsubsup.prototype.toCHTML = function (parent) {\n        var adaptor = this.adaptor;\n        var chtml = this.standardCHTMLnode(parent);\n        var _a = __read([this.baseChild, this.supChild, this.subChild], 3), base = _a[0], sup = _a[1], sub = _a[2];\n        var _b = __read(this.getUVQ(), 3), v = _b[1], q = _b[2];\n        var style = { 'vertical-align': this.em(v) };\n        base.toCHTML(chtml);\n        var stack = adaptor.append(chtml, this.html('mjx-script', { style: style }));\n        sup.toCHTML(stack);\n        adaptor.append(stack, this.html('mjx-spacer', { style: { 'margin-top': this.em(q) } }));\n        sub.toCHTML(stack);\n        var ic = this.getAdjustedIc();\n        if (ic) {\n            adaptor.setStyle(sup.chtml, 'marginLeft', this.em(ic / sup.bbox.rscale));\n        }\n        if (this.baseRemoveIc) {\n            adaptor.setStyle(stack, 'marginLeft', this.em(-this.baseIc));\n        }\n    };\n    CHTMLmsubsup.kind = msubsup_js_4.MmlMsubsup.prototype.kind;\n    CHTMLmsubsup.styles = {\n        'mjx-script': {\n            display: 'inline-block',\n            'padding-right': '.05em',\n            'padding-left': '.033em'\n        },\n        'mjx-script > mjx-spacer': {\n            display: 'block'\n        }\n    };\n    return CHTMLmsubsup;\n}((0, msubsup_js_3.CommonMsubsupMixin)(scriptbase_js_1.CHTMLscriptbase)));\nexports.CHTMLmsubsup = CHTMLmsubsup;\n//# sourceMappingURL=msubsup.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmtable = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mtable_js_1 = require(\"../../common/Wrappers/mtable.js\");\nvar mtable_js_2 = require(\"../../../core/MmlTree/MmlNodes/mtable.js\");\nvar string_js_1 = require(\"../../../util/string.js\");\nvar CHTMLmtable = (function (_super) {\n    __extends(CHTMLmtable, _super);\n    function CHTMLmtable(factory, node, parent) {\n        if (parent === void 0) { parent = null; }\n        var _this = _super.call(this, factory, node, parent) || this;\n        _this.itable = _this.html('mjx-itable');\n        _this.labels = _this.html('mjx-itable');\n        return _this;\n    }\n    CHTMLmtable.prototype.getAlignShift = function () {\n        var data = _super.prototype.getAlignShift.call(this);\n        if (!this.isTop) {\n            data[1] = 0;\n        }\n        return data;\n    };\n    CHTMLmtable.prototype.toCHTML = function (parent) {\n        var e_1, _a;\n        var chtml = this.standardCHTMLnode(parent);\n        this.adaptor.append(chtml, this.html('mjx-table', {}, [this.itable]));\n        try {\n            for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                child.toCHTML(this.itable);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.padRows();\n        this.handleColumnSpacing();\n        this.handleColumnLines();\n        this.handleColumnWidths();\n        this.handleRowSpacing();\n        this.handleRowLines();\n        this.handleRowHeights();\n        this.handleFrame();\n        this.handleWidth();\n        this.handleLabels();\n        this.handleAlign();\n        this.handleJustify();\n        this.shiftColor();\n    };\n    CHTMLmtable.prototype.shiftColor = function () {\n        var adaptor = this.adaptor;\n        var color = adaptor.getStyle(this.chtml, 'backgroundColor');\n        if (color) {\n            adaptor.setStyle(this.chtml, 'backgroundColor', '');\n            adaptor.setStyle(this.itable, 'backgroundColor', color);\n        }\n    };\n    CHTMLmtable.prototype.padRows = function () {\n        var e_2, _a;\n        var adaptor = this.adaptor;\n        try {\n            for (var _b = __values(adaptor.childNodes(this.itable)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var row = _c.value;\n                while (adaptor.childNodes(row).length < this.numCols) {\n                    adaptor.append(row, this.html('mjx-mtd', { 'extra': true }));\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleColumnSpacing = function () {\n        var e_3, _a, e_4, _b;\n        var scale = (this.childNodes[0] ? 1 / this.childNodes[0].getBBox().rscale : 1);\n        var spacing = this.getEmHalfSpacing(this.fSpace[0], this.cSpace, scale);\n        var frame = this.frame;\n        try {\n            for (var _c = __values(this.tableRows), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var row = _d.value;\n                var i = 0;\n                try {\n                    for (var _e = (e_4 = void 0, __values(row.tableCells)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var cell = _f.value;\n                        var lspace = spacing[i++];\n                        var rspace = spacing[i];\n                        var styleNode = (cell ? cell.chtml : this.adaptor.childNodes(row.chtml)[i]);\n                        if ((i > 1 && lspace !== '0.4em') || (frame && i === 1)) {\n                            this.adaptor.setStyle(styleNode, 'paddingLeft', lspace);\n                        }\n                        if ((i < this.numCols && rspace !== '0.4em') || (frame && i === this.numCols)) {\n                            this.adaptor.setStyle(styleNode, 'paddingRight', rspace);\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleColumnLines = function () {\n        var e_5, _a, e_6, _b;\n        if (this.node.attributes.get('columnlines') === 'none')\n            return;\n        var lines = this.getColumnAttributes('columnlines');\n        try {\n            for (var _c = __values(this.childNodes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var row = _d.value;\n                var i = 0;\n                try {\n                    for (var _e = (e_6 = void 0, __values(this.adaptor.childNodes(row.chtml).slice(1))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var cell = _f.value;\n                        var line = lines[i++];\n                        if (line === 'none')\n                            continue;\n                        this.adaptor.setStyle(cell, 'borderLeft', '.07em ' + line);\n                    }\n                }\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_6) throw e_6.error; }\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleColumnWidths = function () {\n        var e_7, _a, e_8, _b;\n        try {\n            for (var _c = __values(this.childNodes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var row = _d.value;\n                var i = 0;\n                try {\n                    for (var _e = (e_8 = void 0, __values(this.adaptor.childNodes(row.chtml))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var cell = _f.value;\n                        var w = this.cWidths[i++];\n                        if (w !== null) {\n                            var width = (typeof w === 'number' ? this.em(w) : w);\n                            this.adaptor.setStyle(cell, 'width', width);\n                            this.adaptor.setStyle(cell, 'maxWidth', width);\n                            this.adaptor.setStyle(cell, 'minWidth', width);\n                        }\n                    }\n                }\n                catch (e_8_1) { e_8 = { error: e_8_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_8) throw e_8.error; }\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleRowSpacing = function () {\n        var e_9, _a, e_10, _b;\n        var scale = (this.childNodes[0] ? 1 / this.childNodes[0].getBBox().rscale : 1);\n        var spacing = this.getEmHalfSpacing(this.fSpace[1], this.rSpace, scale);\n        var frame = this.frame;\n        var i = 0;\n        try {\n            for (var _c = __values(this.childNodes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var row = _d.value;\n                var tspace = spacing[i++];\n                var bspace = spacing[i];\n                try {\n                    for (var _e = (e_10 = void 0, __values(row.childNodes)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var cell = _f.value;\n                        if ((i > 1 && tspace !== '0.215em') || (frame && i === 1)) {\n                            this.adaptor.setStyle(cell.chtml, 'paddingTop', tspace);\n                        }\n                        if ((i < this.numRows && bspace !== '0.215em') || (frame && i === this.numRows)) {\n                            this.adaptor.setStyle(cell.chtml, 'paddingBottom', bspace);\n                        }\n                    }\n                }\n                catch (e_10_1) { e_10 = { error: e_10_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_10) throw e_10.error; }\n                }\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleRowLines = function () {\n        var e_11, _a, e_12, _b;\n        if (this.node.attributes.get('rowlines') === 'none')\n            return;\n        var lines = this.getRowAttributes('rowlines');\n        var i = 0;\n        try {\n            for (var _c = __values(this.childNodes.slice(1)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var row = _d.value;\n                var line = lines[i++];\n                if (line === 'none')\n                    continue;\n                try {\n                    for (var _e = (e_12 = void 0, __values(this.adaptor.childNodes(row.chtml))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var cell = _f.value;\n                        this.adaptor.setStyle(cell, 'borderTop', '.07em ' + line);\n                    }\n                }\n                catch (e_12_1) { e_12 = { error: e_12_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_12) throw e_12.error; }\n                }\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n    };\n    CHTMLmtable.prototype.handleRowHeights = function () {\n        if (this.node.attributes.get('equalrows')) {\n            this.handleEqualRows();\n        }\n    };\n    CHTMLmtable.prototype.handleEqualRows = function () {\n        var space = this.getRowHalfSpacing();\n        var _a = this.getTableData(), H = _a.H, D = _a.D, NH = _a.NH, ND = _a.ND;\n        var HD = this.getEqualRowHeight();\n        for (var i = 0; i < this.numRows; i++) {\n            var row = this.childNodes[i];\n            this.setRowHeight(row, HD + space[i] + space[i + 1] + this.rLines[i]);\n            if (HD !== NH[i] + ND[i]) {\n                this.setRowBaseline(row, HD, (HD - H[i] + D[i]) / 2);\n            }\n        }\n    };\n    CHTMLmtable.prototype.setRowHeight = function (row, HD) {\n        this.adaptor.setStyle(row.chtml, 'height', this.em(HD));\n    };\n    CHTMLmtable.prototype.setRowBaseline = function (row, HD, D) {\n        var e_13, _a;\n        var ralign = row.node.attributes.get('rowalign');\n        try {\n            for (var _b = __values(row.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var cell = _c.value;\n                if (this.setCellBaseline(cell, ralign, HD, D))\n                    break;\n            }\n        }\n        catch (e_13_1) { e_13 = { error: e_13_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_13) throw e_13.error; }\n        }\n    };\n    CHTMLmtable.prototype.setCellBaseline = function (cell, ralign, HD, D) {\n        var calign = cell.node.attributes.get('rowalign');\n        if (calign === 'baseline' || calign === 'axis') {\n            var adaptor = this.adaptor;\n            var child = adaptor.lastChild(cell.chtml);\n            adaptor.setStyle(child, 'height', this.em(HD));\n            adaptor.setStyle(child, 'verticalAlign', this.em(-D));\n            var row = cell.parent;\n            if ((!row.node.isKind('mlabeledtr') || cell !== row.childNodes[0]) &&\n                (ralign === 'baseline' || ralign === 'axis')) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CHTMLmtable.prototype.handleFrame = function () {\n        if (this.frame && this.fLine) {\n            this.adaptor.setStyle(this.itable, 'border', '.07em ' + this.node.attributes.get('frame'));\n        }\n    };\n    CHTMLmtable.prototype.handleWidth = function () {\n        var adaptor = this.adaptor;\n        var _a = this.getBBox(), w = _a.w, L = _a.L, R = _a.R;\n        adaptor.setStyle(this.chtml, 'minWidth', this.em(L + w + R));\n        var W = this.node.attributes.get('width');\n        if ((0, string_js_1.isPercent)(W)) {\n            adaptor.setStyle(this.chtml, 'width', '');\n            adaptor.setAttribute(this.chtml, 'width', 'full');\n        }\n        else if (!this.hasLabels) {\n            if (W === 'auto')\n                return;\n            W = this.em(this.length2em(W) + 2 * this.fLine);\n        }\n        var table = adaptor.firstChild(this.chtml);\n        adaptor.setStyle(table, 'width', W);\n        adaptor.setStyle(table, 'minWidth', this.em(w));\n        if (L || R) {\n            adaptor.setStyle(this.chtml, 'margin', '');\n            var style = (this.node.attributes.get('data-width-includes-label') ? 'padding' : 'margin');\n            if (L === R) {\n                adaptor.setStyle(table, style, '0 ' + this.em(R));\n            }\n            else {\n                adaptor.setStyle(table, style, '0 ' + this.em(R) + ' 0 ' + this.em(L));\n            }\n        }\n        adaptor.setAttribute(this.itable, 'width', 'full');\n    };\n    CHTMLmtable.prototype.handleAlign = function () {\n        var _a = __read(this.getAlignmentRow(), 2), align = _a[0], row = _a[1];\n        if (row === null) {\n            if (align !== 'axis') {\n                this.adaptor.setAttribute(this.chtml, 'align', align);\n            }\n        }\n        else {\n            var y = this.getVerticalPosition(row, align);\n            this.adaptor.setAttribute(this.chtml, 'align', 'top');\n            this.adaptor.setStyle(this.chtml, 'verticalAlign', this.em(y));\n        }\n    };\n    CHTMLmtable.prototype.handleJustify = function () {\n        var align = this.getAlignShift()[0];\n        if (align !== 'center') {\n            this.adaptor.setAttribute(this.chtml, 'justify', align);\n        }\n    };\n    CHTMLmtable.prototype.handleLabels = function () {\n        if (!this.hasLabels)\n            return;\n        var labels = this.labels;\n        var attributes = this.node.attributes;\n        var adaptor = this.adaptor;\n        var side = attributes.get('side');\n        adaptor.setAttribute(this.chtml, 'side', side);\n        adaptor.setAttribute(labels, 'align', side);\n        adaptor.setStyle(labels, side, '0');\n        var _a = __read(this.addLabelPadding(side), 2), align = _a[0], shift = _a[1];\n        if (shift) {\n            var table = adaptor.firstChild(this.chtml);\n            this.setIndent(table, align, shift);\n        }\n        this.updateRowHeights();\n        this.addLabelSpacing();\n    };\n    CHTMLmtable.prototype.addLabelPadding = function (side) {\n        var _a = __read(this.getPadAlignShift(side), 3), align = _a[1], shift = _a[2];\n        var styles = {};\n        if (side === 'right' && !this.node.attributes.get('data-width-includes-label')) {\n            var W = this.node.attributes.get('width');\n            var _b = this.getBBox(), w = _b.w, L = _b.L, R = _b.R;\n            styles.style = {\n                width: ((0, string_js_1.isPercent)(W) ? 'calc(' + W + ' + ' + this.em(L + R) + ')' : this.em(L + w + R))\n            };\n        }\n        this.adaptor.append(this.chtml, this.html('mjx-labels', styles, [this.labels]));\n        return [align, shift];\n    };\n    CHTMLmtable.prototype.updateRowHeights = function () {\n        var _a = this.getTableData(), H = _a.H, D = _a.D, NH = _a.NH, ND = _a.ND;\n        var space = this.getRowHalfSpacing();\n        for (var i = 0; i < this.numRows; i++) {\n            var row = this.childNodes[i];\n            this.setRowHeight(row, H[i] + D[i] + space[i] + space[i + 1] + this.rLines[i]);\n            if (H[i] !== NH[i] || D[i] !== ND[i]) {\n                this.setRowBaseline(row, H[i] + D[i], D[i]);\n            }\n            else if (row.node.isKind('mlabeledtr')) {\n                this.setCellBaseline(row.childNodes[0], '', H[i] + D[i], D[i]);\n            }\n        }\n    };\n    CHTMLmtable.prototype.addLabelSpacing = function () {\n        var adaptor = this.adaptor;\n        var equal = this.node.attributes.get('equalrows');\n        var _a = this.getTableData(), H = _a.H, D = _a.D;\n        var HD = (equal ? this.getEqualRowHeight() : 0);\n        var space = this.getRowHalfSpacing();\n        var h = this.fLine;\n        var current = adaptor.firstChild(this.labels);\n        for (var i = 0; i < this.numRows; i++) {\n            var row = this.childNodes[i];\n            if (row.node.isKind('mlabeledtr')) {\n                h && adaptor.insert(this.html('mjx-mtr', { style: { height: this.em(h) } }), current);\n                adaptor.setStyle(current, 'height', this.em((equal ? HD : H[i] + D[i]) + space[i] + space[i + 1]));\n                current = adaptor.next(current);\n                h = this.rLines[i];\n            }\n            else {\n                h += space[i] + (equal ? HD : H[i] + D[i]) + space[i + 1] + this.rLines[i];\n            }\n        }\n    };\n    CHTMLmtable.kind = mtable_js_2.MmlMtable.prototype.kind;\n    CHTMLmtable.styles = {\n        'mjx-mtable': {\n            'vertical-align': '.25em',\n            'text-align': 'center',\n            'position': 'relative',\n            'box-sizing': 'border-box',\n            'border-spacing': 0,\n            'border-collapse': 'collapse'\n        },\n        'mjx-mstyle[size=\"s\"] mjx-mtable': {\n            'vertical-align': '.354em'\n        },\n        'mjx-labels': {\n            position: 'absolute',\n            left: 0,\n            top: 0\n        },\n        'mjx-table': {\n            'display': 'inline-block',\n            'vertical-align': '-.5ex',\n            'box-sizing': 'border-box'\n        },\n        'mjx-table > mjx-itable': {\n            'vertical-align': 'middle',\n            'text-align': 'left',\n            'box-sizing': 'border-box'\n        },\n        'mjx-labels > mjx-itable': {\n            position: 'absolute',\n            top: 0\n        },\n        'mjx-mtable[justify=\"left\"]': {\n            'text-align': 'left'\n        },\n        'mjx-mtable[justify=\"right\"]': {\n            'text-align': 'right'\n        },\n        'mjx-mtable[justify=\"left\"][side=\"left\"]': {\n            'padding-right': '0 ! important'\n        },\n        'mjx-mtable[justify=\"left\"][side=\"right\"]': {\n            'padding-left': '0 ! important'\n        },\n        'mjx-mtable[justify=\"right\"][side=\"left\"]': {\n            'padding-right': '0 ! important'\n        },\n        'mjx-mtable[justify=\"right\"][side=\"right\"]': {\n            'padding-left': '0 ! important'\n        },\n        'mjx-mtable[align]': {\n            'vertical-align': 'baseline'\n        },\n        'mjx-mtable[align=\"top\"] > mjx-table': {\n            'vertical-align': 'top'\n        },\n        'mjx-mtable[align=\"bottom\"] > mjx-table': {\n            'vertical-align': 'bottom'\n        },\n        'mjx-mtable[side=\"right\"] mjx-labels': {\n            'min-width': '100%'\n        }\n    };\n    return CHTMLmtable;\n}((0, mtable_js_1.CommonMtableMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmtable = CHTMLmtable;\n//# sourceMappingURL=mtable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmtd = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mtd_js_1 = require(\"../../common/Wrappers/mtd.js\");\nvar mtd_js_2 = require(\"../../../core/MmlTree/MmlNodes/mtd.js\");\nvar CHTMLmtd = (function (_super) {\n    __extends(CHTMLmtd, _super);\n    function CHTMLmtd() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmtd.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n        var ralign = this.node.attributes.get('rowalign');\n        var calign = this.node.attributes.get('columnalign');\n        var palign = this.parent.node.attributes.get('rowalign');\n        if (ralign !== palign) {\n            this.adaptor.setAttribute(this.chtml, 'rowalign', ralign);\n        }\n        if (calign !== 'center' &&\n            (this.parent.kind !== 'mlabeledtr' || this !== this.parent.childNodes[0] ||\n                calign !== this.parent.parent.node.attributes.get('side'))) {\n            this.adaptor.setStyle(this.chtml, 'textAlign', calign);\n        }\n        if (this.parent.parent.node.getProperty('useHeight')) {\n            this.adaptor.append(this.chtml, this.html('mjx-tstrut'));\n        }\n    };\n    CHTMLmtd.kind = mtd_js_2.MmlMtd.prototype.kind;\n    CHTMLmtd.styles = {\n        'mjx-mtd': {\n            display: 'table-cell',\n            'text-align': 'center',\n            'padding': '.215em .4em'\n        },\n        'mjx-mtd:first-child': {\n            'padding-left': 0\n        },\n        'mjx-mtd:last-child': {\n            'padding-right': 0\n        },\n        'mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd': {\n            'padding-top': 0\n        },\n        'mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd': {\n            'padding-bottom': 0\n        },\n        'mjx-tstrut': {\n            display: 'inline-block',\n            height: '1em',\n            'vertical-align': '-.25em'\n        },\n        'mjx-labels[align=\"left\"] > mjx-mtr > mjx-mtd': {\n            'text-align': 'left'\n        },\n        'mjx-labels[align=\"right\"] > mjx-mtr > mjx-mtd': {\n            'text-align': 'right'\n        },\n        'mjx-mtd[extra]': {\n            padding: 0\n        },\n        'mjx-mtd[rowalign=\"top\"]': {\n            'vertical-align': 'top'\n        },\n        'mjx-mtd[rowalign=\"center\"]': {\n            'vertical-align': 'middle'\n        },\n        'mjx-mtd[rowalign=\"bottom\"]': {\n            'vertical-align': 'bottom'\n        },\n        'mjx-mtd[rowalign=\"baseline\"]': {\n            'vertical-align': 'baseline'\n        },\n        'mjx-mtd[rowalign=\"axis\"]': {\n            'vertical-align': '.25em'\n        }\n    };\n    return CHTMLmtd;\n}((0, mtd_js_1.CommonMtdMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmtd = CHTMLmtd;\n//# sourceMappingURL=mtd.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmtext = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mtext_js_1 = require(\"../../common/Wrappers/mtext.js\");\nvar mtext_js_2 = require(\"../../../core/MmlTree/MmlNodes/mtext.js\");\nvar CHTMLmtext = (function (_super) {\n    __extends(CHTMLmtext, _super);\n    function CHTMLmtext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmtext.kind = mtext_js_2.MmlMtext.prototype.kind;\n    return CHTMLmtext;\n}((0, mtext_js_1.CommonMtextMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmtext = CHTMLmtext;\n//# sourceMappingURL=mtext.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmlabeledtr = exports.CHTMLmtr = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mtr_js_1 = require(\"../../common/Wrappers/mtr.js\");\nvar mtr_js_2 = require(\"../../common/Wrappers/mtr.js\");\nvar mtr_js_3 = require(\"../../../core/MmlTree/MmlNodes/mtr.js\");\nvar CHTMLmtr = (function (_super) {\n    __extends(CHTMLmtr, _super);\n    function CHTMLmtr() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmtr.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n        var align = this.node.attributes.get('rowalign');\n        if (align !== 'baseline') {\n            this.adaptor.setAttribute(this.chtml, 'rowalign', align);\n        }\n    };\n    CHTMLmtr.kind = mtr_js_3.MmlMtr.prototype.kind;\n    CHTMLmtr.styles = {\n        'mjx-mtr': {\n            display: 'table-row',\n        },\n        'mjx-mtr[rowalign=\"top\"] > mjx-mtd': {\n            'vertical-align': 'top'\n        },\n        'mjx-mtr[rowalign=\"center\"] > mjx-mtd': {\n            'vertical-align': 'middle'\n        },\n        'mjx-mtr[rowalign=\"bottom\"] > mjx-mtd': {\n            'vertical-align': 'bottom'\n        },\n        'mjx-mtr[rowalign=\"baseline\"] > mjx-mtd': {\n            'vertical-align': 'baseline'\n        },\n        'mjx-mtr[rowalign=\"axis\"] > mjx-mtd': {\n            'vertical-align': '.25em'\n        }\n    };\n    return CHTMLmtr;\n}((0, mtr_js_1.CommonMtrMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLmtr = CHTMLmtr;\nvar CHTMLmlabeledtr = (function (_super) {\n    __extends(CHTMLmlabeledtr, _super);\n    function CHTMLmlabeledtr() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmlabeledtr.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n        var child = this.adaptor.firstChild(this.chtml);\n        if (child) {\n            this.adaptor.remove(child);\n            var align = this.node.attributes.get('rowalign');\n            var attr = (align !== 'baseline' && align !== 'axis' ? { rowalign: align } : {});\n            var row = this.html('mjx-mtr', attr, [child]);\n            this.adaptor.append(this.parent.labels, row);\n        }\n    };\n    CHTMLmlabeledtr.prototype.markUsed = function () {\n        _super.prototype.markUsed.call(this);\n        this.jax.wrapperUsage.add(CHTMLmtr.kind);\n    };\n    CHTMLmlabeledtr.kind = mtr_js_3.MmlMlabeledtr.prototype.kind;\n    CHTMLmlabeledtr.styles = {\n        'mjx-mlabeledtr': {\n            display: 'table-row'\n        },\n        'mjx-mlabeledtr[rowalign=\"top\"] > mjx-mtd': {\n            'vertical-align': 'top'\n        },\n        'mjx-mlabeledtr[rowalign=\"center\"] > mjx-mtd': {\n            'vertical-align': 'middle'\n        },\n        'mjx-mlabeledtr[rowalign=\"bottom\"] > mjx-mtd': {\n            'vertical-align': 'bottom'\n        },\n        'mjx-mlabeledtr[rowalign=\"baseline\"] > mjx-mtd': {\n            'vertical-align': 'baseline'\n        },\n        'mjx-mlabeledtr[rowalign=\"axis\"] > mjx-mtd': {\n            'vertical-align': '.25em'\n        }\n    };\n    return CHTMLmlabeledtr;\n}((0, mtr_js_2.CommonMlabeledtrMixin)(CHTMLmtr)));\nexports.CHTMLmlabeledtr = CHTMLmlabeledtr;\n//# sourceMappingURL=mtr.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLmunderover = exports.CHTMLmover = exports.CHTMLmunder = void 0;\nvar msubsup_js_1 = require(\"./msubsup.js\");\nvar munderover_js_1 = require(\"../../common/Wrappers/munderover.js\");\nvar munderover_js_2 = require(\"../../common/Wrappers/munderover.js\");\nvar munderover_js_3 = require(\"../../common/Wrappers/munderover.js\");\nvar munderover_js_4 = require(\"../../../core/MmlTree/MmlNodes/munderover.js\");\nvar CHTMLmunder = (function (_super) {\n    __extends(CHTMLmunder, _super);\n    function CHTMLmunder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmunder.prototype.toCHTML = function (parent) {\n        if (this.hasMovableLimits()) {\n            _super.prototype.toCHTML.call(this, parent);\n            this.adaptor.setAttribute(this.chtml, 'limits', 'false');\n            return;\n        }\n        this.chtml = this.standardCHTMLnode(parent);\n        var base = this.adaptor.append(this.adaptor.append(this.chtml, this.html('mjx-row')), this.html('mjx-base'));\n        var under = this.adaptor.append(this.adaptor.append(this.chtml, this.html('mjx-row')), this.html('mjx-under'));\n        this.baseChild.toCHTML(base);\n        this.scriptChild.toCHTML(under);\n        var basebox = this.baseChild.getOuterBBox();\n        var underbox = this.scriptChild.getOuterBBox();\n        var k = this.getUnderKV(basebox, underbox)[0];\n        var delta = (this.isLineBelow ? 0 : this.getDelta(true));\n        this.adaptor.setStyle(under, 'paddingTop', this.em(k));\n        this.setDeltaW([base, under], this.getDeltaW([basebox, underbox], [0, -delta]));\n        this.adjustUnderDepth(under, underbox);\n    };\n    CHTMLmunder.kind = munderover_js_4.MmlMunder.prototype.kind;\n    CHTMLmunder.styles = {\n        'mjx-over': {\n            'text-align': 'left'\n        },\n        'mjx-munder:not([limits=\"false\"])': {\n            display: 'inline-table',\n        },\n        'mjx-munder > mjx-row': {\n            'text-align': 'left'\n        },\n        'mjx-under': {\n            'padding-bottom': '.1em'\n        }\n    };\n    return CHTMLmunder;\n}((0, munderover_js_1.CommonMunderMixin)(msubsup_js_1.CHTMLmsub)));\nexports.CHTMLmunder = CHTMLmunder;\nvar CHTMLmover = (function (_super) {\n    __extends(CHTMLmover, _super);\n    function CHTMLmover() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmover.prototype.toCHTML = function (parent) {\n        if (this.hasMovableLimits()) {\n            _super.prototype.toCHTML.call(this, parent);\n            this.adaptor.setAttribute(this.chtml, 'limits', 'false');\n            return;\n        }\n        this.chtml = this.standardCHTMLnode(parent);\n        var over = this.adaptor.append(this.chtml, this.html('mjx-over'));\n        var base = this.adaptor.append(this.chtml, this.html('mjx-base'));\n        this.scriptChild.toCHTML(over);\n        this.baseChild.toCHTML(base);\n        var overbox = this.scriptChild.getOuterBBox();\n        var basebox = this.baseChild.getOuterBBox();\n        this.adjustBaseHeight(base, basebox);\n        var k = this.getOverKU(basebox, overbox)[0];\n        var delta = (this.isLineAbove ? 0 : this.getDelta());\n        this.adaptor.setStyle(over, 'paddingBottom', this.em(k));\n        this.setDeltaW([base, over], this.getDeltaW([basebox, overbox], [0, delta]));\n        this.adjustOverDepth(over, overbox);\n    };\n    CHTMLmover.kind = munderover_js_4.MmlMover.prototype.kind;\n    CHTMLmover.styles = {\n        'mjx-mover:not([limits=\"false\"])': {\n            'padding-top': '.1em'\n        },\n        'mjx-mover:not([limits=\"false\"]) > *': {\n            display: 'block',\n            'text-align': 'left'\n        }\n    };\n    return CHTMLmover;\n}((0, munderover_js_2.CommonMoverMixin)(msubsup_js_1.CHTMLmsup)));\nexports.CHTMLmover = CHTMLmover;\nvar CHTMLmunderover = (function (_super) {\n    __extends(CHTMLmunderover, _super);\n    function CHTMLmunderover() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLmunderover.prototype.toCHTML = function (parent) {\n        if (this.hasMovableLimits()) {\n            _super.prototype.toCHTML.call(this, parent);\n            this.adaptor.setAttribute(this.chtml, 'limits', 'false');\n            return;\n        }\n        this.chtml = this.standardCHTMLnode(parent);\n        var over = this.adaptor.append(this.chtml, this.html('mjx-over'));\n        var table = this.adaptor.append(this.adaptor.append(this.chtml, this.html('mjx-box')), this.html('mjx-munder'));\n        var base = this.adaptor.append(this.adaptor.append(table, this.html('mjx-row')), this.html('mjx-base'));\n        var under = this.adaptor.append(this.adaptor.append(table, this.html('mjx-row')), this.html('mjx-under'));\n        this.overChild.toCHTML(over);\n        this.baseChild.toCHTML(base);\n        this.underChild.toCHTML(under);\n        var overbox = this.overChild.getOuterBBox();\n        var basebox = this.baseChild.getOuterBBox();\n        var underbox = this.underChild.getOuterBBox();\n        this.adjustBaseHeight(base, basebox);\n        var ok = this.getOverKU(basebox, overbox)[0];\n        var uk = this.getUnderKV(basebox, underbox)[0];\n        var delta = this.getDelta();\n        this.adaptor.setStyle(over, 'paddingBottom', this.em(ok));\n        this.adaptor.setStyle(under, 'paddingTop', this.em(uk));\n        this.setDeltaW([base, under, over], this.getDeltaW([basebox, underbox, overbox], [0, this.isLineBelow ? 0 : -delta, this.isLineAbove ? 0 : delta]));\n        this.adjustOverDepth(over, overbox);\n        this.adjustUnderDepth(under, underbox);\n    };\n    CHTMLmunderover.prototype.markUsed = function () {\n        _super.prototype.markUsed.call(this);\n        this.jax.wrapperUsage.add(msubsup_js_1.CHTMLmsubsup.kind);\n    };\n    CHTMLmunderover.kind = munderover_js_4.MmlMunderover.prototype.kind;\n    CHTMLmunderover.styles = {\n        'mjx-munderover:not([limits=\"false\"])': {\n            'padding-top': '.1em'\n        },\n        'mjx-munderover:not([limits=\"false\"]) > *': {\n            display: 'block'\n        },\n    };\n    return CHTMLmunderover;\n}((0, munderover_js_3.CommonMunderoverMixin)(msubsup_js_1.CHTMLmsubsup)));\nexports.CHTMLmunderover = CHTMLmunderover;\n//# sourceMappingURL=munderover.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLscriptbase = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar scriptbase_js_1 = require(\"../../common/Wrappers/scriptbase.js\");\nvar CHTMLscriptbase = (function (_super) {\n    __extends(CHTMLscriptbase, _super);\n    function CHTMLscriptbase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLscriptbase.prototype.toCHTML = function (parent) {\n        this.chtml = this.standardCHTMLnode(parent);\n        var _a = __read(this.getOffset(), 2), x = _a[0], v = _a[1];\n        var dx = x - (this.baseRemoveIc ? this.baseIc : 0);\n        var style = { 'vertical-align': this.em(v) };\n        if (dx) {\n            style['margin-left'] = this.em(dx);\n        }\n        this.baseChild.toCHTML(this.chtml);\n        this.scriptChild.toCHTML(this.adaptor.append(this.chtml, this.html('mjx-script', { style: style })));\n    };\n    CHTMLscriptbase.prototype.setDeltaW = function (nodes, dx) {\n        for (var i = 0; i < dx.length; i++) {\n            if (dx[i]) {\n                this.adaptor.setStyle(nodes[i], 'paddingLeft', this.em(dx[i]));\n            }\n        }\n    };\n    CHTMLscriptbase.prototype.adjustOverDepth = function (over, overbox) {\n        if (overbox.d >= 0)\n            return;\n        this.adaptor.setStyle(over, 'marginBottom', this.em(overbox.d * overbox.rscale));\n    };\n    CHTMLscriptbase.prototype.adjustUnderDepth = function (under, underbox) {\n        var e_1, _a;\n        if (underbox.d >= 0)\n            return;\n        var adaptor = this.adaptor;\n        var v = this.em(underbox.d);\n        var box = this.html('mjx-box', { style: { 'margin-bottom': v, 'vertical-align': v } });\n        try {\n            for (var _b = __values(adaptor.childNodes(adaptor.firstChild(under))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                adaptor.append(box, child);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        adaptor.append(adaptor.firstChild(under), box);\n    };\n    CHTMLscriptbase.prototype.adjustBaseHeight = function (base, basebox) {\n        if (this.node.attributes.get('accent')) {\n            var minH = this.font.params.x_height * basebox.scale;\n            if (basebox.h < minH) {\n                this.adaptor.setStyle(base, 'paddingTop', this.em(minH - basebox.h));\n                basebox.h = minH;\n            }\n        }\n    };\n    CHTMLscriptbase.kind = 'scriptbase';\n    return CHTMLscriptbase;\n}((0, scriptbase_js_1.CommonScriptbaseMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLscriptbase = CHTMLscriptbase;\n//# sourceMappingURL=scriptbase.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHTMLxml = exports.CHTMLannotationXML = exports.CHTMLannotation = exports.CHTMLsemantics = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar semantics_js_1 = require(\"../../common/Wrappers/semantics.js\");\nvar semantics_js_2 = require(\"../../../core/MmlTree/MmlNodes/semantics.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar CHTMLsemantics = (function (_super) {\n    __extends(CHTMLsemantics, _super);\n    function CHTMLsemantics() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLsemantics.prototype.toCHTML = function (parent) {\n        var chtml = this.standardCHTMLnode(parent);\n        if (this.childNodes.length) {\n            this.childNodes[0].toCHTML(chtml);\n        }\n    };\n    CHTMLsemantics.kind = semantics_js_2.MmlSemantics.prototype.kind;\n    return CHTMLsemantics;\n}((0, semantics_js_1.CommonSemanticsMixin)(Wrapper_js_1.CHTMLWrapper)));\nexports.CHTMLsemantics = CHTMLsemantics;\nvar CHTMLannotation = (function (_super) {\n    __extends(CHTMLannotation, _super);\n    function CHTMLannotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLannotation.prototype.toCHTML = function (parent) {\n        _super.prototype.toCHTML.call(this, parent);\n    };\n    CHTMLannotation.prototype.computeBBox = function () {\n        return this.bbox;\n    };\n    CHTMLannotation.kind = semantics_js_2.MmlAnnotation.prototype.kind;\n    return CHTMLannotation;\n}(Wrapper_js_1.CHTMLWrapper));\nexports.CHTMLannotation = CHTMLannotation;\nvar CHTMLannotationXML = (function (_super) {\n    __extends(CHTMLannotationXML, _super);\n    function CHTMLannotationXML() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLannotationXML.kind = semantics_js_2.MmlAnnotationXML.prototype.kind;\n    CHTMLannotationXML.styles = {\n        'mjx-annotation-xml': {\n            'font-family': 'initial',\n            'line-height': 'normal'\n        }\n    };\n    return CHTMLannotationXML;\n}(Wrapper_js_1.CHTMLWrapper));\nexports.CHTMLannotationXML = CHTMLannotationXML;\nvar CHTMLxml = (function (_super) {\n    __extends(CHTMLxml, _super);\n    function CHTMLxml() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CHTMLxml.prototype.toCHTML = function (parent) {\n        this.chtml = this.adaptor.append(parent, this.adaptor.clone(this.node.getXML()));\n    };\n    CHTMLxml.prototype.computeBBox = function (bbox, _recompute) {\n        if (_recompute === void 0) { _recompute = false; }\n        var _a = this.jax.measureXMLnode(this.node.getXML()), w = _a.w, h = _a.h, d = _a.d;\n        bbox.w = w;\n        bbox.h = h;\n        bbox.d = d;\n    };\n    CHTMLxml.prototype.getStyles = function () { };\n    CHTMLxml.prototype.getScale = function () { };\n    CHTMLxml.prototype.getVariant = function () { };\n    CHTMLxml.kind = MmlNode_js_1.XMLNode.prototype.kind;\n    CHTMLxml.autoStyle = false;\n    return CHTMLxml;\n}(Wrapper_js_1.CHTMLWrapper));\nexports.CHTMLxml = CHTMLxml;\n//# sourceMappingURL=semantics.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonArrow = exports.CommonDiagonalArrow = exports.CommonDiagonalStrike = exports.CommonBorder2 = exports.CommonBorder = exports.arrowBBox = exports.diagonalArrowDef = exports.arrowDef = exports.arrowBBoxW = exports.arrowBBoxHD = exports.arrowHead = exports.fullBorder = exports.fullPadding = exports.fullBBox = exports.sideNames = exports.sideIndex = exports.SOLID = exports.PADDING = exports.THICKNESS = exports.ARROWY = exports.ARROWDX = exports.ARROWX = void 0;\nexports.ARROWX = 4, exports.ARROWDX = 1, exports.ARROWY = 2;\nexports.THICKNESS = .067;\nexports.PADDING = .2;\nexports.SOLID = exports.THICKNESS + 'em solid';\nexports.sideIndex = { top: 0, right: 1, bottom: 2, left: 3 };\nexports.sideNames = Object.keys(exports.sideIndex);\nexports.fullBBox = (function (node) { return new Array(4).fill(node.thickness + node.padding); });\nexports.fullPadding = (function (node) { return new Array(4).fill(node.padding); });\nexports.fullBorder = (function (node) { return new Array(4).fill(node.thickness); });\nvar arrowHead = function (node) {\n    return Math.max(node.padding, node.thickness * (node.arrowhead.x + node.arrowhead.dx + 1));\n};\nexports.arrowHead = arrowHead;\nvar arrowBBoxHD = function (node, TRBL) {\n    if (node.childNodes[0]) {\n        var _a = node.childNodes[0].getBBox(), h = _a.h, d = _a.d;\n        TRBL[0] = TRBL[2] = Math.max(0, node.thickness * node.arrowhead.y - (h + d) / 2);\n    }\n    return TRBL;\n};\nexports.arrowBBoxHD = arrowBBoxHD;\nvar arrowBBoxW = function (node, TRBL) {\n    if (node.childNodes[0]) {\n        var w = node.childNodes[0].getBBox().w;\n        TRBL[1] = TRBL[3] = Math.max(0, node.thickness * node.arrowhead.y - w / 2);\n    }\n    return TRBL;\n};\nexports.arrowBBoxW = arrowBBoxW;\nexports.arrowDef = {\n    up: [-Math.PI / 2, false, true, 'verticalstrike'],\n    down: [Math.PI / 2, false, true, 'verticakstrike'],\n    right: [0, false, false, 'horizontalstrike'],\n    left: [Math.PI, false, false, 'horizontalstrike'],\n    updown: [Math.PI / 2, true, true, 'verticalstrike uparrow downarrow'],\n    leftright: [0, true, false, 'horizontalstrike leftarrow rightarrow']\n};\nexports.diagonalArrowDef = {\n    updiagonal: [-1, 0, false, 'updiagonalstrike northeastarrow'],\n    northeast: [-1, 0, false, 'updiagonalstrike updiagonalarrow'],\n    southeast: [1, 0, false, 'downdiagonalstrike'],\n    northwest: [1, Math.PI, false, 'downdiagonalstrike'],\n    southwest: [-1, Math.PI, false, 'updiagonalstrike'],\n    northeastsouthwest: [-1, 0, true, 'updiagonalstrike northeastarrow updiagonalarrow southwestarrow'],\n    northwestsoutheast: [1, 0, true, 'downdiagonalstrike northwestarrow southeastarrow']\n};\nexports.arrowBBox = {\n    up: function (node) { return (0, exports.arrowBBoxW)(node, [(0, exports.arrowHead)(node), 0, node.padding, 0]); },\n    down: function (node) { return (0, exports.arrowBBoxW)(node, [node.padding, 0, (0, exports.arrowHead)(node), 0]); },\n    right: function (node) { return (0, exports.arrowBBoxHD)(node, [0, (0, exports.arrowHead)(node), 0, node.padding]); },\n    left: function (node) { return (0, exports.arrowBBoxHD)(node, [0, node.padding, 0, (0, exports.arrowHead)(node)]); },\n    updown: function (node) { return (0, exports.arrowBBoxW)(node, [(0, exports.arrowHead)(node), 0, (0, exports.arrowHead)(node), 0]); },\n    leftright: function (node) { return (0, exports.arrowBBoxHD)(node, [0, (0, exports.arrowHead)(node), 0, (0, exports.arrowHead)(node)]); }\n};\nvar CommonBorder = function (render) {\n    return function (side) {\n        var i = exports.sideIndex[side];\n        return [side, {\n                renderer: render,\n                bbox: function (node) {\n                    var bbox = [0, 0, 0, 0];\n                    bbox[i] = node.thickness + node.padding;\n                    return bbox;\n                },\n                border: function (node) {\n                    var bbox = [0, 0, 0, 0];\n                    bbox[i] = node.thickness;\n                    return bbox;\n                }\n            }];\n    };\n};\nexports.CommonBorder = CommonBorder;\nvar CommonBorder2 = function (render) {\n    return function (name, side1, side2) {\n        var i1 = exports.sideIndex[side1];\n        var i2 = exports.sideIndex[side2];\n        return [name, {\n                renderer: render,\n                bbox: function (node) {\n                    var t = node.thickness + node.padding;\n                    var bbox = [0, 0, 0, 0];\n                    bbox[i1] = bbox[i2] = t;\n                    return bbox;\n                },\n                border: function (node) {\n                    var bbox = [0, 0, 0, 0];\n                    bbox[i1] = bbox[i2] = node.thickness;\n                    return bbox;\n                },\n                remove: side1 + ' ' + side2\n            }];\n    };\n};\nexports.CommonBorder2 = CommonBorder2;\nvar CommonDiagonalStrike = function (render) {\n    return function (name) {\n        var cname = 'mjx-' + name.charAt(0) + 'strike';\n        return [name + 'diagonalstrike', {\n                renderer: render(cname),\n                bbox: exports.fullBBox\n            }];\n    };\n};\nexports.CommonDiagonalStrike = CommonDiagonalStrike;\nvar CommonDiagonalArrow = function (render) {\n    return function (name) {\n        var _a = __read(exports.diagonalArrowDef[name], 4), c = _a[0], pi = _a[1], double = _a[2], remove = _a[3];\n        return [name + 'arrow', {\n                renderer: function (node, _child) {\n                    var _a = __read(node.arrowAW(), 2), a = _a[0], W = _a[1];\n                    var arrow = node.arrow(W, c * (a - pi), double);\n                    render(node, arrow);\n                },\n                bbox: function (node) {\n                    var _a = node.arrowData(), a = _a.a, x = _a.x, y = _a.y;\n                    var _b = __read([node.arrowhead.x, node.arrowhead.y, node.arrowhead.dx], 3), ax = _b[0], ay = _b[1], adx = _b[2];\n                    var _c = __read(node.getArgMod(ax + adx, ay), 2), b = _c[0], ar = _c[1];\n                    var dy = y + (b > a ? node.thickness * ar * Math.sin(b - a) : 0);\n                    var dx = x + (b > Math.PI / 2 - a ? node.thickness * ar * Math.sin(b + a - Math.PI / 2) : 0);\n                    return [dy, dx, dy, dx];\n                },\n                remove: remove\n            }];\n    };\n};\nexports.CommonDiagonalArrow = CommonDiagonalArrow;\nvar CommonArrow = function (render) {\n    return function (name) {\n        var _a = __read(exports.arrowDef[name], 4), angle = _a[0], double = _a[1], isVertical = _a[2], remove = _a[3];\n        return [name + 'arrow', {\n                renderer: function (node, _child) {\n                    var _a = node.getBBox(), w = _a.w, h = _a.h, d = _a.d;\n                    var _b = __read((isVertical ? [h + d, 'X'] : [w, 'Y']), 2), W = _b[0], offset = _b[1];\n                    var dd = node.getOffset(offset);\n                    var arrow = node.arrow(W, angle, double, offset, dd);\n                    render(node, arrow);\n                },\n                bbox: exports.arrowBBox[name],\n                remove: remove\n            }];\n    };\n};\nexports.CommonArrow = CommonArrow;\n//# sourceMappingURL=Notation.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonOutputJax = void 0;\nvar OutputJax_js_1 = require(\"../../core/OutputJax.js\");\nvar MathItem_js_1 = require(\"../../core/MathItem.js\");\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar lengths_js_1 = require(\"../../util/lengths.js\");\nvar Styles_js_1 = require(\"../../util/Styles.js\");\nvar StyleList_js_1 = require(\"../../util/StyleList.js\");\nvar CommonOutputJax = (function (_super) {\n    __extends(CommonOutputJax, _super);\n    function CommonOutputJax(options, defaultFactory, defaultFont) {\n        if (options === void 0) { options = null; }\n        if (defaultFactory === void 0) { defaultFactory = null; }\n        if (defaultFont === void 0) { defaultFont = null; }\n        var _this = this;\n        var _a = __read((0, Options_js_1.separateOptions)(options, defaultFont.OPTIONS), 2), jaxOptions = _a[0], fontOptions = _a[1];\n        _this = _super.call(this, jaxOptions) || this;\n        _this.factory = _this.options.wrapperFactory ||\n            new defaultFactory();\n        _this.factory.jax = _this;\n        _this.cssStyles = _this.options.cssStyles || new StyleList_js_1.CssStyles();\n        _this.font = _this.options.font || new defaultFont(fontOptions);\n        _this.unknownCache = new Map();\n        return _this;\n    }\n    CommonOutputJax.prototype.typeset = function (math, html) {\n        this.setDocument(html);\n        var node = this.createNode();\n        this.toDOM(math, node, html);\n        return node;\n    };\n    CommonOutputJax.prototype.createNode = function () {\n        var jax = this.constructor.NAME;\n        return this.html('mjx-container', { 'class': 'MathJax', jax: jax });\n    };\n    CommonOutputJax.prototype.setScale = function (node) {\n        var scale = this.math.metrics.scale * this.options.scale;\n        if (scale !== 1) {\n            this.adaptor.setStyle(node, 'fontSize', (0, lengths_js_1.percent)(scale));\n        }\n    };\n    CommonOutputJax.prototype.toDOM = function (math, node, html) {\n        if (html === void 0) { html = null; }\n        this.setDocument(html);\n        this.math = math;\n        this.pxPerEm = math.metrics.ex / this.font.params.x_height;\n        math.root.setTeXclass(null);\n        this.setScale(node);\n        this.nodeMap = new Map();\n        this.container = node;\n        this.processMath(math.root, node);\n        this.nodeMap = null;\n        this.executeFilters(this.postFilters, math, html, node);\n    };\n    CommonOutputJax.prototype.getBBox = function (math, html) {\n        this.setDocument(html);\n        this.math = math;\n        math.root.setTeXclass(null);\n        this.nodeMap = new Map();\n        var bbox = this.factory.wrap(math.root).getOuterBBox();\n        this.nodeMap = null;\n        return bbox;\n    };\n    CommonOutputJax.prototype.getMetrics = function (html) {\n        var e_1, _a;\n        this.setDocument(html);\n        var adaptor = this.adaptor;\n        var maps = this.getMetricMaps(html);\n        try {\n            for (var _b = __values(html.math), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var math = _c.value;\n                var parent_1 = adaptor.parent(math.start.node);\n                if (math.state() < MathItem_js_1.STATE.METRICS && parent_1) {\n                    var map = maps[math.display ? 1 : 0];\n                    var _d = map.get(parent_1), em = _d.em, ex = _d.ex, containerWidth = _d.containerWidth, lineWidth = _d.lineWidth, scale = _d.scale, family = _d.family;\n                    math.setMetrics(em, ex, containerWidth, lineWidth, scale);\n                    if (this.options.mtextInheritFont) {\n                        math.outputData.mtextFamily = family;\n                    }\n                    if (this.options.merrorInheritFont) {\n                        math.outputData.merrorFamily = family;\n                    }\n                    math.state(MathItem_js_1.STATE.METRICS);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    CommonOutputJax.prototype.getMetricsFor = function (node, display) {\n        var getFamily = (this.options.mtextInheritFont || this.options.merrorInheritFont);\n        var test = this.getTestElement(node, display);\n        var metrics = this.measureMetrics(test, getFamily);\n        this.adaptor.remove(test);\n        return metrics;\n    };\n    CommonOutputJax.prototype.getMetricMaps = function (html) {\n        var e_2, _a, e_3, _b, e_4, _c, e_5, _d, e_6, _e;\n        var adaptor = this.adaptor;\n        var domMaps = [new Map(), new Map()];\n        try {\n            for (var _f = __values(html.math), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var math = _g.value;\n                var node = adaptor.parent(math.start.node);\n                if (node && math.state() < MathItem_js_1.STATE.METRICS) {\n                    var map = domMaps[math.display ? 1 : 0];\n                    if (!map.has(node)) {\n                        map.set(node, this.getTestElement(node, math.display));\n                    }\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var getFamily = this.options.mtextInheritFont || this.options.merrorInheritFont;\n        var maps = [new Map(), new Map()];\n        try {\n            for (var _h = __values(maps.keys()), _j = _h.next(); !_j.done; _j = _h.next()) {\n                var i = _j.value;\n                try {\n                    for (var _k = (e_4 = void 0, __values(domMaps[i].keys())), _l = _k.next(); !_l.done; _l = _k.next()) {\n                        var node = _l.value;\n                        maps[i].set(node, this.measureMetrics(domMaps[i].get(node), getFamily));\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        try {\n            for (var _m = __values(maps.keys()), _o = _m.next(); !_o.done; _o = _m.next()) {\n                var i = _o.value;\n                try {\n                    for (var _p = (e_6 = void 0, __values(domMaps[i].values())), _q = _p.next(); !_q.done; _q = _p.next()) {\n                        var node = _q.value;\n                        adaptor.remove(node);\n                    }\n                }\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                finally {\n                    try {\n                        if (_q && !_q.done && (_e = _p.return)) _e.call(_p);\n                    }\n                    finally { if (e_6) throw e_6.error; }\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return maps;\n    };\n    CommonOutputJax.prototype.getTestElement = function (node, display) {\n        var adaptor = this.adaptor;\n        if (!this.testInline) {\n            this.testInline = this.html('mjx-test', { style: {\n                    display: 'inline-block',\n                    width: '100%',\n                    'font-style': 'normal',\n                    'font-weight': 'normal',\n                    'font-size': '100%',\n                    'font-size-adjust': 'none',\n                    'text-indent': 0,\n                    'text-transform': 'none',\n                    'letter-spacing': 'normal',\n                    'word-spacing': 'normal',\n                    overflow: 'hidden',\n                    height: '1px',\n                    'margin-right': '-1px'\n                } }, [\n                this.html('mjx-left-box', { style: {\n                        display: 'inline-block',\n                        width: 0,\n                        'float': 'left'\n                    } }),\n                this.html('mjx-ex-box', { style: {\n                        position: 'absolute',\n                        overflow: 'hidden',\n                        width: '1px', height: '60ex'\n                    } }),\n                this.html('mjx-right-box', { style: {\n                        display: 'inline-block',\n                        width: 0,\n                        'float': 'right'\n                    } })\n            ]);\n            this.testDisplay = adaptor.clone(this.testInline);\n            adaptor.setStyle(this.testDisplay, 'display', 'table');\n            adaptor.setStyle(this.testDisplay, 'margin-right', '');\n            adaptor.setStyle(adaptor.firstChild(this.testDisplay), 'display', 'none');\n            var right = adaptor.lastChild(this.testDisplay);\n            adaptor.setStyle(right, 'display', 'table-cell');\n            adaptor.setStyle(right, 'width', '10000em');\n            adaptor.setStyle(right, 'float', '');\n        }\n        return adaptor.append(node, adaptor.clone(display ? this.testDisplay : this.testInline));\n    };\n    CommonOutputJax.prototype.measureMetrics = function (node, getFamily) {\n        var adaptor = this.adaptor;\n        var family = (getFamily ? adaptor.fontFamily(node) : '');\n        var em = adaptor.fontSize(node);\n        var _a = __read(adaptor.nodeSize(adaptor.childNode(node, 1)), 2), w = _a[0], h = _a[1];\n        var ex = (w ? h / 60 : em * this.options.exFactor);\n        var containerWidth = (!w ? 1000000 : adaptor.getStyle(node, 'display') === 'table' ?\n            adaptor.nodeSize(adaptor.lastChild(node))[0] - 1 :\n            adaptor.nodeBBox(adaptor.lastChild(node)).left -\n                adaptor.nodeBBox(adaptor.firstChild(node)).left - 2);\n        var scale = Math.max(this.options.minScale, this.options.matchFontHeight ? ex / this.font.params.x_height / em : 1);\n        var lineWidth = 1000000;\n        return { em: em, ex: ex, containerWidth: containerWidth, lineWidth: lineWidth, scale: scale, family: family };\n    };\n    CommonOutputJax.prototype.styleSheet = function (html) {\n        var e_7, _a;\n        this.setDocument(html);\n        this.cssStyles.clear();\n        this.cssStyles.addStyles(this.constructor.commonStyles);\n        if ('getStyles' in html) {\n            try {\n                for (var _b = __values(html.getStyles()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var styles = _c.value;\n                    this.cssStyles.addStyles(styles);\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        }\n        this.addWrapperStyles(this.cssStyles);\n        this.addFontStyles(this.cssStyles);\n        var sheet = this.html('style', { id: 'MJX-styles' }, [this.text('\\n' + this.cssStyles.cssText + '\\n')]);\n        return sheet;\n    };\n    CommonOutputJax.prototype.addFontStyles = function (styles) {\n        styles.addStyles(this.font.styles);\n    };\n    CommonOutputJax.prototype.addWrapperStyles = function (styles) {\n        var e_8, _a;\n        try {\n            for (var _b = __values(this.factory.getKinds()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var kind = _c.value;\n                this.addClassStyles(this.factory.getNodeClass(kind), styles);\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n    };\n    CommonOutputJax.prototype.addClassStyles = function (CLASS, styles) {\n        styles.addStyles(CLASS.styles);\n    };\n    CommonOutputJax.prototype.setDocument = function (html) {\n        if (html) {\n            this.document = html;\n            this.adaptor.document = html.document;\n        }\n    };\n    CommonOutputJax.prototype.html = function (type, def, content, ns) {\n        if (def === void 0) { def = {}; }\n        if (content === void 0) { content = []; }\n        return this.adaptor.node(type, def, content, ns);\n    };\n    CommonOutputJax.prototype.text = function (text) {\n        return this.adaptor.text(text);\n    };\n    CommonOutputJax.prototype.fixed = function (m, n) {\n        if (n === void 0) { n = 3; }\n        if (Math.abs(m) < .0006) {\n            return '0';\n        }\n        return m.toFixed(n).replace(/\\.?0+$/, '');\n    };\n    CommonOutputJax.prototype.measureText = function (text, variant, font) {\n        if (font === void 0) { font = ['', false, false]; }\n        var node = this.unknownText(text, variant);\n        if (variant === '-explicitFont') {\n            var styles = this.cssFontStyles(font);\n            this.adaptor.setAttributes(node, { style: styles });\n        }\n        return this.measureTextNodeWithCache(node, text, variant, font);\n    };\n    CommonOutputJax.prototype.measureTextNodeWithCache = function (text, chars, variant, font) {\n        if (font === void 0) { font = ['', false, false]; }\n        if (variant === '-explicitFont') {\n            variant = [font[0], font[1] ? 'T' : 'F', font[2] ? 'T' : 'F', ''].join('-');\n        }\n        if (!this.unknownCache.has(variant)) {\n            this.unknownCache.set(variant, new Map());\n        }\n        var map = this.unknownCache.get(variant);\n        var cached = map.get(chars);\n        if (cached)\n            return cached;\n        var bbox = this.measureTextNode(text);\n        map.set(chars, bbox);\n        return bbox;\n    };\n    CommonOutputJax.prototype.measureXMLnode = function (xml) {\n        var adaptor = this.adaptor;\n        var content = this.html('mjx-xml-block', { style: { display: 'inline-block' } }, [adaptor.clone(xml)]);\n        var base = this.html('mjx-baseline', { style: { display: 'inline-block', width: 0, height: 0 } });\n        var style = {\n            position: 'absolute',\n            display: 'inline-block',\n            'font-family': 'initial',\n            'line-height': 'normal'\n        };\n        var node = this.html('mjx-measure-xml', { style: style }, [base, content]);\n        adaptor.append(adaptor.parent(this.math.start.node), this.container);\n        adaptor.append(this.container, node);\n        var em = this.math.metrics.em * this.math.metrics.scale;\n        var _a = adaptor.nodeBBox(content), left = _a.left, right = _a.right, bottom = _a.bottom, top = _a.top;\n        var w = (right - left) / em;\n        var h = (adaptor.nodeBBox(base).top - top) / em;\n        var d = (bottom - top) / em - h;\n        adaptor.remove(this.container);\n        adaptor.remove(node);\n        return { w: w, h: h, d: d };\n    };\n    CommonOutputJax.prototype.cssFontStyles = function (font, styles) {\n        if (styles === void 0) { styles = {}; }\n        var _a = __read(font, 3), family = _a[0], italic = _a[1], bold = _a[2];\n        styles['font-family'] = this.font.getFamily(family);\n        if (italic)\n            styles['font-style'] = 'italic';\n        if (bold)\n            styles['font-weight'] = 'bold';\n        return styles;\n    };\n    CommonOutputJax.prototype.getFontData = function (styles) {\n        if (!styles) {\n            styles = new Styles_js_1.Styles();\n        }\n        return [this.font.getFamily(styles.get('font-family')),\n            styles.get('font-style') === 'italic',\n            styles.get('font-weight') === 'bold'];\n    };\n    CommonOutputJax.NAME = 'Common';\n    CommonOutputJax.OPTIONS = __assign(__assign({}, OutputJax_js_1.AbstractOutputJax.OPTIONS), { scale: 1, minScale: .5, mtextInheritFont: false, merrorInheritFont: false, mtextFont: '', merrorFont: 'serif', mathmlSpacing: false, skipAttributes: {}, exFactor: .5, displayAlign: 'center', displayIndent: '0', wrapperFactory: null, font: null, cssStyles: null });\n    CommonOutputJax.commonStyles = {};\n    return CommonOutputJax;\n}(OutputJax_js_1.AbstractOutputJax));\nexports.CommonOutputJax = CommonOutputJax;\n//# sourceMappingURL=OutputJax.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonWrapper = void 0;\nvar Wrapper_js_1 = require(\"../../core/Tree/Wrapper.js\");\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar string_js_1 = require(\"../../util/string.js\");\nvar LENGTHS = __importStar(require(\"../../util/lengths.js\"));\nvar Styles_js_1 = require(\"../../util/Styles.js\");\nvar BBox_js_1 = require(\"../../util/BBox.js\");\nvar FontData_js_1 = require(\"./FontData.js\");\nvar SMALLSIZE = 2 / 18;\nfunction MathMLSpace(script, size) {\n    return (script ? size < SMALLSIZE ? 0 : SMALLSIZE : size);\n}\nvar CommonWrapper = (function (_super) {\n    __extends(CommonWrapper, _super);\n    function CommonWrapper(factory, node, parent) {\n        if (parent === void 0) { parent = null; }\n        var _this = _super.call(this, factory, node) || this;\n        _this.parent = null;\n        _this.removedStyles = null;\n        _this.styles = null;\n        _this.variant = '';\n        _this.bboxComputed = false;\n        _this.stretch = FontData_js_1.NOSTRETCH;\n        _this.font = null;\n        _this.parent = parent;\n        _this.font = factory.jax.font;\n        _this.bbox = BBox_js_1.BBox.zero();\n        _this.getStyles();\n        _this.getVariant();\n        _this.getScale();\n        _this.getSpace();\n        _this.childNodes = node.childNodes.map(function (child) {\n            var wrapped = _this.wrap(child);\n            if (wrapped.bbox.pwidth && (node.notParent || node.isKind('math'))) {\n                _this.bbox.pwidth = BBox_js_1.BBox.fullWidth;\n            }\n            return wrapped;\n        });\n        return _this;\n    }\n    Object.defineProperty(CommonWrapper.prototype, \"jax\", {\n        get: function () {\n            return this.factory.jax;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CommonWrapper.prototype, \"adaptor\", {\n        get: function () {\n            return this.factory.jax.adaptor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CommonWrapper.prototype, \"metrics\", {\n        get: function () {\n            return this.factory.jax.math.metrics;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CommonWrapper.prototype, \"fixesPWidth\", {\n        get: function () {\n            return !this.node.notParent && !this.node.isToken;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CommonWrapper.prototype.wrap = function (node, parent) {\n        if (parent === void 0) { parent = null; }\n        var wrapped = this.factory.wrap(node, parent || this);\n        if (parent) {\n            parent.childNodes.push(wrapped);\n        }\n        this.jax.nodeMap.set(node, wrapped);\n        return wrapped;\n    };\n    CommonWrapper.prototype.getBBox = function (save) {\n        if (save === void 0) { save = true; }\n        if (this.bboxComputed) {\n            return this.bbox;\n        }\n        var bbox = (save ? this.bbox : BBox_js_1.BBox.zero());\n        this.computeBBox(bbox);\n        this.bboxComputed = save;\n        return bbox;\n    };\n    CommonWrapper.prototype.getOuterBBox = function (save) {\n        var e_1, _a;\n        if (save === void 0) { save = true; }\n        var bbox = this.getBBox(save);\n        if (!this.styles)\n            return bbox;\n        var obox = new BBox_js_1.BBox();\n        Object.assign(obox, bbox);\n        try {\n            for (var _b = __values(BBox_js_1.BBox.StyleAdjust), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), name_1 = _d[0], side = _d[1];\n                var x = this.styles.get(name_1);\n                if (x) {\n                    obox[side] += this.length2em(x, 1, obox.rscale);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return obox;\n    };\n    CommonWrapper.prototype.computeBBox = function (bbox, recompute) {\n        var e_2, _a;\n        if (recompute === void 0) { recompute = false; }\n        bbox.empty();\n        try {\n            for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                bbox.append(child.getOuterBBox());\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        bbox.clean();\n        if (this.fixesPWidth && this.setChildPWidths(recompute)) {\n            this.computeBBox(bbox, true);\n        }\n    };\n    CommonWrapper.prototype.setChildPWidths = function (recompute, w, clear) {\n        var e_3, _a;\n        if (w === void 0) { w = null; }\n        if (clear === void 0) { clear = true; }\n        if (recompute) {\n            return false;\n        }\n        if (clear) {\n            this.bbox.pwidth = '';\n        }\n        var changed = false;\n        try {\n            for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                var cbox = child.getOuterBBox();\n                if (cbox.pwidth && child.setChildPWidths(recompute, w === null ? cbox.w : w, clear)) {\n                    changed = true;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return changed;\n    };\n    CommonWrapper.prototype.invalidateBBox = function () {\n        if (this.bboxComputed) {\n            this.bboxComputed = false;\n            if (this.parent) {\n                this.parent.invalidateBBox();\n            }\n        }\n    };\n    CommonWrapper.prototype.copySkewIC = function (bbox) {\n        var first = this.childNodes[0];\n        if (first === null || first === void 0 ? void 0 : first.bbox.sk) {\n            bbox.sk = first.bbox.sk;\n        }\n        if (first === null || first === void 0 ? void 0 : first.bbox.dx) {\n            bbox.dx = first.bbox.dx;\n        }\n        var last = this.childNodes[this.childNodes.length - 1];\n        if (last === null || last === void 0 ? void 0 : last.bbox.ic) {\n            bbox.ic = last.bbox.ic;\n            bbox.w += bbox.ic;\n        }\n    };\n    CommonWrapper.prototype.getStyles = function () {\n        var styleString = this.node.attributes.getExplicit('style');\n        if (!styleString)\n            return;\n        var style = this.styles = new Styles_js_1.Styles(styleString);\n        for (var i = 0, m = CommonWrapper.removeStyles.length; i < m; i++) {\n            var id = CommonWrapper.removeStyles[i];\n            if (style.get(id)) {\n                if (!this.removedStyles)\n                    this.removedStyles = {};\n                this.removedStyles[id] = style.get(id);\n                style.set(id, '');\n            }\n        }\n    };\n    CommonWrapper.prototype.getVariant = function () {\n        if (!this.node.isToken)\n            return;\n        var attributes = this.node.attributes;\n        var variant = attributes.get('mathvariant');\n        if (!attributes.getExplicit('mathvariant')) {\n            var values = attributes.getList('fontfamily', 'fontweight', 'fontstyle');\n            if (this.removedStyles) {\n                var style = this.removedStyles;\n                if (style.fontFamily)\n                    values.family = style.fontFamily;\n                if (style.fontWeight)\n                    values.weight = style.fontWeight;\n                if (style.fontStyle)\n                    values.style = style.fontStyle;\n            }\n            if (values.fontfamily)\n                values.family = values.fontfamily;\n            if (values.fontweight)\n                values.weight = values.fontweight;\n            if (values.fontstyle)\n                values.style = values.fontstyle;\n            if (values.weight && values.weight.match(/^\\d+$/)) {\n                values.weight = (parseInt(values.weight) > 600 ? 'bold' : 'normal');\n            }\n            if (values.family) {\n                variant = this.explicitVariant(values.family, values.weight, values.style);\n            }\n            else {\n                if (this.node.getProperty('variantForm'))\n                    variant = '-tex-variant';\n                variant = (CommonWrapper.BOLDVARIANTS[values.weight] || {})[variant] || variant;\n                variant = (CommonWrapper.ITALICVARIANTS[values.style] || {})[variant] || variant;\n            }\n        }\n        this.variant = variant;\n    };\n    CommonWrapper.prototype.explicitVariant = function (fontFamily, fontWeight, fontStyle) {\n        var style = this.styles;\n        if (!style)\n            style = this.styles = new Styles_js_1.Styles();\n        style.set('fontFamily', fontFamily);\n        if (fontWeight)\n            style.set('fontWeight', fontWeight);\n        if (fontStyle)\n            style.set('fontStyle', fontStyle);\n        return '-explicitFont';\n    };\n    CommonWrapper.prototype.getScale = function () {\n        var scale = 1, parent = this.parent;\n        var pscale = (parent ? parent.bbox.scale : 1);\n        var attributes = this.node.attributes;\n        var scriptlevel = Math.min(attributes.get('scriptlevel'), 2);\n        var fontsize = attributes.get('fontsize');\n        var mathsize = (this.node.isToken || this.node.isKind('mstyle') ?\n            attributes.get('mathsize') : attributes.getInherited('mathsize'));\n        if (scriptlevel !== 0) {\n            scale = Math.pow(attributes.get('scriptsizemultiplier'), scriptlevel);\n            var scriptminsize = this.length2em(attributes.get('scriptminsize'), .8, 1);\n            if (scale < scriptminsize)\n                scale = scriptminsize;\n        }\n        if (this.removedStyles && this.removedStyles.fontSize && !fontsize) {\n            fontsize = this.removedStyles.fontSize;\n        }\n        if (fontsize && !attributes.getExplicit('mathsize')) {\n            mathsize = fontsize;\n        }\n        if (mathsize !== '1') {\n            scale *= this.length2em(mathsize, 1, 1);\n        }\n        this.bbox.scale = scale;\n        this.bbox.rscale = scale / pscale;\n    };\n    CommonWrapper.prototype.getSpace = function () {\n        var isTop = this.isTopEmbellished();\n        var hasSpacing = this.node.hasSpacingAttributes();\n        if (this.jax.options.mathmlSpacing || hasSpacing) {\n            isTop && this.getMathMLSpacing();\n        }\n        else {\n            this.getTeXSpacing(isTop, hasSpacing);\n        }\n    };\n    CommonWrapper.prototype.getMathMLSpacing = function () {\n        var node = this.node.coreMO();\n        var child = node.coreParent();\n        var parent = child.parent;\n        if (!parent || !parent.isKind('mrow') || parent.childNodes.length === 1)\n            return;\n        var attributes = node.attributes;\n        var isScript = (attributes.get('scriptlevel') > 0);\n        this.bbox.L = (attributes.isSet('lspace') ?\n            Math.max(0, this.length2em(attributes.get('lspace'))) :\n            MathMLSpace(isScript, node.lspace));\n        this.bbox.R = (attributes.isSet('rspace') ?\n            Math.max(0, this.length2em(attributes.get('rspace'))) :\n            MathMLSpace(isScript, node.rspace));\n        var n = parent.childIndex(child);\n        if (n === 0)\n            return;\n        var prev = parent.childNodes[n - 1];\n        if (!prev.isEmbellished)\n            return;\n        var bbox = this.jax.nodeMap.get(prev).getBBox();\n        if (bbox.R) {\n            this.bbox.L = Math.max(0, this.bbox.L - bbox.R);\n        }\n    };\n    CommonWrapper.prototype.getTeXSpacing = function (isTop, hasSpacing) {\n        if (!hasSpacing) {\n            var space = this.node.texSpacing();\n            if (space) {\n                this.bbox.L = this.length2em(space);\n            }\n        }\n        if (isTop || hasSpacing) {\n            var attributes = this.node.coreMO().attributes;\n            if (attributes.isSet('lspace')) {\n                this.bbox.L = Math.max(0, this.length2em(attributes.get('lspace')));\n            }\n            if (attributes.isSet('rspace')) {\n                this.bbox.R = Math.max(0, this.length2em(attributes.get('rspace')));\n            }\n        }\n    };\n    CommonWrapper.prototype.isTopEmbellished = function () {\n        return (this.node.isEmbellished &&\n            !(this.node.parent && this.node.parent.isEmbellished));\n    };\n    CommonWrapper.prototype.core = function () {\n        return this.jax.nodeMap.get(this.node.core());\n    };\n    CommonWrapper.prototype.coreMO = function () {\n        return this.jax.nodeMap.get(this.node.coreMO());\n    };\n    CommonWrapper.prototype.getText = function () {\n        var e_4, _a;\n        var text = '';\n        if (this.node.isToken) {\n            try {\n                for (var _b = __values(this.node.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    if (child instanceof MmlNode_js_1.TextNode) {\n                        text += child.getText();\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n        return text;\n    };\n    CommonWrapper.prototype.canStretch = function (direction) {\n        this.stretch = FontData_js_1.NOSTRETCH;\n        if (this.node.isEmbellished) {\n            var core = this.core();\n            if (core && core.node !== this.node) {\n                if (core.canStretch(direction)) {\n                    this.stretch = core.stretch;\n                }\n            }\n        }\n        return this.stretch.dir !== 0;\n    };\n    CommonWrapper.prototype.getAlignShift = function () {\n        var _a;\n        var _b = (_a = this.node.attributes).getList.apply(_a, __spreadArray([], __read(MmlNode_js_1.indentAttributes), false)), indentalign = _b.indentalign, indentshift = _b.indentshift, indentalignfirst = _b.indentalignfirst, indentshiftfirst = _b.indentshiftfirst;\n        if (indentalignfirst !== 'indentalign') {\n            indentalign = indentalignfirst;\n        }\n        if (indentalign === 'auto') {\n            indentalign = this.jax.options.displayAlign;\n        }\n        if (indentshiftfirst !== 'indentshift') {\n            indentshift = indentshiftfirst;\n        }\n        if (indentshift === 'auto') {\n            indentshift = this.jax.options.displayIndent;\n            if (indentalign === 'right' && !indentshift.match(/^\\s*0[a-z]*\\s*$/)) {\n                indentshift = ('-' + indentshift.trim()).replace(/^--/, '');\n            }\n        }\n        var shift = this.length2em(indentshift, this.metrics.containerWidth);\n        return [indentalign, shift];\n    };\n    CommonWrapper.prototype.getAlignX = function (W, bbox, align) {\n        return (align === 'right' ? W - (bbox.w + bbox.R) * bbox.rscale :\n            align === 'left' ? bbox.L * bbox.rscale :\n                (W - bbox.w * bbox.rscale) / 2);\n    };\n    CommonWrapper.prototype.getAlignY = function (H, D, h, d, align) {\n        return (align === 'top' ? H - h :\n            align === 'bottom' ? d - D :\n                align === 'center' ? ((H - h) - (D - d)) / 2 :\n                    0);\n    };\n    CommonWrapper.prototype.getWrapWidth = function (i) {\n        return this.childNodes[i].getBBox().w;\n    };\n    CommonWrapper.prototype.getChildAlign = function (_i) {\n        return 'left';\n    };\n    CommonWrapper.prototype.percent = function (m) {\n        return LENGTHS.percent(m);\n    };\n    CommonWrapper.prototype.em = function (m) {\n        return LENGTHS.em(m);\n    };\n    CommonWrapper.prototype.px = function (m, M) {\n        if (M === void 0) { M = -LENGTHS.BIGDIMEN; }\n        return LENGTHS.px(m, M, this.metrics.em);\n    };\n    CommonWrapper.prototype.length2em = function (length, size, scale) {\n        if (size === void 0) { size = 1; }\n        if (scale === void 0) { scale = null; }\n        if (scale === null) {\n            scale = this.bbox.scale;\n        }\n        return LENGTHS.length2em(length, size, scale, this.jax.pxPerEm);\n    };\n    CommonWrapper.prototype.unicodeChars = function (text, name) {\n        if (name === void 0) { name = this.variant; }\n        var chars = (0, string_js_1.unicodeChars)(text);\n        var variant = this.font.getVariant(name);\n        if (variant && variant.chars) {\n            var map_1 = variant.chars;\n            chars = chars.map(function (n) { return ((map_1[n] || [])[3] || {}).smp || n; });\n        }\n        return chars;\n    };\n    CommonWrapper.prototype.remapChars = function (chars) {\n        return chars;\n    };\n    CommonWrapper.prototype.mmlText = function (text) {\n        return this.node.factory.create('text').setText(text);\n    };\n    CommonWrapper.prototype.mmlNode = function (kind, properties, children) {\n        if (properties === void 0) { properties = {}; }\n        if (children === void 0) { children = []; }\n        return this.node.factory.create(kind, properties, children);\n    };\n    CommonWrapper.prototype.createMo = function (text) {\n        var mmlFactory = this.node.factory;\n        var textNode = mmlFactory.create('text').setText(text);\n        var mml = mmlFactory.create('mo', { stretchy: true }, [textNode]);\n        mml.inheritAttributesFrom(this.node);\n        var node = this.wrap(mml);\n        node.parent = this;\n        return node;\n    };\n    CommonWrapper.prototype.getVariantChar = function (variant, n) {\n        var char = this.font.getChar(variant, n) || [0, 0, 0, { unknown: true }];\n        if (char.length === 3) {\n            char[3] = {};\n        }\n        return char;\n    };\n    CommonWrapper.kind = 'unknown';\n    CommonWrapper.styles = {};\n    CommonWrapper.removeStyles = [\n        'fontSize', 'fontFamily', 'fontWeight',\n        'fontStyle', 'fontVariant', 'font'\n    ];\n    CommonWrapper.skipAttributes = {\n        fontfamily: true, fontsize: true, fontweight: true, fontstyle: true,\n        color: true, background: true,\n        'class': true, href: true, style: true,\n        xmlns: true\n    };\n    CommonWrapper.BOLDVARIANTS = {\n        bold: {\n            normal: 'bold',\n            italic: 'bold-italic',\n            fraktur: 'bold-fraktur',\n            script: 'bold-script',\n            'sans-serif': 'bold-sans-serif',\n            'sans-serif-italic': 'sans-serif-bold-italic'\n        },\n        normal: {\n            bold: 'normal',\n            'bold-italic': 'italic',\n            'bold-fraktur': 'fraktur',\n            'bold-script': 'script',\n            'bold-sans-serif': 'sans-serif',\n            'sans-serif-bold-italic': 'sans-serif-italic'\n        }\n    };\n    CommonWrapper.ITALICVARIANTS = {\n        italic: {\n            normal: 'italic',\n            bold: 'bold-italic',\n            'sans-serif': 'sans-serif-italic',\n            'bold-sans-serif': 'sans-serif-bold-italic'\n        },\n        normal: {\n            italic: 'normal',\n            'bold-italic': 'bold',\n            'sans-serif-italic': 'sans-serif',\n            'sans-serif-bold-italic': 'bold-sans-serif'\n        }\n    };\n    return CommonWrapper;\n}(Wrapper_js_1.AbstractWrapper));\nexports.CommonWrapper = CommonWrapper;\n//# sourceMappingURL=Wrapper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonWrapperFactory = void 0;\nvar WrapperFactory_js_1 = require(\"../../core/Tree/WrapperFactory.js\");\nvar CommonWrapperFactory = (function (_super) {\n    __extends(CommonWrapperFactory, _super);\n    function CommonWrapperFactory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.jax = null;\n        return _this;\n    }\n    Object.defineProperty(CommonWrapperFactory.prototype, \"Wrappers\", {\n        get: function () {\n            return this.node;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CommonWrapperFactory.defaultNodes = {};\n    return CommonWrapperFactory;\n}(WrapperFactory_js_1.AbstractWrapperFactory));\nexports.CommonWrapperFactory = CommonWrapperFactory;\n//# sourceMappingURL=WrapperFactory.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonTeXAtomMixin = void 0;\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nfunction CommonTeXAtomMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            _super.prototype.computeBBox.call(this, bbox, recompute);\n            if (this.childNodes[0] && this.childNodes[0].bbox.ic) {\n                bbox.ic = this.childNodes[0].bbox.ic;\n            }\n            if (this.node.texClass === MmlNode_js_1.TEXCLASS.VCENTER) {\n                var h = bbox.h, d = bbox.d;\n                var a = this.font.params.axis_height;\n                var dh = ((h + d) / 2 + a) - h;\n                bbox.h += dh;\n                bbox.d -= dh;\n            }\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonTeXAtomMixin = CommonTeXAtomMixin;\n//# sourceMappingURL=TeXAtom.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonTextNodeMixin = void 0;\nfunction CommonTextNodeMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            var e_1, _a;\n            if (_recompute === void 0) { _recompute = false; }\n            var variant = this.parent.variant;\n            var text = this.node.getText();\n            if (variant === '-explicitFont') {\n                var font = this.jax.getFontData(this.parent.styles);\n                var _b = this.jax.measureText(text, variant, font), w = _b.w, h = _b.h, d = _b.d;\n                bbox.h = h;\n                bbox.d = d;\n                bbox.w = w;\n            }\n            else {\n                var chars = this.remappedText(text, variant);\n                bbox.empty();\n                try {\n                    for (var chars_1 = __values(chars), chars_1_1 = chars_1.next(); !chars_1_1.done; chars_1_1 = chars_1.next()) {\n                        var char = chars_1_1.value;\n                        var _c = __read(this.getVariantChar(variant, char), 4), h = _c[0], d = _c[1], w = _c[2], data = _c[3];\n                        if (data.unknown) {\n                            var cbox = this.jax.measureText(String.fromCodePoint(char), variant);\n                            w = cbox.w;\n                            h = cbox.h;\n                            d = cbox.d;\n                        }\n                        bbox.w += w;\n                        if (h > bbox.h)\n                            bbox.h = h;\n                        if (d > bbox.d)\n                            bbox.d = d;\n                        bbox.ic = data.ic || 0;\n                        bbox.sk = data.sk || 0;\n                        bbox.dx = data.dx || 0;\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (chars_1_1 && !chars_1_1.done && (_a = chars_1.return)) _a.call(chars_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                if (chars.length > 1) {\n                    bbox.sk = 0;\n                }\n                bbox.clean();\n            }\n        };\n        class_1.prototype.remappedText = function (text, variant) {\n            var c = this.parent.stretch.c;\n            return (c ? [c] : this.parent.remapChars(this.unicodeChars(text, variant)));\n        };\n        class_1.prototype.getStyles = function () { };\n        class_1.prototype.getVariant = function () { };\n        class_1.prototype.getScale = function () { };\n        class_1.prototype.getSpace = function () { };\n        return class_1;\n    }(Base));\n}\nexports.CommonTextNodeMixin = CommonTextNodeMixin;\n//# sourceMappingURL=TextNode.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMactionMixin = exports.TooltipData = void 0;\nvar string_js_1 = require(\"../../../util/string.js\");\nexports.TooltipData = {\n    dx: '.2em',\n    dy: '.1em',\n    postDelay: 600,\n    clearDelay: 100,\n    hoverTimer: new Map(),\n    clearTimer: new Map(),\n    stopTimers: function (node, data) {\n        if (data.clearTimer.has(node)) {\n            clearTimeout(data.clearTimer.get(node));\n            data.clearTimer.delete(node);\n        }\n        if (data.hoverTimer.has(node)) {\n            clearTimeout(data.hoverTimer.get(node));\n            data.hoverTimer.delete(node);\n        }\n    }\n};\nfunction CommonMactionMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            var actions = _this.constructor.actions;\n            var action = _this.node.attributes.get('actiontype');\n            var _a = __read(actions.get(action) || [(function (_node, _data) { }), {}], 2), handler = _a[0], data = _a[1];\n            _this.action = handler;\n            _this.data = data;\n            _this.getParameters();\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"selected\", {\n            get: function () {\n                var selection = this.node.attributes.get('selection');\n                var i = Math.max(1, Math.min(this.childNodes.length, selection)) - 1;\n                return this.childNodes[i] || this.wrap(this.node.selected);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.getParameters = function () {\n            var offsets = this.node.attributes.get('data-offsets');\n            var _a = __read((0, string_js_1.split)(offsets || ''), 2), dx = _a[0], dy = _a[1];\n            this.dx = this.length2em(dx || exports.TooltipData.dx);\n            this.dy = this.length2em(dy || exports.TooltipData.dy);\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            bbox.updateFrom(this.selected.getOuterBBox());\n            this.selected.setChildPWidths(recompute);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMactionMixin = CommonMactionMixin;\n//# sourceMappingURL=maction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMathMixin = void 0;\nfunction CommonMathMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getWrapWidth = function (_i) {\n            return (this.parent ? this.getBBox().w : this.metrics.containerWidth / this.jax.pxPerEm);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMathMixin = CommonMathMixin;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMencloseMixin = void 0;\nvar Notation = __importStar(require(\"../Notation.js\"));\nvar string_js_1 = require(\"../../../util/string.js\");\nfunction CommonMencloseMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.notations = {};\n            _this.renderChild = null;\n            _this.msqrt = null;\n            _this.padding = Notation.PADDING;\n            _this.thickness = Notation.THICKNESS;\n            _this.arrowhead = { x: Notation.ARROWX, y: Notation.ARROWY, dx: Notation.ARROWDX };\n            _this.TRBL = [0, 0, 0, 0];\n            _this.getParameters();\n            _this.getNotations();\n            _this.removeRedundantNotations();\n            _this.initializeNotations();\n            _this.TRBL = _this.getBBoxExtenders();\n            return _this;\n        }\n        class_1.prototype.getParameters = function () {\n            var attributes = this.node.attributes;\n            var padding = attributes.get('data-padding');\n            if (padding !== undefined) {\n                this.padding = this.length2em(padding, Notation.PADDING);\n            }\n            var thickness = attributes.get('data-thickness');\n            if (thickness !== undefined) {\n                this.thickness = this.length2em(thickness, Notation.THICKNESS);\n            }\n            var arrowhead = attributes.get('data-arrowhead');\n            if (arrowhead !== undefined) {\n                var _b = __read((0, string_js_1.split)(arrowhead), 3), x = _b[0], y = _b[1], dx = _b[2];\n                this.arrowhead = {\n                    x: (x ? parseFloat(x) : Notation.ARROWX),\n                    y: (y ? parseFloat(y) : Notation.ARROWY),\n                    dx: (dx ? parseFloat(dx) : Notation.ARROWDX)\n                };\n            }\n        };\n        class_1.prototype.getNotations = function () {\n            var e_1, _b;\n            var Notations = this.constructor.notations;\n            try {\n                for (var _c = __values((0, string_js_1.split)(this.node.attributes.get('notation'))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var name_1 = _d.value;\n                    var notation = Notations.get(name_1);\n                    if (notation) {\n                        this.notations[name_1] = notation;\n                        if (notation.renderChild) {\n                            this.renderChild = notation.renderer;\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        };\n        class_1.prototype.removeRedundantNotations = function () {\n            var e_2, _b, e_3, _c;\n            try {\n                for (var _d = __values(Object.keys(this.notations)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                    var name_2 = _e.value;\n                    if (this.notations[name_2]) {\n                        var remove = this.notations[name_2].remove || '';\n                        try {\n                            for (var _f = (e_3 = void 0, __values(remove.split(/ /))), _g = _f.next(); !_g.done; _g = _f.next()) {\n                                var notation = _g.value;\n                                delete this.notations[notation];\n                            }\n                        }\n                        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                        finally {\n                            try {\n                                if (_g && !_g.done && (_c = _f.return)) _c.call(_f);\n                            }\n                            finally { if (e_3) throw e_3.error; }\n                        }\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        };\n        class_1.prototype.initializeNotations = function () {\n            var e_4, _b;\n            try {\n                for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var name_3 = _d.value;\n                    var init = this.notations[name_3].init;\n                    init && init(this);\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            var _b = __read(this.TRBL, 4), T = _b[0], R = _b[1], B = _b[2], L = _b[3];\n            var child = this.childNodes[0].getBBox();\n            bbox.combine(child, L, 0);\n            bbox.h += T;\n            bbox.d += B;\n            bbox.w += R;\n            this.setChildPWidths(recompute);\n        };\n        class_1.prototype.getBBoxExtenders = function () {\n            var e_5, _b;\n            var TRBL = [0, 0, 0, 0];\n            try {\n                for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var name_4 = _d.value;\n                    this.maximizeEntries(TRBL, this.notations[name_4].bbox(this));\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n            return TRBL;\n        };\n        class_1.prototype.getPadding = function () {\n            var e_6, _b;\n            var _this = this;\n            var BTRBL = [0, 0, 0, 0];\n            try {\n                for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var name_5 = _d.value;\n                    var border = this.notations[name_5].border;\n                    if (border) {\n                        this.maximizeEntries(BTRBL, border(this));\n                    }\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n            return [0, 1, 2, 3].map(function (i) { return _this.TRBL[i] - BTRBL[i]; });\n        };\n        class_1.prototype.maximizeEntries = function (X, Y) {\n            for (var i = 0; i < X.length; i++) {\n                if (X[i] < Y[i]) {\n                    X[i] = Y[i];\n                }\n            }\n        };\n        class_1.prototype.getOffset = function (direction) {\n            var _b = __read(this.TRBL, 4), T = _b[0], R = _b[1], B = _b[2], L = _b[3];\n            var d = (direction === 'X' ? R - L : B - T) / 2;\n            return (Math.abs(d) > .001 ? d : 0);\n        };\n        class_1.prototype.getArgMod = function (w, h) {\n            return [Math.atan2(h, w), Math.sqrt(w * w + h * h)];\n        };\n        class_1.prototype.arrow = function (_w, _a, _double, _offset, _dist) {\n            if (_offset === void 0) { _offset = ''; }\n            if (_dist === void 0) { _dist = 0; }\n            return null;\n        };\n        class_1.prototype.arrowData = function () {\n            var _b = __read([this.padding, this.thickness], 2), p = _b[0], t = _b[1];\n            var r = t * (this.arrowhead.x + Math.max(1, this.arrowhead.dx));\n            var _c = this.childNodes[0].getBBox(), h = _c.h, d = _c.d, w = _c.w;\n            var H = h + d;\n            var R = Math.sqrt(H * H + w * w);\n            var x = Math.max(p, r * w / R);\n            var y = Math.max(p, r * H / R);\n            var _d = __read(this.getArgMod(w + 2 * x, H + 2 * y), 2), a = _d[0], W = _d[1];\n            return { a: a, W: W, x: x, y: y };\n        };\n        class_1.prototype.arrowAW = function () {\n            var _b = this.childNodes[0].getBBox(), h = _b.h, d = _b.d, w = _b.w;\n            var _c = __read(this.TRBL, 4), T = _c[0], R = _c[1], B = _c[2], L = _c[3];\n            return this.getArgMod(L + w + R, T + h + d + B);\n        };\n        class_1.prototype.createMsqrt = function (child) {\n            var mmlFactory = this.node.factory;\n            var mml = mmlFactory.create('msqrt');\n            mml.inheritAttributesFrom(this.node);\n            mml.childNodes[0] = child.node;\n            var node = this.wrap(mml);\n            node.parent = this;\n            return node;\n        };\n        class_1.prototype.sqrtTRBL = function () {\n            var bbox = this.msqrt.getBBox();\n            var cbox = this.msqrt.childNodes[0].getBBox();\n            return [bbox.h - cbox.h, 0, bbox.d - cbox.d, bbox.w - cbox.w];\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMencloseMixin = CommonMencloseMixin;\n//# sourceMappingURL=menclose.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMfencedMixin = void 0;\nfunction CommonMfencedMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.mrow = null;\n            _this.createMrow();\n            _this.addMrowChildren();\n            return _this;\n        }\n        class_1.prototype.createMrow = function () {\n            var mmlFactory = this.node.factory;\n            var mrow = mmlFactory.create('inferredMrow');\n            mrow.inheritAttributesFrom(this.node);\n            this.mrow = this.wrap(mrow);\n            this.mrow.parent = this;\n        };\n        class_1.prototype.addMrowChildren = function () {\n            var e_1, _a;\n            var mfenced = this.node;\n            var mrow = this.mrow;\n            this.addMo(mfenced.open);\n            if (this.childNodes.length) {\n                mrow.childNodes.push(this.childNodes[0]);\n            }\n            var i = 0;\n            try {\n                for (var _b = __values(this.childNodes.slice(1)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    this.addMo(mfenced.separators[i++]);\n                    mrow.childNodes.push(child);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            this.addMo(mfenced.close);\n            mrow.stretchChildren();\n        };\n        class_1.prototype.addMo = function (node) {\n            if (!node)\n                return;\n            var mo = this.wrap(node);\n            this.mrow.childNodes.push(mo);\n            mo.parent = this.mrow;\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            bbox.updateFrom(this.mrow.getOuterBBox());\n            this.setChildPWidths(recompute);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMfencedMixin = CommonMfencedMixin;\n//# sourceMappingURL=mfenced.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMfracMixin = void 0;\nfunction CommonMfracMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.bevel = null;\n            _this.pad = (_this.node.getProperty('withDelims') ? 0 : _this.font.params.nulldelimiterspace);\n            if (_this.node.attributes.get('bevelled')) {\n                var H = _this.getBevelData(_this.isDisplay()).H;\n                var bevel = _this.bevel = _this.createMo('/');\n                bevel.node.attributes.set('symmetric', true);\n                bevel.canStretch(1);\n                bevel.getStretchedVariant([H], true);\n            }\n            return _this;\n        }\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            bbox.empty();\n            var _a = this.node.attributes.getList('linethickness', 'bevelled'), linethickness = _a.linethickness, bevelled = _a.bevelled;\n            var display = this.isDisplay();\n            var w = null;\n            if (bevelled) {\n                this.getBevelledBBox(bbox, display);\n            }\n            else {\n                var thickness = this.length2em(String(linethickness), .06);\n                w = -2 * this.pad;\n                if (thickness === 0) {\n                    this.getAtopBBox(bbox, display);\n                }\n                else {\n                    this.getFractionBBox(bbox, display, thickness);\n                    w -= .2;\n                }\n                w += bbox.w;\n            }\n            bbox.clean();\n            this.setChildPWidths(recompute, w);\n        };\n        class_1.prototype.getFractionBBox = function (bbox, display, t) {\n            var nbox = this.childNodes[0].getOuterBBox();\n            var dbox = this.childNodes[1].getOuterBBox();\n            var tex = this.font.params;\n            var a = tex.axis_height;\n            var _a = this.getTUV(display, t), T = _a.T, u = _a.u, v = _a.v;\n            bbox.combine(nbox, 0, a + T + Math.max(nbox.d * nbox.rscale, u));\n            bbox.combine(dbox, 0, a - T - Math.max(dbox.h * dbox.rscale, v));\n            bbox.w += 2 * this.pad + .2;\n        };\n        class_1.prototype.getTUV = function (display, t) {\n            var tex = this.font.params;\n            var a = tex.axis_height;\n            var T = (display ? 3.5 : 1.5) * t;\n            return { T: (display ? 3.5 : 1.5) * t,\n                u: (display ? tex.num1 : tex.num2) - a - T,\n                v: (display ? tex.denom1 : tex.denom2) + a - T };\n        };\n        class_1.prototype.getAtopBBox = function (bbox, display) {\n            var _a = this.getUVQ(display), u = _a.u, v = _a.v, nbox = _a.nbox, dbox = _a.dbox;\n            bbox.combine(nbox, 0, u);\n            bbox.combine(dbox, 0, -v);\n            bbox.w += 2 * this.pad;\n        };\n        class_1.prototype.getUVQ = function (display) {\n            var nbox = this.childNodes[0].getOuterBBox();\n            var dbox = this.childNodes[1].getOuterBBox();\n            var tex = this.font.params;\n            var _a = __read((display ? [tex.num1, tex.denom1] : [tex.num3, tex.denom2]), 2), u = _a[0], v = _a[1];\n            var p = (display ? 7 : 3) * tex.rule_thickness;\n            var q = (u - nbox.d * nbox.scale) - (dbox.h * dbox.scale - v);\n            if (q < p) {\n                u += (p - q) / 2;\n                v += (p - q) / 2;\n                q = p;\n            }\n            return { u: u, v: v, q: q, nbox: nbox, dbox: dbox };\n        };\n        class_1.prototype.getBevelledBBox = function (bbox, display) {\n            var _a = this.getBevelData(display), u = _a.u, v = _a.v, delta = _a.delta, nbox = _a.nbox, dbox = _a.dbox;\n            var lbox = this.bevel.getOuterBBox();\n            bbox.combine(nbox, 0, u);\n            bbox.combine(lbox, bbox.w - delta / 2, 0);\n            bbox.combine(dbox, bbox.w - delta / 2, v);\n        };\n        class_1.prototype.getBevelData = function (display) {\n            var nbox = this.childNodes[0].getOuterBBox();\n            var dbox = this.childNodes[1].getOuterBBox();\n            var delta = (display ? .4 : .15);\n            var H = Math.max(nbox.scale * (nbox.h + nbox.d), dbox.scale * (dbox.h + dbox.d)) + 2 * delta;\n            var a = this.font.params.axis_height;\n            var u = nbox.scale * (nbox.d - nbox.h) / 2 + a + delta;\n            var v = dbox.scale * (dbox.d - dbox.h) / 2 + a - delta;\n            return { H: H, delta: delta, u: u, v: v, nbox: nbox, dbox: dbox };\n        };\n        class_1.prototype.canStretch = function (_direction) {\n            return false;\n        };\n        class_1.prototype.isDisplay = function () {\n            var _a = this.node.attributes.getList('displaystyle', 'scriptlevel'), displaystyle = _a.displaystyle, scriptlevel = _a.scriptlevel;\n            return displaystyle && scriptlevel === 0;\n        };\n        class_1.prototype.getWrapWidth = function (i) {\n            var attributes = this.node.attributes;\n            if (attributes.get('bevelled')) {\n                return this.childNodes[i].getOuterBBox().w;\n            }\n            var w = this.getBBox().w;\n            var thickness = this.length2em(attributes.get('linethickness'));\n            return w - (thickness ? .2 : 0) - 2 * this.pad;\n        };\n        class_1.prototype.getChildAlign = function (i) {\n            var attributes = this.node.attributes;\n            return (attributes.get('bevelled') ? 'left' : attributes.get(['numalign', 'denomalign'][i]));\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMfracMixin = CommonMfracMixin;\n//# sourceMappingURL=mfrac.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMglyphMixin = void 0;\nfunction CommonMglyphMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.getParameters();\n            return _this;\n        }\n        class_1.prototype.getParameters = function () {\n            var _a = this.node.attributes.getList('width', 'height', 'valign', 'src', 'index'), width = _a.width, height = _a.height, valign = _a.valign, src = _a.src, index = _a.index;\n            if (src) {\n                this.width = (width === 'auto' ? 1 : this.length2em(width));\n                this.height = (height === 'auto' ? 1 : this.length2em(height));\n                this.valign = this.length2em(valign || '0');\n            }\n            else {\n                var text = String.fromCodePoint(parseInt(index));\n                var mmlFactory = this.node.factory;\n                this.charWrapper = this.wrap(mmlFactory.create('text').setText(text));\n                this.charWrapper.parent = this;\n            }\n        };\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            if (this.charWrapper) {\n                bbox.updateFrom(this.charWrapper.getBBox());\n            }\n            else {\n                bbox.w = this.width;\n                bbox.h = this.height + this.valign;\n                bbox.d = -this.valign;\n            }\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMglyphMixin = CommonMglyphMixin;\n//# sourceMappingURL=mglyph.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMiMixin = void 0;\nfunction CommonMiMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            _super.prototype.computeBBox.call(this, bbox);\n            this.copySkewIC(bbox);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMiMixin = CommonMiMixin;\n//# sourceMappingURL=mi.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMmultiscriptsMixin = exports.ScriptNames = exports.NextScript = void 0;\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nexports.NextScript = {\n    base: 'subList',\n    subList: 'supList',\n    supList: 'subList',\n    psubList: 'psupList',\n    psupList: 'psubList',\n};\nexports.ScriptNames = ['sup', 'sup', 'psup', 'psub'];\nfunction CommonMmultiscriptsMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.scriptData = null;\n            _this.firstPrescript = 0;\n            _this.getScriptData();\n            return _this;\n        }\n        class_1.prototype.combinePrePost = function (pre, post) {\n            var bbox = new BBox_js_1.BBox(pre);\n            bbox.combine(post, 0, 0);\n            return bbox;\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            var scriptspace = this.font.params.scriptspace;\n            var data = this.scriptData;\n            var sub = this.combinePrePost(data.sub, data.psub);\n            var sup = this.combinePrePost(data.sup, data.psup);\n            var _a = __read(this.getUVQ(sub, sup), 2), u = _a[0], v = _a[1];\n            bbox.empty();\n            if (data.numPrescripts) {\n                bbox.combine(data.psup, scriptspace, u);\n                bbox.combine(data.psub, scriptspace, v);\n            }\n            bbox.append(data.base);\n            if (data.numScripts) {\n                var w = bbox.w;\n                bbox.combine(data.sup, w, u);\n                bbox.combine(data.sub, w, v);\n                bbox.w += scriptspace;\n            }\n            bbox.clean();\n            this.setChildPWidths(recompute);\n        };\n        class_1.prototype.getScriptData = function () {\n            var data = this.scriptData = {\n                base: null, sub: BBox_js_1.BBox.empty(), sup: BBox_js_1.BBox.empty(), psub: BBox_js_1.BBox.empty(), psup: BBox_js_1.BBox.empty(),\n                numPrescripts: 0, numScripts: 0\n            };\n            var lists = this.getScriptBBoxLists();\n            this.combineBBoxLists(data.sub, data.sup, lists.subList, lists.supList);\n            this.combineBBoxLists(data.psub, data.psup, lists.psubList, lists.psupList);\n            data.base = lists.base[0];\n            data.numPrescripts = lists.psubList.length;\n            data.numScripts = lists.subList.length;\n        };\n        class_1.prototype.getScriptBBoxLists = function () {\n            var e_1, _a;\n            var lists = {\n                base: [], subList: [], supList: [], psubList: [], psupList: []\n            };\n            var script = 'base';\n            try {\n                for (var _b = __values(this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    if (child.node.isKind('mprescripts')) {\n                        script = 'psubList';\n                    }\n                    else {\n                        lists[script].push(child.getOuterBBox());\n                        script = exports.NextScript[script];\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            this.firstPrescript = lists.subList.length + lists.supList.length + 2;\n            this.padLists(lists.subList, lists.supList);\n            this.padLists(lists.psubList, lists.psupList);\n            return lists;\n        };\n        class_1.prototype.padLists = function (list1, list2) {\n            if (list1.length > list2.length) {\n                list2.push(BBox_js_1.BBox.empty());\n            }\n        };\n        class_1.prototype.combineBBoxLists = function (bbox1, bbox2, list1, list2) {\n            for (var i = 0; i < list1.length; i++) {\n                var _a = __read(this.getScaledWHD(list1[i]), 3), w1 = _a[0], h1 = _a[1], d1 = _a[2];\n                var _b = __read(this.getScaledWHD(list2[i]), 3), w2 = _b[0], h2 = _b[1], d2 = _b[2];\n                var w = Math.max(w1, w2);\n                bbox1.w += w;\n                bbox2.w += w;\n                if (h1 > bbox1.h)\n                    bbox1.h = h1;\n                if (d1 > bbox1.d)\n                    bbox1.d = d1;\n                if (h2 > bbox2.h)\n                    bbox2.h = h2;\n                if (d2 > bbox2.d)\n                    bbox2.d = d2;\n            }\n        };\n        class_1.prototype.getScaledWHD = function (bbox) {\n            var w = bbox.w, h = bbox.h, d = bbox.d, rscale = bbox.rscale;\n            return [w * rscale, h * rscale, d * rscale];\n        };\n        class_1.prototype.getUVQ = function (subbox, supbox) {\n            var _a;\n            if (!this.UVQ) {\n                var _b = __read([0, 0, 0], 3), u = _b[0], v = _b[1], q = _b[2];\n                if (subbox.h === 0 && subbox.d === 0) {\n                    u = this.getU();\n                }\n                else if (supbox.h === 0 && supbox.d === 0) {\n                    u = -this.getV();\n                }\n                else {\n                    _a = __read(_super.prototype.getUVQ.call(this, subbox, supbox), 3), u = _a[0], v = _a[1], q = _a[2];\n                }\n                this.UVQ = [u, v, q];\n            }\n            return this.UVQ;\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMmultiscriptsMixin = CommonMmultiscriptsMixin;\n//# sourceMappingURL=mmultiscripts.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMnMixin = void 0;\nfunction CommonMnMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.remapChars = function (chars) {\n            if (chars.length) {\n                var text = this.font.getRemappedChar('mn', chars[0]);\n                if (text) {\n                    var c = this.unicodeChars(text, this.variant);\n                    if (c.length === 1) {\n                        chars[0] = c[0];\n                    }\n                    else {\n                        chars = c.concat(chars.slice(1));\n                    }\n                }\n            }\n            return chars;\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMnMixin = CommonMnMixin;\n//# sourceMappingURL=mn.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMoMixin = exports.DirectionVH = void 0;\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nvar string_js_1 = require(\"../../../util/string.js\");\nvar FontData_js_1 = require(\"../FontData.js\");\nexports.DirectionVH = (_a = {},\n    _a[1] = 'v',\n    _a[2] = 'h',\n    _a);\nfunction CommonMoMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.size = null;\n            _this.isAccent = _this.node.isAccent;\n            return _this;\n        }\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            this.protoBBox(bbox);\n            if (this.node.attributes.get('symmetric') &&\n                this.stretch.dir !== 2) {\n                var d = this.getCenterOffset(bbox);\n                bbox.h += d;\n                bbox.d -= d;\n            }\n            if (this.node.getProperty('mathaccent') &&\n                (this.stretch.dir === 0 || this.size >= 0)) {\n                bbox.w = 0;\n            }\n        };\n        class_1.prototype.protoBBox = function (bbox) {\n            var stretchy = (this.stretch.dir !== 0);\n            if (stretchy && this.size === null) {\n                this.getStretchedVariant([0]);\n            }\n            if (stretchy && this.size < 0)\n                return;\n            _super.prototype.computeBBox.call(this, bbox);\n            this.copySkewIC(bbox);\n        };\n        class_1.prototype.getAccentOffset = function () {\n            var bbox = BBox_js_1.BBox.empty();\n            this.protoBBox(bbox);\n            return -bbox.w / 2;\n        };\n        class_1.prototype.getCenterOffset = function (bbox) {\n            if (bbox === void 0) { bbox = null; }\n            if (!bbox) {\n                bbox = BBox_js_1.BBox.empty();\n                _super.prototype.computeBBox.call(this, bbox);\n            }\n            return ((bbox.h + bbox.d) / 2 + this.font.params.axis_height) - bbox.h;\n        };\n        class_1.prototype.getVariant = function () {\n            if (this.node.attributes.get('largeop')) {\n                this.variant = (this.node.attributes.get('displaystyle') ? '-largeop' : '-smallop');\n                return;\n            }\n            if (!this.node.attributes.getExplicit('mathvariant') &&\n                this.node.getProperty('pseudoscript') === false) {\n                this.variant = '-tex-variant';\n                return;\n            }\n            _super.prototype.getVariant.call(this);\n        };\n        class_1.prototype.canStretch = function (direction) {\n            if (this.stretch.dir !== 0) {\n                return this.stretch.dir === direction;\n            }\n            var attributes = this.node.attributes;\n            if (!attributes.get('stretchy'))\n                return false;\n            var c = this.getText();\n            if (Array.from(c).length !== 1)\n                return false;\n            var delim = this.font.getDelimiter(c.codePointAt(0));\n            this.stretch = (delim && delim.dir === direction ? delim : FontData_js_1.NOSTRETCH);\n            return this.stretch.dir !== 0;\n        };\n        class_1.prototype.getStretchedVariant = function (WH, exact) {\n            var e_1, _a;\n            if (exact === void 0) { exact = false; }\n            if (this.stretch.dir !== 0) {\n                var D = this.getWH(WH);\n                var min = this.getSize('minsize', 0);\n                var max = this.getSize('maxsize', Infinity);\n                var mathaccent = this.node.getProperty('mathaccent');\n                D = Math.max(min, Math.min(max, D));\n                var df = this.font.params.delimiterfactor / 1000;\n                var ds = this.font.params.delimitershortfall;\n                var m = (min || exact ? D : mathaccent ? Math.min(D / df, D + ds) : Math.max(D * df, D - ds));\n                var delim = this.stretch;\n                var c = delim.c || this.getText().codePointAt(0);\n                var i = 0;\n                if (delim.sizes) {\n                    try {\n                        for (var _b = __values(delim.sizes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            var d = _c.value;\n                            if (d >= m) {\n                                if (mathaccent && i) {\n                                    i--;\n                                }\n                                this.variant = this.font.getSizeVariant(c, i);\n                                this.size = i;\n                                if (delim.schar && delim.schar[i]) {\n                                    this.stretch = __assign(__assign({}, this.stretch), { c: delim.schar[i] });\n                                }\n                                return;\n                            }\n                            i++;\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                if (delim.stretch) {\n                    this.size = -1;\n                    this.invalidateBBox();\n                    this.getStretchBBox(WH, this.checkExtendedHeight(D, delim), delim);\n                }\n                else {\n                    this.variant = this.font.getSizeVariant(c, i - 1);\n                    this.size = i - 1;\n                }\n            }\n        };\n        class_1.prototype.getSize = function (name, value) {\n            var attributes = this.node.attributes;\n            if (attributes.isSet(name)) {\n                value = this.length2em(attributes.get(name), 1, 1);\n            }\n            return value;\n        };\n        class_1.prototype.getWH = function (WH) {\n            if (WH.length === 0)\n                return 0;\n            if (WH.length === 1)\n                return WH[0];\n            var _a = __read(WH, 2), H = _a[0], D = _a[1];\n            var a = this.font.params.axis_height;\n            return (this.node.attributes.get('symmetric') ? 2 * Math.max(H - a, D + a) : H + D);\n        };\n        class_1.prototype.getStretchBBox = function (WHD, D, C) {\n            var _a;\n            if (C.hasOwnProperty('min') && C.min > D) {\n                D = C.min;\n            }\n            var _b = __read(C.HDW, 3), h = _b[0], d = _b[1], w = _b[2];\n            if (this.stretch.dir === 1) {\n                _a = __read(this.getBaseline(WHD, D, C), 2), h = _a[0], d = _a[1];\n            }\n            else {\n                w = D;\n            }\n            this.bbox.h = h;\n            this.bbox.d = d;\n            this.bbox.w = w;\n        };\n        class_1.prototype.getBaseline = function (WHD, HD, C) {\n            var hasWHD = (WHD.length === 2 && WHD[0] + WHD[1] === HD);\n            var symmetric = this.node.attributes.get('symmetric');\n            var _a = __read((hasWHD ? WHD : [HD, 0]), 2), H = _a[0], D = _a[1];\n            var _b = __read([H + D, 0], 2), h = _b[0], d = _b[1];\n            if (symmetric) {\n                var a = this.font.params.axis_height;\n                if (hasWHD) {\n                    h = 2 * Math.max(H - a, D + a);\n                }\n                d = h / 2 - a;\n            }\n            else if (hasWHD) {\n                d = D;\n            }\n            else {\n                var _c = __read((C.HDW || [.75, .25]), 2), ch = _c[0], cd = _c[1];\n                d = cd * (h / (ch + cd));\n            }\n            return [h - d, d];\n        };\n        class_1.prototype.checkExtendedHeight = function (D, C) {\n            if (C.fullExt) {\n                var _a = __read(C.fullExt, 2), extSize = _a[0], endSize = _a[1];\n                var n = Math.ceil(Math.max(0, D - endSize) / extSize);\n                D = endSize + n * extSize;\n            }\n            return D;\n        };\n        class_1.prototype.remapChars = function (chars) {\n            var primes = this.node.getProperty('primes');\n            if (primes) {\n                return (0, string_js_1.unicodeChars)(primes);\n            }\n            if (chars.length === 1) {\n                var parent_1 = this.node.coreParent().parent;\n                var isAccent = this.isAccent && !parent_1.isKind('mrow');\n                var map = (isAccent ? 'accent' : 'mo');\n                var text = this.font.getRemappedChar(map, chars[0]);\n                if (text) {\n                    chars = this.unicodeChars(text, this.variant);\n                }\n            }\n            return chars;\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMoMixin = CommonMoMixin;\n//# sourceMappingURL=mo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMpaddedMixin = void 0;\nfunction CommonMpaddedMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getDimens = function () {\n            var values = this.node.attributes.getList('width', 'height', 'depth', 'lspace', 'voffset');\n            var bbox = this.childNodes[0].getBBox();\n            var w = bbox.w, h = bbox.h, d = bbox.d;\n            var W = w, H = h, D = d, x = 0, y = 0, dx = 0;\n            if (values.width !== '')\n                w = this.dimen(values.width, bbox, 'w', 0);\n            if (values.height !== '')\n                h = this.dimen(values.height, bbox, 'h', 0);\n            if (values.depth !== '')\n                d = this.dimen(values.depth, bbox, 'd', 0);\n            if (values.voffset !== '')\n                y = this.dimen(values.voffset, bbox);\n            if (values.lspace !== '')\n                x = this.dimen(values.lspace, bbox);\n            var align = this.node.attributes.get('data-align');\n            if (align) {\n                dx = this.getAlignX(w, bbox, align);\n            }\n            return [H, D, W, h - H, d - D, w - W, x, y, dx];\n        };\n        class_1.prototype.dimen = function (length, bbox, d, m) {\n            if (d === void 0) { d = ''; }\n            if (m === void 0) { m = null; }\n            length = String(length);\n            var match = length.match(/width|height|depth/);\n            var size = (match ? bbox[match[0].charAt(0)] :\n                (d ? bbox[d] : 0));\n            var dimen = (this.length2em(length, size) || 0);\n            if (length.match(/^[-+]/) && d) {\n                dimen += size;\n            }\n            if (m != null) {\n                dimen = Math.max(m, dimen);\n            }\n            return dimen;\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            var _a = __read(this.getDimens(), 6), H = _a[0], D = _a[1], W = _a[2], dh = _a[3], dd = _a[4], dw = _a[5];\n            bbox.w = W + dw;\n            bbox.h = H + dh;\n            bbox.d = D + dd;\n            this.setChildPWidths(recompute, bbox.w);\n        };\n        class_1.prototype.getWrapWidth = function (_i) {\n            return this.getBBox().w;\n        };\n        class_1.prototype.getChildAlign = function (_i) {\n            return this.node.attributes.get('data-align') || 'left';\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMpaddedMixin = CommonMpaddedMixin;\n//# sourceMappingURL=mpadded.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMrootMixin = void 0;\nfunction CommonMrootMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(class_1.prototype, \"surd\", {\n            get: function () {\n                return 2;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"root\", {\n            get: function () {\n                return 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.combineRootBBox = function (BBOX, sbox, H) {\n            var bbox = this.childNodes[this.root].getOuterBBox();\n            var h = this.getRootDimens(sbox, H)[1];\n            BBOX.combine(bbox, 0, h);\n        };\n        class_1.prototype.getRootDimens = function (sbox, H) {\n            var surd = this.childNodes[this.surd];\n            var bbox = this.childNodes[this.root].getOuterBBox();\n            var offset = (surd.size < 0 ? .5 : .6) * sbox.w;\n            var w = bbox.w, rscale = bbox.rscale;\n            var W = Math.max(w, offset / rscale);\n            var dx = Math.max(0, W - w);\n            var h = this.rootHeight(bbox, sbox, surd.size, H);\n            var x = W * rscale - offset;\n            return [x, h, dx];\n        };\n        class_1.prototype.rootHeight = function (rbox, sbox, size, H) {\n            var h = sbox.h + sbox.d;\n            var b = (size < 0 ? 1.9 : .55 * h) - (h - H);\n            return b + Math.max(0, rbox.d * rbox.rscale);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMrootMixin = CommonMrootMixin;\n//# sourceMappingURL=mroot.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonInferredMrowMixin = exports.CommonMrowMixin = void 0;\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nfunction CommonMrowMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var e_1, _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.stretchChildren();\n            try {\n                for (var _b = __values(_this.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    if (child.bbox.pwidth) {\n                        _this.bbox.pwidth = BBox_js_1.BBox.fullWidth;\n                        break;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"fixesPWidth\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.stretchChildren = function () {\n            var e_2, _a, e_3, _b, e_4, _c;\n            var stretchy = [];\n            try {\n                for (var _d = __values(this.childNodes), _e = _d.next(); !_e.done; _e = _d.next()) {\n                    var child = _e.value;\n                    if (child.canStretch(1)) {\n                        stretchy.push(child);\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            var count = stretchy.length;\n            var nodeCount = this.childNodes.length;\n            if (count && nodeCount > 1) {\n                var H = 0, D = 0;\n                var all = (count > 1 && count === nodeCount);\n                try {\n                    for (var _f = __values(this.childNodes), _g = _f.next(); !_g.done; _g = _f.next()) {\n                        var child = _g.value;\n                        var noStretch = (child.stretch.dir === 0);\n                        if (all || noStretch) {\n                            var _h = child.getOuterBBox(noStretch), h = _h.h, d = _h.d, rscale = _h.rscale;\n                            h *= rscale;\n                            d *= rscale;\n                            if (h > H)\n                                H = h;\n                            if (d > D)\n                                D = d;\n                        }\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n                try {\n                    for (var stretchy_1 = __values(stretchy), stretchy_1_1 = stretchy_1.next(); !stretchy_1_1.done; stretchy_1_1 = stretchy_1.next()) {\n                        var child = stretchy_1_1.value;\n                        child.coreMO().getStretchedVariant([H, D]);\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (stretchy_1_1 && !stretchy_1_1.done && (_c = stretchy_1.return)) _c.call(stretchy_1);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMrowMixin = CommonMrowMixin;\nfunction CommonInferredMrowMixin(Base) {\n    return (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_2.prototype.getScale = function () {\n            this.bbox.scale = this.parent.bbox.scale;\n            this.bbox.rscale = 1;\n        };\n        return class_2;\n    }(Base));\n}\nexports.CommonInferredMrowMixin = CommonInferredMrowMixin;\n//# sourceMappingURL=mrow.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMsMixin = void 0;\nfunction CommonMsMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            var attributes = _this.node.attributes;\n            var quotes = attributes.getList('lquote', 'rquote');\n            if (_this.variant !== 'monospace') {\n                if (!attributes.isSet('lquote') && quotes.lquote === '\"')\n                    quotes.lquote = '\\u201C';\n                if (!attributes.isSet('rquote') && quotes.rquote === '\"')\n                    quotes.rquote = '\\u201D';\n            }\n            _this.childNodes.unshift(_this.createText(quotes.lquote));\n            _this.childNodes.push(_this.createText(quotes.rquote));\n            return _this;\n        }\n        class_1.prototype.createText = function (text) {\n            var node = this.wrap(this.mmlText(text));\n            node.parent = this;\n            return node;\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMsMixin = CommonMsMixin;\n//# sourceMappingURL=ms.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMspaceMixin = void 0;\nfunction CommonMspaceMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            var attributes = this.node.attributes;\n            bbox.w = this.length2em(attributes.get('width'), 0);\n            bbox.h = this.length2em(attributes.get('height'), 0);\n            bbox.d = this.length2em(attributes.get('depth'), 0);\n        };\n        class_1.prototype.handleVariant = function () {\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMspaceMixin = CommonMspaceMixin;\n//# sourceMappingURL=mspace.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMsqrtMixin = void 0;\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nfunction CommonMsqrtMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            var surd = _this.createMo('\\u221A');\n            surd.canStretch(1);\n            var _a = _this.childNodes[_this.base].getOuterBBox(), h = _a.h, d = _a.d;\n            var t = _this.font.params.rule_thickness;\n            var p = (_this.node.attributes.get('displaystyle') ? _this.font.params.x_height : t);\n            _this.surdH = h + d + 2 * t + p / 4;\n            surd.getStretchedVariant([_this.surdH - d, d], true);\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"base\", {\n            get: function () {\n                return 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"surd\", {\n            get: function () {\n                return 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"root\", {\n            get: function () {\n                return null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.createMo = function (text) {\n            var node = _super.prototype.createMo.call(this, text);\n            this.childNodes.push(node);\n            return node;\n        };\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            var surdbox = this.childNodes[this.surd].getBBox();\n            var basebox = new BBox_js_1.BBox(this.childNodes[this.base].getOuterBBox());\n            var q = this.getPQ(surdbox)[1];\n            var t = this.font.params.rule_thickness;\n            var H = basebox.h + q + t;\n            var _a = __read(this.getRootDimens(surdbox, H), 1), x = _a[0];\n            bbox.h = H + t;\n            this.combineRootBBox(bbox, surdbox, H);\n            bbox.combine(surdbox, x, H - surdbox.h);\n            bbox.combine(basebox, x + surdbox.w, 0);\n            bbox.clean();\n            this.setChildPWidths(recompute);\n        };\n        class_1.prototype.combineRootBBox = function (_bbox, _sbox, _H) {\n        };\n        class_1.prototype.getPQ = function (sbox) {\n            var t = this.font.params.rule_thickness;\n            var p = (this.node.attributes.get('displaystyle') ? this.font.params.x_height : t);\n            var q = (sbox.h + sbox.d > this.surdH ?\n                ((sbox.h + sbox.d) - (this.surdH - 2 * t - p / 2)) / 2 :\n                t + p / 4);\n            return [p, q];\n        };\n        class_1.prototype.getRootDimens = function (_sbox, _H) {\n            return [0, 0, 0, 0];\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMsqrtMixin = CommonMsqrtMixin;\n//# sourceMappingURL=msqrt.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMsubsupMixin = exports.CommonMsupMixin = exports.CommonMsubMixin = void 0;\nfunction CommonMsubMixin(Base) {\n    var _a;\n    return _a = (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            Object.defineProperty(class_1.prototype, \"scriptChild\", {\n                get: function () {\n                    return this.childNodes[this.node.sub];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            class_1.prototype.getOffset = function () {\n                return [0, -this.getV()];\n            };\n            return class_1;\n        }(Base)),\n        _a.useIC = false,\n        _a;\n}\nexports.CommonMsubMixin = CommonMsubMixin;\nfunction CommonMsupMixin(Base) {\n    return (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(class_2.prototype, \"scriptChild\", {\n            get: function () {\n                return this.childNodes[this.node.sup];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_2.prototype.getOffset = function () {\n            var x = this.getAdjustedIc() - (this.baseRemoveIc ? 0 : this.baseIc);\n            return [x, this.getU()];\n        };\n        return class_2;\n    }(Base));\n}\nexports.CommonMsupMixin = CommonMsupMixin;\nfunction CommonMsubsupMixin(Base) {\n    var _a;\n    return _a = (function (_super) {\n            __extends(class_3, _super);\n            function class_3() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.UVQ = null;\n                return _this;\n            }\n            Object.defineProperty(class_3.prototype, \"subChild\", {\n                get: function () {\n                    return this.childNodes[this.node.sub];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            Object.defineProperty(class_3.prototype, \"supChild\", {\n                get: function () {\n                    return this.childNodes[this.node.sup];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            class_3.prototype.computeBBox = function (bbox, recompute) {\n                if (recompute === void 0) { recompute = false; }\n                var basebox = this.baseChild.getOuterBBox();\n                var _a = __read([this.subChild.getOuterBBox(), this.supChild.getOuterBBox()], 2), subbox = _a[0], supbox = _a[1];\n                bbox.empty();\n                bbox.append(basebox);\n                var w = this.getBaseWidth();\n                var x = this.getAdjustedIc();\n                var _b = __read(this.getUVQ(), 2), u = _b[0], v = _b[1];\n                bbox.combine(subbox, w, v);\n                bbox.combine(supbox, w + x, u);\n                bbox.w += this.font.params.scriptspace;\n                bbox.clean();\n                this.setChildPWidths(recompute);\n            };\n            class_3.prototype.getUVQ = function (subbox, supbox) {\n                if (subbox === void 0) { subbox = this.subChild.getOuterBBox(); }\n                if (supbox === void 0) { supbox = this.supChild.getOuterBBox(); }\n                var basebox = this.baseCore.getOuterBBox();\n                if (this.UVQ)\n                    return this.UVQ;\n                var tex = this.font.params;\n                var t = 3 * tex.rule_thickness;\n                var subscriptshift = this.length2em(this.node.attributes.get('subscriptshift'), tex.sub2);\n                var drop = this.baseCharZero(basebox.d * this.baseScale + tex.sub_drop * subbox.rscale);\n                var _a = __read([this.getU(), Math.max(drop, subscriptshift)], 2), u = _a[0], v = _a[1];\n                var q = (u - supbox.d * supbox.rscale) - (subbox.h * subbox.rscale - v);\n                if (q < t) {\n                    v += t - q;\n                    var p = (4 / 5) * tex.x_height - (u - supbox.d * supbox.rscale);\n                    if (p > 0) {\n                        u += p;\n                        v -= p;\n                    }\n                }\n                u = Math.max(this.length2em(this.node.attributes.get('superscriptshift'), u), u);\n                v = Math.max(this.length2em(this.node.attributes.get('subscriptshift'), v), v);\n                q = (u - supbox.d * supbox.rscale) - (subbox.h * subbox.rscale - v);\n                this.UVQ = [u, -v, q];\n                return this.UVQ;\n            };\n            return class_3;\n        }(Base)),\n        _a.useIC = false,\n        _a;\n}\nexports.CommonMsubsupMixin = CommonMsubsupMixin;\n//# sourceMappingURL=msubsup.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMtableMixin = void 0;\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\nvar string_js_1 = require(\"../../../util/string.js\");\nvar numeric_js_1 = require(\"../../../util/numeric.js\");\nfunction CommonMtableMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.numCols = 0;\n            _this.numRows = 0;\n            _this.data = null;\n            _this.pwidthCells = [];\n            _this.pWidth = 0;\n            _this.numCols = (0, numeric_js_1.max)(_this.tableRows.map(function (row) { return row.numCells; }));\n            _this.numRows = _this.childNodes.length;\n            _this.hasLabels = _this.childNodes.reduce(function (value, row) { return value || row.node.isKind('mlabeledtr'); }, false);\n            _this.findContainer();\n            _this.isTop = !_this.container || (_this.container.node.isKind('math') && !_this.container.parent);\n            if (_this.isTop) {\n                _this.jax.table = _this;\n            }\n            _this.getPercentageWidth();\n            var attributes = _this.node.attributes;\n            _this.frame = attributes.get('frame') !== 'none';\n            _this.fLine = (_this.frame && attributes.get('frame') ? .07 : 0);\n            _this.fSpace = (_this.frame ? _this.convertLengths(_this.getAttributeArray('framespacing')) : [0, 0]);\n            _this.cSpace = _this.convertLengths(_this.getColumnAttributes('columnspacing'));\n            _this.rSpace = _this.convertLengths(_this.getRowAttributes('rowspacing'));\n            _this.cLines = _this.getColumnAttributes('columnlines').map(function (x) { return (x === 'none' ? 0 : .07); });\n            _this.rLines = _this.getRowAttributes('rowlines').map(function (x) { return (x === 'none' ? 0 : .07); });\n            _this.cWidths = _this.getColumnWidths();\n            _this.stretchRows();\n            _this.stretchColumns();\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"tableRows\", {\n            get: function () {\n                return this.childNodes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.findContainer = function () {\n            var node = this;\n            var parent = node.parent;\n            while (parent && (parent.node.notParent || parent.node.isKind('mrow'))) {\n                node = parent;\n                parent = parent.parent;\n            }\n            this.container = parent;\n            this.containerI = node.node.childPosition();\n        };\n        class_1.prototype.getPercentageWidth = function () {\n            if (this.hasLabels) {\n                this.bbox.pwidth = BBox_js_1.BBox.fullWidth;\n            }\n            else {\n                var width = this.node.attributes.get('width');\n                if ((0, string_js_1.isPercent)(width)) {\n                    this.bbox.pwidth = width;\n                }\n            }\n        };\n        class_1.prototype.stretchRows = function () {\n            var equal = this.node.attributes.get('equalrows');\n            var HD = (equal ? this.getEqualRowHeight() : 0);\n            var _a = (equal ? this.getTableData() : { H: [0], D: [0] }), H = _a.H, D = _a.D;\n            var rows = this.tableRows;\n            for (var i = 0; i < this.numRows; i++) {\n                var hd = (equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : null);\n                rows[i].stretchChildren(hd);\n            }\n        };\n        class_1.prototype.stretchColumns = function () {\n            for (var i = 0; i < this.numCols; i++) {\n                var width = (typeof this.cWidths[i] === 'number' ? this.cWidths[i] : null);\n                this.stretchColumn(i, width);\n            }\n        };\n        class_1.prototype.stretchColumn = function (i, W) {\n            var e_1, _a, e_2, _b, e_3, _c;\n            var stretchy = [];\n            try {\n                for (var _d = __values(this.tableRows), _e = _d.next(); !_e.done; _e = _d.next()) {\n                    var row = _e.value;\n                    var cell = row.getChild(i);\n                    if (cell) {\n                        var child = cell.childNodes[0];\n                        if (child.stretch.dir === 0 &&\n                            child.canStretch(2)) {\n                            stretchy.push(child);\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            var count = stretchy.length;\n            var nodeCount = this.childNodes.length;\n            if (count && nodeCount > 1) {\n                if (W === null) {\n                    W = 0;\n                    var all = (count > 1 && count === nodeCount);\n                    try {\n                        for (var _f = __values(this.tableRows), _g = _f.next(); !_g.done; _g = _f.next()) {\n                            var row = _g.value;\n                            var cell = row.getChild(i);\n                            if (cell) {\n                                var child = cell.childNodes[0];\n                                var noStretch = (child.stretch.dir === 0);\n                                if (all || noStretch) {\n                                    var w = child.getBBox(noStretch).w;\n                                    if (w > W) {\n                                        W = w;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n                try {\n                    for (var stretchy_1 = __values(stretchy), stretchy_1_1 = stretchy_1.next(); !stretchy_1_1.done; stretchy_1_1 = stretchy_1.next()) {\n                        var child = stretchy_1_1.value;\n                        child.coreMO().getStretchedVariant([W]);\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (stretchy_1_1 && !stretchy_1_1.done && (_c = stretchy_1.return)) _c.call(stretchy_1);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n            }\n        };\n        class_1.prototype.getTableData = function () {\n            if (this.data) {\n                return this.data;\n            }\n            var H = new Array(this.numRows).fill(0);\n            var D = new Array(this.numRows).fill(0);\n            var W = new Array(this.numCols).fill(0);\n            var NH = new Array(this.numRows);\n            var ND = new Array(this.numRows);\n            var LW = [0];\n            var rows = this.tableRows;\n            for (var j = 0; j < rows.length; j++) {\n                var M = 0;\n                var row = rows[j];\n                var align = row.node.attributes.get('rowalign');\n                for (var i = 0; i < row.numCells; i++) {\n                    var cell = row.getChild(i);\n                    M = this.updateHDW(cell, i, j, align, H, D, W, M);\n                    this.recordPWidthCell(cell, i);\n                }\n                NH[j] = H[j];\n                ND[j] = D[j];\n                if (row.labeled) {\n                    M = this.updateHDW(row.childNodes[0], 0, j, align, H, D, LW, M);\n                }\n                this.extendHD(j, H, D, M);\n                this.extendHD(j, NH, ND, M);\n            }\n            var L = LW[0];\n            this.data = { H: H, D: D, W: W, NH: NH, ND: ND, L: L };\n            return this.data;\n        };\n        class_1.prototype.updateHDW = function (cell, i, j, align, H, D, W, M) {\n            var _a = cell.getBBox(), h = _a.h, d = _a.d, w = _a.w;\n            var scale = cell.parent.bbox.rscale;\n            if (cell.parent.bbox.rscale !== 1) {\n                h *= scale;\n                d *= scale;\n                w *= scale;\n            }\n            if (this.node.getProperty('useHeight')) {\n                if (h < .75)\n                    h = .75;\n                if (d < .25)\n                    d = .25;\n            }\n            var m = 0;\n            align = cell.node.attributes.get('rowalign') || align;\n            if (align !== 'baseline' && align !== 'axis') {\n                m = h + d;\n                h = d = 0;\n            }\n            if (h > H[j])\n                H[j] = h;\n            if (d > D[j])\n                D[j] = d;\n            if (m > M)\n                M = m;\n            if (W && w > W[i])\n                W[i] = w;\n            return M;\n        };\n        class_1.prototype.extendHD = function (i, H, D, M) {\n            var d = (M - (H[i] + D[i])) / 2;\n            if (d < .00001)\n                return;\n            H[i] += d;\n            D[i] += d;\n        };\n        class_1.prototype.recordPWidthCell = function (cell, i) {\n            if (cell.childNodes[0] && cell.childNodes[0].getBBox().pwidth) {\n                this.pwidthCells.push([cell, i]);\n            }\n        };\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            var _a = this.getTableData(), H = _a.H, D = _a.D;\n            var height, width;\n            if (this.node.attributes.get('equalrows')) {\n                var HD = this.getEqualRowHeight();\n                height = (0, numeric_js_1.sum)([].concat(this.rLines, this.rSpace)) + HD * this.numRows;\n            }\n            else {\n                height = (0, numeric_js_1.sum)(H.concat(D, this.rLines, this.rSpace));\n            }\n            height += 2 * (this.fLine + this.fSpace[1]);\n            var CW = this.getComputedWidths();\n            width = (0, numeric_js_1.sum)(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);\n            var w = this.node.attributes.get('width');\n            if (w !== 'auto') {\n                width = Math.max(this.length2em(w, 0) + 2 * this.fLine, width);\n            }\n            var _b = __read(this.getBBoxHD(height), 2), h = _b[0], d = _b[1];\n            bbox.h = h;\n            bbox.d = d;\n            bbox.w = width;\n            var _c = __read(this.getBBoxLR(), 2), L = _c[0], R = _c[1];\n            bbox.L = L;\n            bbox.R = R;\n            if (!(0, string_js_1.isPercent)(w)) {\n                this.setColumnPWidths();\n            }\n        };\n        class_1.prototype.setChildPWidths = function (_recompute, cwidth, _clear) {\n            var width = this.node.attributes.get('width');\n            if (!(0, string_js_1.isPercent)(width))\n                return false;\n            if (!this.hasLabels) {\n                this.bbox.pwidth = '';\n                this.container.bbox.pwidth = '';\n            }\n            var _a = this.bbox, w = _a.w, L = _a.L, R = _a.R;\n            var labelInWidth = this.node.attributes.get('data-width-includes-label');\n            var W = Math.max(w, this.length2em(width, Math.max(cwidth, L + w + R))) - (labelInWidth ? L + R : 0);\n            var cols = (this.node.attributes.get('equalcolumns') ?\n                Array(this.numCols).fill(this.percent(1 / Math.max(1, this.numCols))) :\n                this.getColumnAttributes('columnwidth', 0));\n            this.cWidths = this.getColumnWidthsFixed(cols, W);\n            var CW = this.getComputedWidths();\n            this.pWidth = (0, numeric_js_1.sum)(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);\n            if (this.isTop) {\n                this.bbox.w = this.pWidth;\n            }\n            this.setColumnPWidths();\n            if (this.pWidth !== w) {\n                this.parent.invalidateBBox();\n            }\n            return this.pWidth !== w;\n        };\n        class_1.prototype.setColumnPWidths = function () {\n            var e_4, _a;\n            var W = this.cWidths;\n            try {\n                for (var _b = __values(this.pwidthCells), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var _d = __read(_c.value, 2), cell = _d[0], i = _d[1];\n                    if (cell.setChildPWidths(false, W[i])) {\n                        cell.invalidateBBox();\n                        cell.getBBox();\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        };\n        class_1.prototype.getBBoxHD = function (height) {\n            var _a = __read(this.getAlignmentRow(), 2), align = _a[0], row = _a[1];\n            if (row === null) {\n                var a = this.font.params.axis_height;\n                var h2 = height / 2;\n                var HD = {\n                    top: [0, height],\n                    center: [h2, h2],\n                    bottom: [height, 0],\n                    baseline: [h2, h2],\n                    axis: [h2 + a, h2 - a]\n                };\n                return HD[align] || [h2, h2];\n            }\n            else {\n                var y = this.getVerticalPosition(row, align);\n                return [y, height - y];\n            }\n        };\n        class_1.prototype.getBBoxLR = function () {\n            if (this.hasLabels) {\n                var attributes = this.node.attributes;\n                var side = attributes.get('side');\n                var _a = __read(this.getPadAlignShift(side), 2), pad = _a[0], align = _a[1];\n                var labels = this.hasLabels && !!attributes.get('data-width-includes-label');\n                if (labels && this.frame && this.fSpace[0]) {\n                    pad -= this.fSpace[0];\n                }\n                return (align === 'center' && !labels ? [pad, pad] :\n                    side === 'left' ? [pad, 0] : [0, pad]);\n            }\n            return [0, 0];\n        };\n        class_1.prototype.getPadAlignShift = function (side) {\n            var L = this.getTableData().L;\n            var sep = this.length2em(this.node.attributes.get('minlabelspacing'));\n            var pad = L + sep;\n            var _a = __read((this.styles == null ? ['', ''] :\n                [this.styles.get('padding-left'), this.styles.get('padding-right')]), 2), lpad = _a[0], rpad = _a[1];\n            if (lpad || rpad) {\n                pad = Math.max(pad, this.length2em(lpad || '0'), this.length2em(rpad || '0'));\n            }\n            var _b = __read(this.getAlignShift(), 2), align = _b[0], shift = _b[1];\n            if (align === side) {\n                shift = (side === 'left' ? Math.max(pad, shift) - pad : Math.min(-pad, shift) + pad);\n            }\n            return [pad, align, shift];\n        };\n        class_1.prototype.getAlignShift = function () {\n            return (this.isTop ? _super.prototype.getAlignShift.call(this) :\n                [this.container.getChildAlign(this.containerI), 0]);\n        };\n        class_1.prototype.getWidth = function () {\n            return this.pWidth || this.getBBox().w;\n        };\n        class_1.prototype.getEqualRowHeight = function () {\n            var _a = this.getTableData(), H = _a.H, D = _a.D;\n            var HD = Array.from(H.keys()).map(function (i) { return H[i] + D[i]; });\n            return Math.max.apply(Math, HD);\n        };\n        class_1.prototype.getComputedWidths = function () {\n            var _this = this;\n            var W = this.getTableData().W;\n            var CW = Array.from(W.keys()).map(function (i) {\n                return (typeof _this.cWidths[i] === 'number' ? _this.cWidths[i] : W[i]);\n            });\n            if (this.node.attributes.get('equalcolumns')) {\n                CW = Array(CW.length).fill((0, numeric_js_1.max)(CW));\n            }\n            return CW;\n        };\n        class_1.prototype.getColumnWidths = function () {\n            var width = this.node.attributes.get('width');\n            if (this.node.attributes.get('equalcolumns')) {\n                return this.getEqualColumns(width);\n            }\n            var swidths = this.getColumnAttributes('columnwidth', 0);\n            if (width === 'auto') {\n                return this.getColumnWidthsAuto(swidths);\n            }\n            if ((0, string_js_1.isPercent)(width)) {\n                return this.getColumnWidthsPercent(swidths);\n            }\n            return this.getColumnWidthsFixed(swidths, this.length2em(width));\n        };\n        class_1.prototype.getEqualColumns = function (width) {\n            var n = Math.max(1, this.numCols);\n            var cwidth;\n            if (width === 'auto') {\n                var W = this.getTableData().W;\n                cwidth = (0, numeric_js_1.max)(W);\n            }\n            else if ((0, string_js_1.isPercent)(width)) {\n                cwidth = this.percent(1 / n);\n            }\n            else {\n                var w = (0, numeric_js_1.sum)([].concat(this.cLines, this.cSpace)) + 2 * this.fSpace[0];\n                cwidth = Math.max(0, this.length2em(width) - w) / n;\n            }\n            return Array(this.numCols).fill(cwidth);\n        };\n        class_1.prototype.getColumnWidthsAuto = function (swidths) {\n            var _this = this;\n            return swidths.map(function (x) {\n                if (x === 'auto' || x === 'fit')\n                    return null;\n                if ((0, string_js_1.isPercent)(x))\n                    return x;\n                return _this.length2em(x);\n            });\n        };\n        class_1.prototype.getColumnWidthsPercent = function (swidths) {\n            var _this = this;\n            var hasFit = swidths.indexOf('fit') >= 0;\n            var W = (hasFit ? this.getTableData() : { W: null }).W;\n            return Array.from(swidths.keys()).map(function (i) {\n                var x = swidths[i];\n                if (x === 'fit')\n                    return null;\n                if (x === 'auto')\n                    return (hasFit ? W[i] : null);\n                if ((0, string_js_1.isPercent)(x))\n                    return x;\n                return _this.length2em(x);\n            });\n        };\n        class_1.prototype.getColumnWidthsFixed = function (swidths, width) {\n            var _this = this;\n            var indices = Array.from(swidths.keys());\n            var fit = indices.filter(function (i) { return swidths[i] === 'fit'; });\n            var auto = indices.filter(function (i) { return swidths[i] === 'auto'; });\n            var n = fit.length || auto.length;\n            var W = (n ? this.getTableData() : { W: null }).W;\n            var cwidth = width - (0, numeric_js_1.sum)([].concat(this.cLines, this.cSpace)) - 2 * this.fSpace[0];\n            var dw = cwidth;\n            indices.forEach(function (i) {\n                var x = swidths[i];\n                dw -= (x === 'fit' || x === 'auto' ? W[i] : _this.length2em(x, cwidth));\n            });\n            var fw = (n && dw > 0 ? dw / n : 0);\n            return indices.map(function (i) {\n                var x = swidths[i];\n                if (x === 'fit')\n                    return W[i] + fw;\n                if (x === 'auto')\n                    return W[i] + (fit.length === 0 ? fw : 0);\n                return _this.length2em(x, cwidth);\n            });\n        };\n        class_1.prototype.getVerticalPosition = function (i, align) {\n            var equal = this.node.attributes.get('equalrows');\n            var _a = this.getTableData(), H = _a.H, D = _a.D;\n            var HD = (equal ? this.getEqualRowHeight() : 0);\n            var space = this.getRowHalfSpacing();\n            var y = this.fLine;\n            for (var j = 0; j < i; j++) {\n                y += space[j] + (equal ? HD : H[j] + D[j]) + space[j + 1] + this.rLines[j];\n            }\n            var _b = __read((equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : [H[i], D[i]]), 2), h = _b[0], d = _b[1];\n            var offset = {\n                top: 0,\n                center: space[i] + (h + d) / 2,\n                bottom: space[i] + h + d + space[i + 1],\n                baseline: space[i] + h,\n                axis: space[i] + h - .25\n            };\n            y += offset[align] || 0;\n            return y;\n        };\n        class_1.prototype.getEmHalfSpacing = function (fspace, space, scale) {\n            if (scale === void 0) { scale = 1; }\n            var fspaceEm = this.em(fspace * scale);\n            var spaceEm = this.addEm(space, 2 / scale);\n            spaceEm.unshift(fspaceEm);\n            spaceEm.push(fspaceEm);\n            return spaceEm;\n        };\n        class_1.prototype.getRowHalfSpacing = function () {\n            var space = this.rSpace.map(function (x) { return x / 2; });\n            space.unshift(this.fSpace[1]);\n            space.push(this.fSpace[1]);\n            return space;\n        };\n        class_1.prototype.getColumnHalfSpacing = function () {\n            var space = this.cSpace.map(function (x) { return x / 2; });\n            space.unshift(this.fSpace[0]);\n            space.push(this.fSpace[0]);\n            return space;\n        };\n        class_1.prototype.getAlignmentRow = function () {\n            var _a = __read((0, string_js_1.split)(this.node.attributes.get('align')), 2), align = _a[0], row = _a[1];\n            if (row == null)\n                return [align, null];\n            var i = parseInt(row);\n            if (i < 0)\n                i += this.numRows + 1;\n            return [align, i < 1 || i > this.numRows ? null : i - 1];\n        };\n        class_1.prototype.getColumnAttributes = function (name, i) {\n            if (i === void 0) { i = 1; }\n            var n = this.numCols - i;\n            var columns = this.getAttributeArray(name);\n            if (columns.length === 0)\n                return null;\n            while (columns.length < n) {\n                columns.push(columns[columns.length - 1]);\n            }\n            if (columns.length > n) {\n                columns.splice(n);\n            }\n            return columns;\n        };\n        class_1.prototype.getRowAttributes = function (name, i) {\n            if (i === void 0) { i = 1; }\n            var n = this.numRows - i;\n            var rows = this.getAttributeArray(name);\n            if (rows.length === 0)\n                return null;\n            while (rows.length < n) {\n                rows.push(rows[rows.length - 1]);\n            }\n            if (rows.length > n) {\n                rows.splice(n);\n            }\n            return rows;\n        };\n        class_1.prototype.getAttributeArray = function (name) {\n            var value = this.node.attributes.get(name);\n            if (!value)\n                return [this.node.attributes.getDefault(name)];\n            return (0, string_js_1.split)(value);\n        };\n        class_1.prototype.addEm = function (list, n) {\n            var _this = this;\n            if (n === void 0) { n = 1; }\n            if (!list)\n                return null;\n            return list.map(function (x) { return _this.em(x / n); });\n        };\n        class_1.prototype.convertLengths = function (list) {\n            var _this = this;\n            if (!list)\n                return null;\n            return list.map(function (x) { return _this.length2em(x); });\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMtableMixin = CommonMtableMixin;\n//# sourceMappingURL=mtable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMtdMixin = void 0;\nfunction CommonMtdMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(class_1.prototype, \"fixesPWidth\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.invalidateBBox = function () {\n            this.bboxComputed = false;\n        };\n        class_1.prototype.getWrapWidth = function (_j) {\n            var table = this.parent.parent;\n            var row = this.parent;\n            var i = this.node.childPosition() - (row.labeled ? 1 : 0);\n            return (typeof (table.cWidths[i]) === 'number' ? table.cWidths[i] : table.getTableData().W[i]);\n        };\n        class_1.prototype.getChildAlign = function (_i) {\n            return this.node.attributes.get('columnalign');\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMtdMixin = CommonMtdMixin;\n//# sourceMappingURL=mtd.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMtextMixin = void 0;\nfunction CommonMtextMixin(Base) {\n    var _a;\n    return _a = (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            class_1.prototype.getVariant = function () {\n                var options = this.jax.options;\n                var data = this.jax.math.outputData;\n                var merror = ((!!data.merrorFamily || !!options.merrorFont) && this.node.Parent.isKind('merror'));\n                if (!!data.mtextFamily || !!options.mtextFont || merror) {\n                    var variant = this.node.attributes.get('mathvariant');\n                    var font = this.constructor.INHERITFONTS[variant] || this.jax.font.getCssFont(variant);\n                    var family = font[0] || (merror ? data.merrorFamily || options.merrorFont :\n                        data.mtextFamily || options.mtextFont);\n                    this.variant = this.explicitVariant(family, font[2] ? 'bold' : '', font[1] ? 'italic' : '');\n                    return;\n                }\n                _super.prototype.getVariant.call(this);\n            };\n            return class_1;\n        }(Base)),\n        _a.INHERITFONTS = {\n            normal: ['', false, false],\n            bold: ['', false, true],\n            italic: ['', true, false],\n            'bold-italic': ['', true, true]\n        },\n        _a;\n}\nexports.CommonMtextMixin = CommonMtextMixin;\n//# sourceMappingURL=mtext.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMlabeledtrMixin = exports.CommonMtrMixin = void 0;\nfunction CommonMtrMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(class_1.prototype, \"fixesPWidth\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"numCells\", {\n            get: function () {\n                return this.childNodes.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"labeled\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"tableCells\", {\n            get: function () {\n                return this.childNodes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.getChild = function (i) {\n            return this.childNodes[i];\n        };\n        class_1.prototype.getChildBBoxes = function () {\n            return this.childNodes.map(function (cell) { return cell.getBBox(); });\n        };\n        class_1.prototype.stretchChildren = function (HD) {\n            var e_1, _a, e_2, _b, e_3, _c;\n            if (HD === void 0) { HD = null; }\n            var stretchy = [];\n            var children = (this.labeled ? this.childNodes.slice(1) : this.childNodes);\n            try {\n                for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {\n                    var mtd = children_1_1.value;\n                    var child = mtd.childNodes[0];\n                    if (child.canStretch(1)) {\n                        stretchy.push(child);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            var count = stretchy.length;\n            var nodeCount = this.childNodes.length;\n            if (count && nodeCount > 1) {\n                if (HD === null) {\n                    var H = 0, D = 0;\n                    var all = (count > 1 && count === nodeCount);\n                    try {\n                        for (var children_2 = __values(children), children_2_1 = children_2.next(); !children_2_1.done; children_2_1 = children_2.next()) {\n                            var mtd = children_2_1.value;\n                            var child = mtd.childNodes[0];\n                            var noStretch = (child.stretch.dir === 0);\n                            if (all || noStretch) {\n                                var _d = child.getBBox(noStretch), h = _d.h, d = _d.d;\n                                if (h > H) {\n                                    H = h;\n                                }\n                                if (d > D) {\n                                    D = d;\n                                }\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (children_2_1 && !children_2_1.done && (_b = children_2.return)) _b.call(children_2);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                    HD = [H, D];\n                }\n                try {\n                    for (var stretchy_1 = __values(stretchy), stretchy_1_1 = stretchy_1.next(); !stretchy_1_1.done; stretchy_1_1 = stretchy_1.next()) {\n                        var child = stretchy_1_1.value;\n                        child.coreMO().getStretchedVariant(HD);\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (stretchy_1_1 && !stretchy_1_1.done && (_c = stretchy_1.return)) _c.call(stretchy_1);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n            }\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMtrMixin = CommonMtrMixin;\nfunction CommonMlabeledtrMixin(Base) {\n    return (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(class_2.prototype, \"numCells\", {\n            get: function () {\n                return Math.max(0, this.childNodes.length - 1);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_2.prototype, \"labeled\", {\n            get: function () {\n                return true;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_2.prototype, \"tableCells\", {\n            get: function () {\n                return this.childNodes.slice(1);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_2.prototype.getChild = function (i) {\n            return this.childNodes[i + 1];\n        };\n        class_2.prototype.getChildBBoxes = function () {\n            return this.childNodes.slice(1).map(function (cell) { return cell.getBBox(); });\n        };\n        return class_2;\n    }(Base));\n}\nexports.CommonMlabeledtrMixin = CommonMlabeledtrMixin;\n//# sourceMappingURL=mtr.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonMunderoverMixin = exports.CommonMoverMixin = exports.CommonMunderMixin = void 0;\nfunction CommonMunderMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.stretchChildren();\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"scriptChild\", {\n            get: function () {\n                return this.childNodes[this.node.under];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_1.prototype.computeBBox = function (bbox, recompute) {\n            if (recompute === void 0) { recompute = false; }\n            if (this.hasMovableLimits()) {\n                _super.prototype.computeBBox.call(this, bbox, recompute);\n                return;\n            }\n            bbox.empty();\n            var basebox = this.baseChild.getOuterBBox();\n            var underbox = this.scriptChild.getOuterBBox();\n            var v = this.getUnderKV(basebox, underbox)[1];\n            var delta = (this.isLineBelow ? 0 : this.getDelta(true));\n            var _a = __read(this.getDeltaW([basebox, underbox], [0, -delta]), 2), bw = _a[0], uw = _a[1];\n            bbox.combine(basebox, bw, 0);\n            bbox.combine(underbox, uw, v);\n            bbox.d += this.font.params.big_op_spacing5;\n            bbox.clean();\n            this.setChildPWidths(recompute);\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonMunderMixin = CommonMunderMixin;\nfunction CommonMoverMixin(Base) {\n    return (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.stretchChildren();\n            return _this;\n        }\n        Object.defineProperty(class_2.prototype, \"scriptChild\", {\n            get: function () {\n                return this.childNodes[this.node.over];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_2.prototype.computeBBox = function (bbox) {\n            if (this.hasMovableLimits()) {\n                _super.prototype.computeBBox.call(this, bbox);\n                return;\n            }\n            bbox.empty();\n            var basebox = this.baseChild.getOuterBBox();\n            var overbox = this.scriptChild.getOuterBBox();\n            if (this.node.attributes.get('accent')) {\n                basebox.h = Math.max(basebox.h, this.font.params.x_height * basebox.scale);\n            }\n            var u = this.getOverKU(basebox, overbox)[1];\n            var delta = (this.isLineAbove ? 0 : this.getDelta());\n            var _a = __read(this.getDeltaW([basebox, overbox], [0, delta]), 2), bw = _a[0], ow = _a[1];\n            bbox.combine(basebox, bw, 0);\n            bbox.combine(overbox, ow, u);\n            bbox.h += this.font.params.big_op_spacing5;\n            bbox.clean();\n        };\n        return class_2;\n    }(Base));\n}\nexports.CommonMoverMixin = CommonMoverMixin;\nfunction CommonMunderoverMixin(Base) {\n    return (function (_super) {\n        __extends(class_3, _super);\n        function class_3() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n            _this.stretchChildren();\n            return _this;\n        }\n        Object.defineProperty(class_3.prototype, \"underChild\", {\n            get: function () {\n                return this.childNodes[this.node.under];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_3.prototype, \"overChild\", {\n            get: function () {\n                return this.childNodes[this.node.over];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_3.prototype, \"subChild\", {\n            get: function () {\n                return this.underChild;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(class_3.prototype, \"supChild\", {\n            get: function () {\n                return this.overChild;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        class_3.prototype.computeBBox = function (bbox) {\n            if (this.hasMovableLimits()) {\n                _super.prototype.computeBBox.call(this, bbox);\n                return;\n            }\n            bbox.empty();\n            var overbox = this.overChild.getOuterBBox();\n            var basebox = this.baseChild.getOuterBBox();\n            var underbox = this.underChild.getOuterBBox();\n            if (this.node.attributes.get('accent')) {\n                basebox.h = Math.max(basebox.h, this.font.params.x_height * basebox.scale);\n            }\n            var u = this.getOverKU(basebox, overbox)[1];\n            var v = this.getUnderKV(basebox, underbox)[1];\n            var delta = this.getDelta();\n            var _a = __read(this.getDeltaW([basebox, underbox, overbox], [0, this.isLineBelow ? 0 : -delta, this.isLineAbove ? 0 : delta]), 3), bw = _a[0], uw = _a[1], ow = _a[2];\n            bbox.combine(basebox, bw, 0);\n            bbox.combine(overbox, ow, u);\n            bbox.combine(underbox, uw, v);\n            var z = this.font.params.big_op_spacing5;\n            bbox.h += z;\n            bbox.d += z;\n            bbox.clean();\n        };\n        return class_3;\n    }(Base));\n}\nexports.CommonMunderoverMixin = CommonMunderoverMixin;\n//# sourceMappingURL=munderover.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonScriptbaseMixin = void 0;\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nfunction CommonScriptbaseMixin(Base) {\n    var _a;\n    return _a = (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n                _this.baseScale = 1;\n                _this.baseIc = 0;\n                _this.baseRemoveIc = false;\n                _this.baseIsChar = false;\n                _this.baseHasAccentOver = null;\n                _this.baseHasAccentUnder = null;\n                _this.isLineAbove = false;\n                _this.isLineBelow = false;\n                _this.isMathAccent = false;\n                var core = _this.baseCore = _this.getBaseCore();\n                if (!core)\n                    return _this;\n                _this.setBaseAccentsFor(core);\n                _this.baseScale = _this.getBaseScale();\n                _this.baseIc = _this.getBaseIc();\n                _this.baseIsChar = _this.isCharBase();\n                _this.isMathAccent = _this.baseIsChar &&\n                    (_this.scriptChild && !!_this.scriptChild.coreMO().node.getProperty('mathaccent'));\n                _this.checkLineAccents();\n                _this.baseRemoveIc = !_this.isLineAbove && !_this.isLineBelow &&\n                    (!_this.constructor.useIC || _this.isMathAccent);\n                return _this;\n            }\n            Object.defineProperty(class_1.prototype, \"baseChild\", {\n                get: function () {\n                    return this.childNodes[this.node.base];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            Object.defineProperty(class_1.prototype, \"scriptChild\", {\n                get: function () {\n                    return this.childNodes[1];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            class_1.prototype.getBaseCore = function () {\n                var core = this.getSemanticBase() || this.childNodes[0];\n                while (core &&\n                    ((core.childNodes.length === 1 &&\n                        (core.node.isKind('mrow') ||\n                            (core.node.isKind('TeXAtom') && core.node.texClass !== MmlNode_js_1.TEXCLASS.VCENTER) ||\n                            core.node.isKind('mstyle') || core.node.isKind('mpadded') ||\n                            core.node.isKind('mphantom') || core.node.isKind('semantics'))) ||\n                        (core.node.isKind('munderover') && core.isMathAccent))) {\n                    this.setBaseAccentsFor(core);\n                    core = core.childNodes[0];\n                }\n                if (!core) {\n                    this.baseHasAccentOver = this.baseHasAccentUnder = false;\n                }\n                return core || this.childNodes[0];\n            };\n            class_1.prototype.setBaseAccentsFor = function (core) {\n                if (core.node.isKind('munderover')) {\n                    if (this.baseHasAccentOver === null) {\n                        this.baseHasAccentOver = !!core.node.attributes.get('accent');\n                    }\n                    if (this.baseHasAccentUnder === null) {\n                        this.baseHasAccentUnder = !!core.node.attributes.get('accentunder');\n                    }\n                }\n            };\n            class_1.prototype.getSemanticBase = function () {\n                var fence = this.node.attributes.getExplicit('data-semantic-fencepointer');\n                return this.getBaseFence(this.baseChild, fence);\n            };\n            class_1.prototype.getBaseFence = function (fence, id) {\n                var e_1, _a;\n                if (!fence || !fence.node.attributes || !id) {\n                    return null;\n                }\n                if (fence.node.attributes.getExplicit('data-semantic-id') === id) {\n                    return fence;\n                }\n                try {\n                    for (var _b = __values(fence.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var child = _c.value;\n                        var result = this.getBaseFence(child, id);\n                        if (result) {\n                            return result;\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                return null;\n            };\n            class_1.prototype.getBaseScale = function () {\n                var child = this.baseCore;\n                var scale = 1;\n                while (child && child !== this) {\n                    var bbox = child.getOuterBBox();\n                    scale *= bbox.rscale;\n                    child = child.parent;\n                }\n                return scale;\n            };\n            class_1.prototype.getBaseIc = function () {\n                return this.baseCore.getOuterBBox().ic * this.baseScale;\n            };\n            class_1.prototype.getAdjustedIc = function () {\n                var bbox = this.baseCore.getOuterBBox();\n                return (bbox.ic ? 1.05 * bbox.ic + .05 : 0) * this.baseScale;\n            };\n            class_1.prototype.isCharBase = function () {\n                var base = this.baseCore;\n                return (((base.node.isKind('mo') && base.size === null) ||\n                    base.node.isKind('mi') || base.node.isKind('mn')) &&\n                    base.bbox.rscale === 1 && Array.from(base.getText()).length === 1);\n            };\n            class_1.prototype.checkLineAccents = function () {\n                if (!this.node.isKind('munderover'))\n                    return;\n                if (this.node.isKind('mover')) {\n                    this.isLineAbove = this.isLineAccent(this.scriptChild);\n                }\n                else if (this.node.isKind('munder')) {\n                    this.isLineBelow = this.isLineAccent(this.scriptChild);\n                }\n                else {\n                    var mml = this;\n                    this.isLineAbove = this.isLineAccent(mml.overChild);\n                    this.isLineBelow = this.isLineAccent(mml.underChild);\n                }\n            };\n            class_1.prototype.isLineAccent = function (script) {\n                var node = script.coreMO().node;\n                return (node.isToken && node.getText() === '\\u2015');\n            };\n            class_1.prototype.getBaseWidth = function () {\n                var bbox = this.baseChild.getOuterBBox();\n                return bbox.w * bbox.rscale - (this.baseRemoveIc ? this.baseIc : 0) + this.font.params.extra_ic;\n            };\n            class_1.prototype.computeBBox = function (bbox, recompute) {\n                if (recompute === void 0) { recompute = false; }\n                var w = this.getBaseWidth();\n                var _a = __read(this.getOffset(), 2), x = _a[0], y = _a[1];\n                bbox.append(this.baseChild.getOuterBBox());\n                bbox.combine(this.scriptChild.getOuterBBox(), w + x, y);\n                bbox.w += this.font.params.scriptspace;\n                bbox.clean();\n                this.setChildPWidths(recompute);\n            };\n            class_1.prototype.getOffset = function () {\n                return [0, 0];\n            };\n            class_1.prototype.baseCharZero = function (n) {\n                var largeop = !!this.baseCore.node.attributes.get('largeop');\n                var scale = this.baseScale;\n                return (this.baseIsChar && !largeop && scale === 1 ? 0 : n);\n            };\n            class_1.prototype.getV = function () {\n                var bbox = this.baseCore.getOuterBBox();\n                var sbox = this.scriptChild.getOuterBBox();\n                var tex = this.font.params;\n                var subscriptshift = this.length2em(this.node.attributes.get('subscriptshift'), tex.sub1);\n                return Math.max(this.baseCharZero(bbox.d * this.baseScale + tex.sub_drop * sbox.rscale), subscriptshift, sbox.h * sbox.rscale - (4 / 5) * tex.x_height);\n            };\n            class_1.prototype.getU = function () {\n                var bbox = this.baseCore.getOuterBBox();\n                var sbox = this.scriptChild.getOuterBBox();\n                var tex = this.font.params;\n                var attr = this.node.attributes.getList('displaystyle', 'superscriptshift');\n                var prime = this.node.getProperty('texprimestyle');\n                var p = prime ? tex.sup3 : (attr.displaystyle ? tex.sup1 : tex.sup2);\n                var superscriptshift = this.length2em(attr.superscriptshift, p);\n                return Math.max(this.baseCharZero(bbox.h * this.baseScale - tex.sup_drop * sbox.rscale), superscriptshift, sbox.d * sbox.rscale + (1 / 4) * tex.x_height);\n            };\n            class_1.prototype.hasMovableLimits = function () {\n                var display = this.node.attributes.get('displaystyle');\n                var mo = this.baseChild.coreMO().node;\n                return (!display && !!mo.attributes.get('movablelimits'));\n            };\n            class_1.prototype.getOverKU = function (basebox, overbox) {\n                var accent = this.node.attributes.get('accent');\n                var tex = this.font.params;\n                var d = overbox.d * overbox.rscale;\n                var t = tex.rule_thickness * tex.separation_factor;\n                var delta = (this.baseHasAccentOver ? t : 0);\n                var T = (this.isLineAbove ? 3 * tex.rule_thickness : t);\n                var k = (accent ? T : Math.max(tex.big_op_spacing1, tex.big_op_spacing3 - Math.max(0, d))) - delta;\n                return [k, basebox.h * basebox.rscale + k + d];\n            };\n            class_1.prototype.getUnderKV = function (basebox, underbox) {\n                var accent = this.node.attributes.get('accentunder');\n                var tex = this.font.params;\n                var h = underbox.h * underbox.rscale;\n                var t = tex.rule_thickness * tex.separation_factor;\n                var delta = (this.baseHasAccentUnder ? t : 0);\n                var T = (this.isLineBelow ? 3 * tex.rule_thickness : t);\n                var k = (accent ? T : Math.max(tex.big_op_spacing2, tex.big_op_spacing4 - h)) - delta;\n                return [k, -(basebox.d * basebox.rscale + k + h)];\n            };\n            class_1.prototype.getDeltaW = function (boxes, delta) {\n                var e_2, _a, e_3, _b;\n                if (delta === void 0) { delta = [0, 0, 0]; }\n                var align = this.node.attributes.get('align');\n                var widths = boxes.map(function (box) { return box.w * box.rscale; });\n                widths[0] -= (this.baseRemoveIc && !this.baseCore.node.attributes.get('largeop') ? this.baseIc : 0);\n                var w = Math.max.apply(Math, __spreadArray([], __read(widths), false));\n                var dw = [];\n                var m = 0;\n                try {\n                    for (var _c = __values(widths.keys()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var i = _d.value;\n                        dw[i] = (align === 'center' ? (w - widths[i]) / 2 :\n                            align === 'right' ? w - widths[i] : 0) + delta[i];\n                        if (dw[i] < m) {\n                            m = -dw[i];\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (m) {\n                    try {\n                        for (var _e = __values(dw.keys()), _f = _e.next(); !_f.done; _f = _e.next()) {\n                            var i = _f.value;\n                            dw[i] += m;\n                        }\n                    }\n                    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                    finally {\n                        try {\n                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                        }\n                        finally { if (e_3) throw e_3.error; }\n                    }\n                }\n                [1, 2].map(function (i) { return dw[i] += (boxes[i] ? boxes[i].dx * boxes[0].scale : 0); });\n                return dw;\n            };\n            class_1.prototype.getDelta = function (noskew) {\n                if (noskew === void 0) { noskew = false; }\n                var accent = this.node.attributes.get('accent');\n                var _a = this.baseCore.getOuterBBox(), sk = _a.sk, ic = _a.ic;\n                return ((accent && !noskew ? sk : 0) + this.font.skewIcFactor * ic) * this.baseScale;\n            };\n            class_1.prototype.stretchChildren = function () {\n                var e_4, _a, e_5, _b, e_6, _c;\n                var stretchy = [];\n                try {\n                    for (var _d = __values(this.childNodes), _e = _d.next(); !_e.done; _e = _d.next()) {\n                        var child = _e.value;\n                        if (child.canStretch(2)) {\n                            stretchy.push(child);\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n                var count = stretchy.length;\n                var nodeCount = this.childNodes.length;\n                if (count && nodeCount > 1) {\n                    var W = 0;\n                    var all = (count > 1 && count === nodeCount);\n                    try {\n                        for (var _f = __values(this.childNodes), _g = _f.next(); !_g.done; _g = _f.next()) {\n                            var child = _g.value;\n                            var noStretch = (child.stretch.dir === 0);\n                            if (all || noStretch) {\n                                var _h = child.getOuterBBox(noStretch), w = _h.w, rscale = _h.rscale;\n                                if (w * rscale > W)\n                                    W = w * rscale;\n                            }\n                        }\n                    }\n                    catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                    finally {\n                        try {\n                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n                        }\n                        finally { if (e_5) throw e_5.error; }\n                    }\n                    try {\n                        for (var stretchy_1 = __values(stretchy), stretchy_1_1 = stretchy_1.next(); !stretchy_1_1.done; stretchy_1_1 = stretchy_1.next()) {\n                            var child = stretchy_1_1.value;\n                            child.coreMO().getStretchedVariant([W / child.bbox.rscale]);\n                        }\n                    }\n                    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                    finally {\n                        try {\n                            if (stretchy_1_1 && !stretchy_1_1.done && (_c = stretchy_1.return)) _c.call(stretchy_1);\n                        }\n                        finally { if (e_6) throw e_6.error; }\n                    }\n                }\n            };\n            return class_1;\n        }(Base)),\n        _a.useIC = true,\n        _a;\n}\nexports.CommonScriptbaseMixin = CommonScriptbaseMixin;\n//# sourceMappingURL=scriptbase.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonSemanticsMixin = void 0;\nfunction CommonSemanticsMixin(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.computeBBox = function (bbox, _recompute) {\n            if (_recompute === void 0) { _recompute = false; }\n            if (this.childNodes.length) {\n                var _a = this.childNodes[0].getBBox(), w = _a.w, h = _a.h, d = _a.d;\n                bbox.w = w;\n                bbox.h = h;\n                bbox.d = d;\n            }\n        };\n        return class_1;\n    }(Base));\n}\nexports.CommonSemanticsMixin = CommonSemanticsMixin;\n//# sourceMappingURL=semantics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BBox = void 0;\nvar lengths_js_1 = require(\"./lengths.js\");\nvar BBox = (function () {\n    function BBox(def) {\n        if (def === void 0) { def = { w: 0, h: -lengths_js_1.BIGDIMEN, d: -lengths_js_1.BIGDIMEN }; }\n        this.w = def.w || 0;\n        this.h = ('h' in def ? def.h : -lengths_js_1.BIGDIMEN);\n        this.d = ('d' in def ? def.d : -lengths_js_1.BIGDIMEN);\n        this.L = this.R = this.ic = this.sk = this.dx = 0;\n        this.scale = this.rscale = 1;\n        this.pwidth = '';\n    }\n    BBox.zero = function () {\n        return new BBox({ h: 0, d: 0, w: 0 });\n    };\n    BBox.empty = function () {\n        return new BBox();\n    };\n    BBox.prototype.empty = function () {\n        this.w = 0;\n        this.h = this.d = -lengths_js_1.BIGDIMEN;\n        return this;\n    };\n    BBox.prototype.clean = function () {\n        if (this.w === -lengths_js_1.BIGDIMEN)\n            this.w = 0;\n        if (this.h === -lengths_js_1.BIGDIMEN)\n            this.h = 0;\n        if (this.d === -lengths_js_1.BIGDIMEN)\n            this.d = 0;\n    };\n    BBox.prototype.rescale = function (scale) {\n        this.w *= scale;\n        this.h *= scale;\n        this.d *= scale;\n    };\n    BBox.prototype.combine = function (cbox, x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        var rscale = cbox.rscale;\n        var w = x + rscale * (cbox.w + cbox.L + cbox.R);\n        var h = y + rscale * cbox.h;\n        var d = rscale * cbox.d - y;\n        if (w > this.w)\n            this.w = w;\n        if (h > this.h)\n            this.h = h;\n        if (d > this.d)\n            this.d = d;\n    };\n    BBox.prototype.append = function (cbox) {\n        var scale = cbox.rscale;\n        this.w += scale * (cbox.w + cbox.L + cbox.R);\n        if (scale * cbox.h > this.h) {\n            this.h = scale * cbox.h;\n        }\n        if (scale * cbox.d > this.d) {\n            this.d = scale * cbox.d;\n        }\n    };\n    BBox.prototype.updateFrom = function (cbox) {\n        this.h = cbox.h;\n        this.d = cbox.d;\n        this.w = cbox.w;\n        if (cbox.pwidth) {\n            this.pwidth = cbox.pwidth;\n        }\n    };\n    BBox.fullWidth = '100%';\n    BBox.StyleAdjust = [\n        ['borderTopWidth', 'h'],\n        ['borderRightWidth', 'w'],\n        ['borderBottomWidth', 'd'],\n        ['borderLeftWidth', 'w', 0],\n        ['paddingTop', 'h'],\n        ['paddingRight', 'w'],\n        ['paddingBottom', 'd'],\n        ['paddingLeft', 'w', 0]\n    ];\n    return BBox;\n}());\nexports.BBox = BBox;\n//# sourceMappingURL=BBox.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionList = void 0;\nvar PrioritizedList_js_1 = require(\"./PrioritizedList.js\");\nvar FunctionList = (function (_super) {\n    __extends(FunctionList, _super);\n    function FunctionList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FunctionList.prototype.execute = function () {\n        var e_1, _a;\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        try {\n            for (var _b = __values(this), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                var result = item.item.apply(item, __spreadArray([], __read(data), false));\n                if (result === false) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return true;\n    };\n    FunctionList.prototype.asyncExecute = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        var i = -1;\n        var items = this.items;\n        return new Promise(function (ok, fail) {\n            (function execute() {\n                var _a;\n                while (++i < items.length) {\n                    var result = (_a = items[i]).item.apply(_a, __spreadArray([], __read(data), false));\n                    if (result instanceof Promise) {\n                        result.then(execute).catch(function (err) { return fail(err); });\n                        return;\n                    }\n                    if (result === false) {\n                        ok(false);\n                        return;\n                    }\n                }\n                ok(true);\n            })();\n        });\n    };\n    return FunctionList;\n}(PrioritizedList_js_1.PrioritizedList));\nexports.FunctionList = FunctionList;\n//# sourceMappingURL=FunctionList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrioritizedList = void 0;\nvar PrioritizedList = (function () {\n    function PrioritizedList() {\n        this.items = [];\n        this.items = [];\n    }\n    PrioritizedList.prototype[Symbol.iterator] = function () {\n        var i = 0;\n        var items = this.items;\n        return {\n            next: function () {\n                return { value: items[i++], done: (i > items.length) };\n            }\n        };\n    };\n    PrioritizedList.prototype.add = function (item, priority) {\n        if (priority === void 0) { priority = PrioritizedList.DEFAULTPRIORITY; }\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && priority < this.items[i].priority);\n        this.items.splice(i + 1, 0, { item: item, priority: priority });\n        return item;\n    };\n    PrioritizedList.prototype.remove = function (item) {\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && this.items[i].item !== item);\n        if (i >= 0) {\n            this.items.splice(i, 1);\n        }\n    };\n    PrioritizedList.DEFAULTPRIORITY = 5;\n    return PrioritizedList;\n}());\nexports.PrioritizedList = PrioritizedList;\n//# sourceMappingURL=PrioritizedList.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CssStyles = void 0;\nvar CssStyles = (function () {\n    function CssStyles(styles) {\n        if (styles === void 0) { styles = null; }\n        this.styles = {};\n        this.addStyles(styles);\n    }\n    Object.defineProperty(CssStyles.prototype, \"cssText\", {\n        get: function () {\n            return this.getStyleString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CssStyles.prototype.addStyles = function (styles) {\n        var e_1, _a;\n        if (!styles)\n            return;\n        try {\n            for (var _b = __values(Object.keys(styles)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var style = _c.value;\n                if (!this.styles[style]) {\n                    this.styles[style] = {};\n                }\n                Object.assign(this.styles[style], styles[style]);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    CssStyles.prototype.removeStyles = function () {\n        var e_2, _a;\n        var selectors = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            selectors[_i] = arguments[_i];\n        }\n        try {\n            for (var selectors_1 = __values(selectors), selectors_1_1 = selectors_1.next(); !selectors_1_1.done; selectors_1_1 = selectors_1.next()) {\n                var selector = selectors_1_1.value;\n                delete this.styles[selector];\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (selectors_1_1 && !selectors_1_1.done && (_a = selectors_1.return)) _a.call(selectors_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    CssStyles.prototype.clear = function () {\n        this.styles = {};\n    };\n    CssStyles.prototype.getStyleString = function () {\n        return this.getStyleRules().join('\\n\\n');\n    };\n    CssStyles.prototype.getStyleRules = function () {\n        var e_3, _a;\n        var selectors = Object.keys(this.styles);\n        var defs = new Array(selectors.length);\n        var i = 0;\n        try {\n            for (var selectors_2 = __values(selectors), selectors_2_1 = selectors_2.next(); !selectors_2_1.done; selectors_2_1 = selectors_2.next()) {\n                var selector = selectors_2_1.value;\n                defs[i++] = selector + ' {\\n' + this.getStyleDefString(this.styles[selector]) + '\\n}';\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (selectors_2_1 && !selectors_2_1.done && (_a = selectors_2.return)) _a.call(selectors_2);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return defs;\n    };\n    CssStyles.prototype.getStyleDefString = function (styles) {\n        var e_4, _a;\n        var properties = Object.keys(styles);\n        var values = new Array(properties.length);\n        var i = 0;\n        try {\n            for (var properties_1 = __values(properties), properties_1_1 = properties_1.next(); !properties_1_1.done; properties_1_1 = properties_1.next()) {\n                var property = properties_1_1.value;\n                values[i++] = '  ' + property + ': ' + styles[property] + ';';\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (properties_1_1 && !properties_1_1.done && (_a = properties_1.return)) _a.call(properties_1);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return values.join('\\n');\n    };\n    return CssStyles;\n}());\nexports.CssStyles = CssStyles;\n//# sourceMappingURL=StyleList.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Styles = void 0;\nvar TRBL = ['top', 'right', 'bottom', 'left'];\nvar WSC = ['width', 'style', 'color'];\nfunction splitSpaces(text) {\n    var parts = text.split(/((?:'[^']*'|\"[^\"]*\"|,[\\s\\n]|[^\\s\\n])*)/g);\n    var split = [];\n    while (parts.length > 1) {\n        parts.shift();\n        split.push(parts.shift());\n    }\n    return split;\n}\nfunction splitTRBL(name) {\n    var e_1, _a;\n    var parts = splitSpaces(this.styles[name]);\n    if (parts.length === 0) {\n        parts.push('');\n    }\n    if (parts.length === 1) {\n        parts.push(parts[0]);\n    }\n    if (parts.length === 2) {\n        parts.push(parts[0]);\n    }\n    if (parts.length === 3) {\n        parts.push(parts[1]);\n    }\n    try {\n        for (var _b = __values(Styles.connect[name].children), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var child = _c.value;\n            this.setStyle(this.childName(name, child), parts.shift());\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nfunction combineTRBL(name) {\n    var e_2, _a;\n    var children = Styles.connect[name].children;\n    var parts = [];\n    try {\n        for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {\n            var child = children_1_1.value;\n            var part = this.styles[name + '-' + child];\n            if (!part) {\n                delete this.styles[name];\n                return;\n            }\n            parts.push(part);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    if (parts[3] === parts[1]) {\n        parts.pop();\n        if (parts[2] === parts[0]) {\n            parts.pop();\n            if (parts[1] === parts[0]) {\n                parts.pop();\n            }\n        }\n    }\n    this.styles[name] = parts.join(' ');\n}\nfunction splitSame(name) {\n    var e_3, _a;\n    try {\n        for (var _b = __values(Styles.connect[name].children), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var child = _c.value;\n            this.setStyle(this.childName(name, child), this.styles[name]);\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n}\nfunction combineSame(name) {\n    var e_4, _a;\n    var children = __spreadArray([], __read(Styles.connect[name].children), false);\n    var value = this.styles[this.childName(name, children.shift())];\n    try {\n        for (var children_2 = __values(children), children_2_1 = children_2.next(); !children_2_1.done; children_2_1 = children_2.next()) {\n            var child = children_2_1.value;\n            if (this.styles[this.childName(name, child)] !== value) {\n                delete this.styles[name];\n                return;\n            }\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (children_2_1 && !children_2_1.done && (_a = children_2.return)) _a.call(children_2);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n    this.styles[name] = value;\n}\nvar BORDER = {\n    width: /^(?:[\\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,\n    style: /^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/\n};\nfunction splitWSC(name) {\n    var e_5, _a, e_6, _b;\n    var parts = { width: '', style: '', color: '' };\n    try {\n        for (var _c = __values(splitSpaces(this.styles[name])), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var part = _d.value;\n            if (part.match(BORDER.width) && parts.width === '') {\n                parts.width = part;\n            }\n            else if (part.match(BORDER.style) && parts.style === '') {\n                parts.style = part;\n            }\n            else {\n                parts.color = part;\n            }\n        }\n    }\n    catch (e_5_1) { e_5 = { error: e_5_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n        }\n        finally { if (e_5) throw e_5.error; }\n    }\n    try {\n        for (var _e = __values(Styles.connect[name].children), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var child = _f.value;\n            this.setStyle(this.childName(name, child), parts[child]);\n        }\n    }\n    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        }\n        finally { if (e_6) throw e_6.error; }\n    }\n}\nfunction combineWSC(name) {\n    var e_7, _a;\n    var parts = [];\n    try {\n        for (var _b = __values(Styles.connect[name].children), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var child = _c.value;\n            var value = this.styles[this.childName(name, child)];\n            if (value) {\n                parts.push(value);\n            }\n        }\n    }\n    catch (e_7_1) { e_7 = { error: e_7_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_7) throw e_7.error; }\n    }\n    if (parts.length) {\n        this.styles[name] = parts.join(' ');\n    }\n    else {\n        delete this.styles[name];\n    }\n}\nvar FONT = {\n    style: /^(?:normal|italic|oblique|inherit|initial|unset)$/,\n    variant: new RegExp('^(?:' +\n        ['normal|none',\n            'inherit|initial|unset',\n            'common-ligatures|no-common-ligatures',\n            'discretionary-ligatures|no-discretionary-ligatures',\n            'historical-ligatures|no-historical-ligatures',\n            'contextual|no-contextual',\n            '(?:stylistic|character-variant|swash|ornaments|annotation)\\\\([^)]*\\\\)',\n            'small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps',\n            'lining-nums|oldstyle-nums|proportional-nums|tabular-nums',\n            'diagonal-fractions|stacked-fractions',\n            'ordinal|slashed-zero',\n            'jis78|jis83|jis90|jis04|simplified|traditional',\n            'full-width|proportional-width',\n            'ruby'].join('|') + ')$'),\n    weight: /^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,\n    stretch: new RegExp('^(?:' +\n        ['normal',\n            '(?:(?:ultra|extra|semi)-)?condensed',\n            '(?:(?:semi|extra|ulta)-)?expanded',\n            'inherit|initial|unset'].join('|') + ')$'),\n    size: new RegExp('^(?:' +\n        ['xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller',\n            '[\\d.]+%|[\\d.]+[a-z]+',\n            'inherit|initial|unset'].join('|') + ')' +\n        '(?:\\/(?:normal|[\\d.\\+](?:%|[a-z]+)?))?$')\n};\nfunction splitFont(name) {\n    var e_8, _a, e_9, _b;\n    var parts = splitSpaces(this.styles[name]);\n    var value = {\n        style: '', variant: [], weight: '', stretch: '',\n        size: '', family: '', 'line-height': ''\n    };\n    try {\n        for (var parts_1 = __values(parts), parts_1_1 = parts_1.next(); !parts_1_1.done; parts_1_1 = parts_1.next()) {\n            var part = parts_1_1.value;\n            value.family = part;\n            try {\n                for (var _c = (e_9 = void 0, __values(Object.keys(FONT))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var name_1 = _d.value;\n                    if ((Array.isArray(value[name_1]) || value[name_1] === '') && part.match(FONT[name_1])) {\n                        if (name_1 === 'size') {\n                            var _e = __read(part.split(/\\//), 2), size = _e[0], height = _e[1];\n                            value[name_1] = size;\n                            if (height) {\n                                value['line-height'] = height;\n                            }\n                        }\n                        else if (value.size === '') {\n                            if (Array.isArray(value[name_1])) {\n                                value[name_1].push(part);\n                            }\n                            else {\n                                value[name_1] = part;\n                            }\n                        }\n                    }\n                }\n            }\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_9) throw e_9.error; }\n            }\n        }\n    }\n    catch (e_8_1) { e_8 = { error: e_8_1 }; }\n    finally {\n        try {\n            if (parts_1_1 && !parts_1_1.done && (_a = parts_1.return)) _a.call(parts_1);\n        }\n        finally { if (e_8) throw e_8.error; }\n    }\n    saveFontParts(name, value);\n    delete this.styles[name];\n}\nfunction saveFontParts(name, value) {\n    var e_10, _a;\n    try {\n        for (var _b = __values(Styles.connect[name].children), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var child = _c.value;\n            var cname = this.childName(name, child);\n            if (Array.isArray(value[child])) {\n                var values = value[child];\n                if (values.length) {\n                    this.styles[cname] = values.join(' ');\n                }\n            }\n            else if (value[child] !== '') {\n                this.styles[cname] = value[child];\n            }\n        }\n    }\n    catch (e_10_1) { e_10 = { error: e_10_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_10) throw e_10.error; }\n    }\n}\nfunction combineFont(_name) { }\nvar Styles = (function () {\n    function Styles(cssText) {\n        if (cssText === void 0) { cssText = ''; }\n        this.parse(cssText);\n    }\n    Object.defineProperty(Styles.prototype, \"cssText\", {\n        get: function () {\n            var e_11, _a;\n            var styles = [];\n            try {\n                for (var _b = __values(Object.keys(this.styles)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var name_2 = _c.value;\n                    var parent_1 = this.parentName(name_2);\n                    if (!this.styles[parent_1]) {\n                        styles.push(name_2 + ': ' + this.styles[name_2] + ';');\n                    }\n                }\n            }\n            catch (e_11_1) { e_11 = { error: e_11_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_11) throw e_11.error; }\n            }\n            return styles.join(' ');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Styles.prototype.set = function (name, value) {\n        name = this.normalizeName(name);\n        this.setStyle(name, value);\n        if (Styles.connect[name] && !Styles.connect[name].combine) {\n            this.combineChildren(name);\n            delete this.styles[name];\n        }\n        while (name.match(/-/)) {\n            name = this.parentName(name);\n            if (!Styles.connect[name])\n                break;\n            Styles.connect[name].combine.call(this, name);\n        }\n    };\n    Styles.prototype.get = function (name) {\n        name = this.normalizeName(name);\n        return (this.styles.hasOwnProperty(name) ? this.styles[name] : '');\n    };\n    Styles.prototype.setStyle = function (name, value) {\n        this.styles[name] = value;\n        if (Styles.connect[name] && Styles.connect[name].children) {\n            Styles.connect[name].split.call(this, name);\n        }\n        if (value === '') {\n            delete this.styles[name];\n        }\n    };\n    Styles.prototype.combineChildren = function (name) {\n        var e_12, _a;\n        var parent = this.parentName(name);\n        try {\n            for (var _b = __values(Styles.connect[name].children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                var cname = this.childName(parent, child);\n                Styles.connect[cname].combine.call(this, cname);\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n    };\n    Styles.prototype.parentName = function (name) {\n        var parent = name.replace(/-[^-]*$/, '');\n        return (name === parent ? '' : parent);\n    };\n    Styles.prototype.childName = function (name, child) {\n        if (child.match(/-/)) {\n            return child;\n        }\n        if (Styles.connect[name] && !Styles.connect[name].combine) {\n            child += name.replace(/.*-/, '-');\n            name = this.parentName(name);\n        }\n        return name + '-' + child;\n    };\n    Styles.prototype.normalizeName = function (name) {\n        return name.replace(/[A-Z]/g, function (c) { return '-' + c.toLowerCase(); });\n    };\n    Styles.prototype.parse = function (cssText) {\n        if (cssText === void 0) { cssText = ''; }\n        var PATTERN = this.constructor.pattern;\n        this.styles = {};\n        var parts = cssText.replace(PATTERN.comment, '').split(PATTERN.style);\n        while (parts.length > 1) {\n            var _a = __read(parts.splice(0, 3), 3), space = _a[0], name_3 = _a[1], value = _a[2];\n            if (space.match(/[^\\s\\n]/))\n                return;\n            this.set(name_3, value);\n        }\n    };\n    Styles.pattern = {\n        style: /([-a-z]+)[\\s\\n]*:[\\s\\n]*((?:'[^']*'|\"[^\"]*\"|\\n|.)*?)[\\s\\n]*(?:;|$)/g,\n        comment: /\\/\\*[^]*?\\*\\//g\n    };\n    Styles.connect = {\n        padding: {\n            children: TRBL,\n            split: splitTRBL,\n            combine: combineTRBL\n        },\n        border: {\n            children: TRBL,\n            split: splitSame,\n            combine: combineSame\n        },\n        'border-top': {\n            children: WSC,\n            split: splitWSC,\n            combine: combineWSC\n        },\n        'border-right': {\n            children: WSC,\n            split: splitWSC,\n            combine: combineWSC\n        },\n        'border-bottom': {\n            children: WSC,\n            split: splitWSC,\n            combine: combineWSC\n        },\n        'border-left': {\n            children: WSC,\n            split: splitWSC,\n            combine: combineWSC\n        },\n        'border-width': {\n            children: TRBL,\n            split: splitTRBL,\n            combine: null\n        },\n        'border-style': {\n            children: TRBL,\n            split: splitTRBL,\n            combine: null\n        },\n        'border-color': {\n            children: TRBL,\n            split: splitTRBL,\n            combine: null\n        },\n        font: {\n            children: ['style', 'variant', 'weight', 'stretch', 'line-height', 'size', 'family'],\n            split: splitFont,\n            combine: combineFont\n        }\n    };\n    return Styles;\n}());\nexports.Styles = Styles;\n//# sourceMappingURL=Styles.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.max = exports.sum = void 0;\nfunction sum(A) {\n    return A.reduce(function (a, b) { return a + b; }, 0);\n}\nexports.sum = sum;\nfunction max(A) {\n    return A.reduce(function (a, b) { return Math.max(a, b); }, 0);\n}\nexports.max = max;\n//# sourceMappingURL=numeric.js.map"],"names":["Object","defineProperty","exports","value","AbstractOutputJax","Options_js_1","FunctionList_js_1","options","this","adaptor","CLASS","constructor","userOptions","defaultOptions","OPTIONS","postFilters","FunctionList","prototype","get","NAME","enumerable","configurable","setAdaptor","initialize","reset","_args","_i","arguments","length","getMetrics","_document","styleSheet","pageElements","executeFilters","filters","math","document","data","args","execute","AbstractWrapper","factory","node","kind","wrap","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","create","__read","o","n","m","Symbol","iterator","i","r","ar","e","next","done","push","error","__spreadArray","to","from","pack","l","slice","concat","AbstractWrapperFactory","Factory_js_1","_super","apply","AbstractFactory","__assign","assign","t","s","__createBinding","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","__setModuleDefault","v","__importStar","mod","result","__values","CHTML","OutputJax_js_1","StyleList_js_1","WrapperFactory_js_1","Usage_js_1","tex_js_1","LENGTHS","string_js_1","_this","CHTMLWrapperFactory","TeXFont","chtmlStyles","font","adaptiveCSS","wrapperUsage","Usage","escaped","html","setDocument","text","styles","CssStyles","addWrapperStyles","updateFontStyles","insertRules","getStyleRules","sheet","setAttribute","STYLESHEETID","update","addStyles","updateStyles","e_1","_a","_b","_c","wrapper","getNodeClass","addClassStyles","e_1_1","return","autoStyle","display","add","processMath","parent","toCHTML","clearCache","cssStyles","clear","unknownText","variant","width","scale","metrics","fixed","padding","em","c","unicodeChars","cssFontStyles","getCssFont","Math","round","style","measureTextNode","textNode","clone","setStyle","getStyle","replace","position","append","start","container","w","nodeSize","remove","h","CommonOutputJax","matchFontHeight","commonStyles","color","visibility","__exportStar","Arrow","DiagonalArrow","DiagonalStrike","Border2","Border","RenderElement","Notation","name","offset","_child","shape","adjustBorder","getOffset","thickness","THICKNESS","transform","chtml","side","CommonBorder","child","side1","side2","CommonBorder2","border","neg","CommonDiagonalStrike","cname","getBBox","getArgMod","a","W","strike","CommonDiagonalArrow","arrow","CommonArrow","CHTMLWrapper","SPACE","FONTSIZE","Wrapper_js_1","BBox_js_1","standardCHTMLnode","childNodes","markUsed","createCHTMLnode","handleStyles","handleVariant","handleScale","handleColor","handleSpace","handleAttributes","handlePWidth","jax","href","attributes","cssText","family","isToken","getVariant","classes","setScale","bbox","rscale","abs","size","percent","e_2","L","R","_d","dimen","name_1","margin","space","e_2_1","mathcolor","getExplicit","mathbackground","background","e_3","e_4","defaults","getAllDefaults","skip","skipAttributes","getExplicitNames","name_2","hasAttribute","e_3_1","names","trim","split","names_1","names_1_1","name_3","addClass","e_4_1","pwidth","BBox","fullWidth","setIndent","align","shift","drawBBox","box","opacity","height","getAttribute","fontsize","type","def","content","char","charSelector","substr","CommonWrapper","Wrappers_js_1","defaultNodes","CHTMLWrappers","CommonWrapperFactory","math_js_1","mi_js_1","mo_js_1","mn_js_1","ms_js_1","mtext_js_1","mspace_js_1","mpadded_js_1","menclose_js_1","mrow_js_1","mfenced_js_1","mfrac_js_1","msqrt_js_1","mroot_js_1","msubsup_js_1","munderover_js_1","mmultiscripts_js_1","mtable_js_1","mtr_js_1","mtd_js_1","maction_js_1","mglyph_js_1","semantics_js_1","TeXAtom_js_1","TextNode_js_1","CHTMLmath","CHTMLmrow","CHTMLinferredMrow","CHTMLmi","CHTMLmo","CHTMLmn","CHTMLms","CHTMLmtext","CHTMLmspace","CHTMLmpadded","CHTMLmenclose","CHTMLmfrac","CHTMLmsqrt","CHTMLmroot","CHTMLmsub","CHTMLmsup","CHTMLmsubsup","CHTMLmunder","CHTMLmover","CHTMLmunderover","CHTMLmmultiscripts","CHTMLmfenced","CHTMLmtable","CHTMLmtr","CHTMLmlabeledtr","CHTMLmtd","CHTMLmaction","CHTMLmglyph","CHTMLsemantics","CHTMLannotation","CHTMLannotationXML","CHTMLxml","CHTMLTeXAtom","CHTMLTextNode","TeXAtom_js_2","MmlNode_js_1","TEXCLASSNAMES","texClass","TEXCLASS","VCENTER","params","axis_height","dh","TeXAtom","CommonTeXAtomMixin","getText","chars","remappedText","chars_1","chars_1_1","getVariantChar","f","unknown","fromCodePoint","class","charUsage","TextNode","CommonTextNodeMixin","maction_js_2","maction_js_3","selected","action","setEventHandler","handler","addEventListener","MmlMaction","bottom","right","cursor","left","actions","Map","_data","mml","event","end","typesetRoot","nextToggleSelection","rerender","stopPropagation","tip","isKind","adaptor_1","tool_1","dy","dx","firstChild","stopTimers","timeout","setTimeout","postDelay","hoverTimer","set","clearDelay","clearTimer","TooltipData","adaptor_2","text_1","status","body","CommonMactionMixin","math_js_2","handleDisplay","handleInline","getAlignShift","table","getOuterBBox","max","setChildPWidths","recompute","MmlMath","CommonMathMixin","menclose_js_2","lengths_js_1","Angle","x","y","atan2","toFixed","ANGLE","ARROWDX","ARROWY","block","renderChild","keys","notations","notation","renderer","pbox","getPadding","_e","sideNames","_f","sideIndex","double","dist","adjustArrow","moveArrow","head","arrowhead","ARROWX","map","line","rthead","rbhead","lthead","lbhead","adjustHead","adjustLine","join","adjustThickness","MmlMenclose","top","SOLID","PADDING","fullBBox","fullBorder","sin","arc","msqrt","TRBL","sqrtTRBL","init","createMsqrt","CommonMencloseMixin","mfenced_js_2","mrow","MmlMfenced","CommonMfencedMixin","mfrac_js_2","getList","linethickness","bevelled","isDisplay","makeBevelled","length2em","makeAtop","makeFraction","numalign","denomalign","withDelims","getProperty","attr","fattr","delims","nattr","dattr","dsattr","nsattr","tex","tEm","getTUV","T","u","nh","num","den","atop","getUVQ","q","bevel","getBevelData","delta","nbox","dbox","MmlMfrac","overflow","CommonMfracMixin","mglyph_js_2","charWrapper","src","alt","valign","verticalAlign","img","title","MmlMglyph","CommonMglyphMixin","mi_js_2","MmlMi","CommonMiMixin","mmultiscripts_js_2","scriptData","scriptalign","preAlign","postAlign","sub","combinePrePost","psub","sup","psup","numPrescripts","scripts","addScripts","firstPrescript","numScripts","isPre","U","rowdef","tabledef","supRow","sepRow","subRow","MmlMmultiscripts","CommonMmultiscriptsMixin","mn_js_2","MmlMn","CommonMnMixin","mo_js_2","symmetric","stretch","dir","stretchy","getStretchedVariant","stretchHTML","getCenterOffset","getAccentOffset","codePointAt","delimUsage","delim","DirectionVH","properties","MmlMo","CommonMoMixin","mpadded_js_2","getDimens","dd","dw","rbox","MmlMpadded","CommonMpaddedMixin","mroot_js_2","addRoot","ROOT","root","sbox","H","getRootDimens","MmlMroot","CommonMrootMixin","mrow_js_2","mrow_js_3","isInferred","hasNegative","MmlMrow","CommonMrowMixin","MmlInferredMrow","CommonInferredMrowMixin","ms_js_2","MmlMs","CommonMsMixin","mspace_js_2","MmlMspace","CommonMspaceMixin","msqrt_js_2","surd","base","getPQ","rule_thickness","SURD","BASE","SQRT","paddingTop","_ROOT","_root","_sbox","_H","MmlMsqrt","CommonMsqrtMixin","scriptbase_js_1","msubsup_js_2","msubsup_js_3","msubsup_js_4","MmlMsub","CommonMsubMixin","CHTMLscriptbase","MmlMsup","CommonMsupMixin","baseChild","supChild","subChild","stack","ic","getAdjustedIc","baseRemoveIc","baseIc","MmlMsubsup","CommonMsubsupMixin","mtable_js_2","itable","labels","isTop","padRows","handleColumnSpacing","handleColumnLines","handleColumnWidths","handleRowSpacing","handleRowLines","handleRowHeights","handleFrame","handleWidth","handleLabels","handleAlign","handleJustify","shiftColor","row","numCols","spacing","getEmHalfSpacing","fSpace","cSpace","frame","tableRows","tableCells","cell","lspace","rspace","styleNode","e_5","e_6","lines","getColumnAttributes","e_6_1","e_5_1","e_7","e_8","cWidths","e_8_1","e_7_1","e_9","e_10","rSpace","tspace","bspace","numRows","e_10_1","e_9_1","e_11","e_12","getRowAttributes","e_12_1","e_11_1","handleEqualRows","getRowHalfSpacing","getTableData","D","NH","ND","HD","getEqualRowHeight","setRowHeight","rLines","setRowBaseline","e_13","ralign","setCellBaseline","e_13_1","calign","lastChild","fLine","isPercent","hasLabels","getAlignmentRow","getVerticalPosition","addLabelPadding","updateRowHeights","addLabelSpacing","getPadAlignShift","equal","current","insert","MmlMtable","CommonMtableMixin","mtd_js_2","palign","MmlMtd","CommonMtdMixin","mtext_js_2","MmlMtext","CommonMtextMixin","mtr_js_2","mtr_js_3","MmlMtr","CommonMtrMixin","rowalign","MmlMlabeledtr","CommonMlabeledtrMixin","munderover_js_2","munderover_js_3","munderover_js_4","hasMovableLimits","under","scriptChild","basebox","underbox","getUnderKV","isLineBelow","getDelta","setDeltaW","getDeltaW","adjustUnderDepth","MmlMunder","CommonMunderMixin","over","overbox","adjustBaseHeight","getOverKU","isLineAbove","adjustOverDepth","MmlMover","CommonMoverMixin","overChild","underChild","ok","uk","MmlMunderover","CommonMunderoverMixin","nodes","minH","x_height","CommonScriptbaseMixin","semantics_js_2","MmlSemantics","CommonSemanticsMixin","computeBBox","MmlAnnotation","MmlAnnotationXML","getXML","_recompute","measureXMLnode","getStyles","getScale","XMLNode","arrowBBox","diagonalArrowDef","arrowDef","arrowBBoxW","arrowBBoxHD","arrowHead","fullPadding","fill","up","PI","down","updown","leftright","updiagonal","northeast","southeast","northwest","southwest","northeastsouthwest","northwestsoutheast","render","i1","i2","charAt","pi","arrowAW","arrowData","ax","ay","adx","angle","isVertical","MathItem_js_1","Styles_js_1","defaultFactory","defaultFont","separateOptions","jaxOptions","fontOptions","wrapperFactory","unknownCache","typeset","createNode","toDOM","pxPerEm","ex","setTeXclass","nodeMap","maps","getMetricMaps","parent_1","state","STATE","METRICS","containerWidth","lineWidth","setMetrics","mtextInheritFont","outputData","mtextFamily","merrorInheritFont","merrorFamily","getMetricsFor","getFamily","test","getTestElement","measureMetrics","domMaps","_g","has","_h","_j","_k","_l","_m","_o","_p","values","_q","testInline","testDisplay","fontFamily","fontSize","childNode","exFactor","nodeBBox","minScale","addFontStyles","id","getKinds","ns","measureText","setAttributes","measureTextNodeWithCache","cached","xml","italic","bold","getFontData","Styles","mtextFont","merrorFont","mathmlSpacing","displayAlign","displayIndent","FontData_js_1","SMALLSIZE","MathMLSpace","script","removedStyles","bboxComputed","NOSTRETCH","zero","getSpace","wrapped","notParent","save","obox","StyleAdjust","empty","clean","fixesPWidth","changed","cbox","invalidateBBox","copySkewIC","first","sk","last","styleString","removeStyles","fontWeight","weight","fontStyle","fontfamily","fontweight","fontstyle","match","parseInt","explicitVariant","BOLDVARIANTS","ITALICVARIANTS","pscale","scriptlevel","min","mathsize","getInherited","pow","scriptminsize","isTopEmbellished","hasSpacing","hasSpacingAttributes","getMathMLSpacing","getTeXSpacing","coreMO","coreParent","isScript","isSet","childIndex","prev","isEmbellished","texSpacing","core","canStretch","direction","indentAttributes","indentalign","indentshift","indentalignfirst","indentshiftfirst","getAlignX","getAlignY","getWrapWidth","getChildAlign","px","M","BIGDIMEN","map_1","smp","remapChars","mmlText","setText","mmlNode","children","createMo","mmlFactory","inheritAttributesFrom","getChar","xmlns","normal","fraktur","Base","class_1","clearTimeout","delete","_node","getParameters","selection","offsets","updateFrom","getNotations","removeRedundantNotations","initializeNotations","getBBoxExtenders","parseFloat","Notations","B","combine","name_4","maximizeEntries","BTRBL","name_5","X","Y","sqrt","_w","_double","_offset","_dist","createMrow","addMrowChildren","mfenced","addMo","open","separators","close","stretchChildren","mo","pad","nulldelimiterspace","getBevelledBBox","getAtopBBox","getFractionBBox","num1","num2","denom1","denom2","num3","lbox","_direction","displaystyle","index","ScriptNames","NextScript","subList","supList","psubList","psupList","getScriptData","pre","post","scriptspace","lists","getScriptBBoxLists","combineBBoxLists","padLists","list1","list2","bbox1","bbox2","getScaledWHD","w1","h1","d1","w2","h2","d2","subbox","supbox","UVQ","getU","getV","getRemappedChar","isAccent","protoBBox","getDelimiter","WH","exact","getWH","getSize","Infinity","mathaccent","df","delimiterfactor","ds","delimitershortfall","sizes","getSizeVariant","schar","getStretchBBox","checkExtendedHeight","WHD","C","HDW","getBaseline","hasWHD","ch","cd","fullExt","extSize","endSize","ceil","primes","depth","voffset","combineRootBBox","BBOX","rootHeight","count","nodeCount","all","noStretch","stretchy_1","stretchy_1_1","class_2","quotes","lquote","rquote","unshift","createText","surdH","surdbox","_bbox","useIC","class_3","getBaseWidth","baseCore","subscriptshift","sub2","drop","baseCharZero","baseScale","sub_drop","numeric_js_1","pwidthCells","pWidth","numCells","reduce","findContainer","getPercentageWidth","convertLengths","getAttributeArray","cLines","getColumnWidths","stretchRows","stretchColumns","containerI","childPosition","rows","hd","stretchColumn","getChild","LW","j","updateHDW","recordPWidthCell","labeled","extendHD","sum","CW","getComputedWidths","getBBoxHD","getBBoxLR","setColumnPWidths","cwidth","_clear","labelInWidth","cols","getColumnWidthsFixed","center","baseline","axis","sep","lpad","rpad","getWidth","getEqualColumns","swidths","getColumnWidthsAuto","getColumnWidthsPercent","hasFit","indexOf","indices","fit","filter","auto","forEach","fw","fspace","fspaceEm","spaceEm","addEm","getColumnHalfSpacing","columns","splice","getDefault","list","merror","Parent","INHERITFONTS","getChildBBoxes","children_1","children_1_1","mtd","children_2","children_2_1","bw","uw","big_op_spacing5","ow","z","baseIsChar","baseHasAccentOver","baseHasAccentUnder","isMathAccent","getBaseCore","setBaseAccentsFor","getBaseScale","getBaseIc","isCharBase","checkLineAccents","getSemanticBase","fence","getBaseFence","isLineAccent","extra_ic","largeop","sub1","prime","sup3","sup1","sup2","superscriptshift","sup_drop","accent","separation_factor","big_op_spacing1","big_op_spacing3","big_op_spacing2","big_op_spacing4","boxes","widths","noskew","skewIcFactor","rescale","PrioritizedList_js_1","item","asyncExecute","items","Promise","fail","then","catch","err","PrioritizedList","priority","DEFAULTPRIORITY","getStyleString","selectors","selectors_1","selectors_1_1","selector","defs","selectors_2","selectors_2_1","getStyleDefString","properties_1","properties_1_1","property","WSC","splitSpaces","parts","splitTRBL","connect","childName","combineTRBL","part","pop","splitSame","combineSame","BORDER","splitWSC","combineWSC","FONT","RegExp","splitFont","parts_1","parts_1_1","isArray","saveFontParts","combineFont","_name","parse","parentName","normalizeName","combineChildren","toLowerCase","PATTERN","pattern","comment","A"],"sourceRoot":""}