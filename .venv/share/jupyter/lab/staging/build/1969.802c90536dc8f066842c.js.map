{"version":3,"file":"1969.802c90536dc8f066842c.js?v=802c90536dc8f066842c","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/Handler.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/InputJax.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/MathDocument.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/MathList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/core/OutputJax.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/handlers/html/HTMLDocument.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/handlers/html/HTMLDomStrings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/handlers/html/HTMLHandler.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/handlers/html/HTMLMathItem.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/handlers/html/HTMLMathList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/BitField.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/FunctionList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/LinkedList.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/util/PrioritizedList.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractHandler = void 0;\nvar MathDocument_js_1 = require(\"./MathDocument.js\");\nvar DefaultMathDocument = (function (_super) {\n    __extends(DefaultMathDocument, _super);\n    function DefaultMathDocument() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DefaultMathDocument;\n}(MathDocument_js_1.AbstractMathDocument));\nvar AbstractHandler = (function () {\n    function AbstractHandler(adaptor, priority) {\n        if (priority === void 0) { priority = 5; }\n        this.documentClass = DefaultMathDocument;\n        this.adaptor = adaptor;\n        this.priority = priority;\n    }\n    Object.defineProperty(AbstractHandler.prototype, \"name\", {\n        get: function () {\n            return this.constructor.NAME;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractHandler.prototype.handlesDocument = function (_document) {\n        return false;\n    };\n    AbstractHandler.prototype.create = function (document, options) {\n        return new this.documentClass(document, this.adaptor, options);\n    };\n    AbstractHandler.NAME = 'generic';\n    return AbstractHandler;\n}());\nexports.AbstractHandler = AbstractHandler;\n//# sourceMappingURL=Handler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractInputJax = void 0;\nvar Options_js_1 = require(\"../util/Options.js\");\nvar FunctionList_js_1 = require(\"../util/FunctionList.js\");\nvar AbstractInputJax = (function () {\n    function AbstractInputJax(options) {\n        if (options === void 0) { options = {}; }\n        this.adaptor = null;\n        this.mmlFactory = null;\n        var CLASS = this.constructor;\n        this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);\n        this.preFilters = new FunctionList_js_1.FunctionList();\n        this.postFilters = new FunctionList_js_1.FunctionList();\n    }\n    Object.defineProperty(AbstractInputJax.prototype, \"name\", {\n        get: function () {\n            return this.constructor.NAME;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractInputJax.prototype.setAdaptor = function (adaptor) {\n        this.adaptor = adaptor;\n    };\n    AbstractInputJax.prototype.setMmlFactory = function (mmlFactory) {\n        this.mmlFactory = mmlFactory;\n    };\n    AbstractInputJax.prototype.initialize = function () {\n    };\n    AbstractInputJax.prototype.reset = function () {\n        var _args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            _args[_i] = arguments[_i];\n        }\n    };\n    Object.defineProperty(AbstractInputJax.prototype, \"processStrings\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractInputJax.prototype.findMath = function (_node, _options) {\n        return [];\n    };\n    AbstractInputJax.prototype.executeFilters = function (filters, math, document, data) {\n        var args = { math: math, document: document, data: data };\n        filters.execute(args);\n        return args.data;\n    };\n    AbstractInputJax.NAME = 'generic';\n    AbstractInputJax.OPTIONS = {};\n    return AbstractInputJax;\n}());\nexports.AbstractInputJax = AbstractInputJax;\n//# sourceMappingURL=InputJax.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMathDocument = exports.resetAllOptions = exports.resetOptions = exports.RenderList = void 0;\nvar Options_js_1 = require(\"../util/Options.js\");\nvar InputJax_js_1 = require(\"./InputJax.js\");\nvar OutputJax_js_1 = require(\"./OutputJax.js\");\nvar MathList_js_1 = require(\"./MathList.js\");\nvar MathItem_js_1 = require(\"./MathItem.js\");\nvar MmlFactory_js_1 = require(\"../core/MmlTree/MmlFactory.js\");\nvar BitField_js_1 = require(\"../util/BitField.js\");\nvar PrioritizedList_js_1 = require(\"../util/PrioritizedList.js\");\nvar RenderList = (function (_super) {\n    __extends(RenderList, _super);\n    function RenderList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RenderList.create = function (actions) {\n        var e_1, _a;\n        var list = new this();\n        try {\n            for (var _b = __values(Object.keys(actions)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var id = _c.value;\n                var _d = __read(this.action(id, actions[id]), 2), action = _d[0], priority = _d[1];\n                if (priority) {\n                    list.add(action, priority);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return list;\n    };\n    RenderList.action = function (id, action) {\n        var _a, _b, _c, _d;\n        var renderDoc, renderMath;\n        var convert = true;\n        var priority = action[0];\n        if (action.length === 1 || typeof action[1] === 'boolean') {\n            action.length === 2 && (convert = action[1]);\n            _a = __read(this.methodActions(id), 2), renderDoc = _a[0], renderMath = _a[1];\n        }\n        else if (typeof action[1] === 'string') {\n            if (typeof action[2] === 'string') {\n                action.length === 4 && (convert = action[3]);\n                var _e = __read(action.slice(1), 2), method1 = _e[0], method2 = _e[1];\n                _b = __read(this.methodActions(method1, method2), 2), renderDoc = _b[0], renderMath = _b[1];\n            }\n            else {\n                action.length === 3 && (convert = action[2]);\n                _c = __read(this.methodActions(action[1]), 2), renderDoc = _c[0], renderMath = _c[1];\n            }\n        }\n        else {\n            action.length === 4 && (convert = action[3]);\n            _d = __read(action.slice(1), 2), renderDoc = _d[0], renderMath = _d[1];\n        }\n        return [{ id: id, renderDoc: renderDoc, renderMath: renderMath, convert: convert }, priority];\n    };\n    RenderList.methodActions = function (method1, method2) {\n        if (method2 === void 0) { method2 = method1; }\n        return [\n            function (document) { method1 && document[method1](); return false; },\n            function (math, document) { method2 && math[method2](document); return false; }\n        ];\n    };\n    RenderList.prototype.renderDoc = function (document, start) {\n        var e_2, _a;\n        if (start === void 0) { start = MathItem_js_1.STATE.UNPROCESSED; }\n        try {\n            for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                if (item.priority >= start) {\n                    if (item.item.renderDoc(document))\n                        return;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    RenderList.prototype.renderMath = function (math, document, start) {\n        var e_3, _a;\n        if (start === void 0) { start = MathItem_js_1.STATE.UNPROCESSED; }\n        try {\n            for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                if (item.priority >= start) {\n                    if (item.item.renderMath(math, document))\n                        return;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    RenderList.prototype.renderConvert = function (math, document, end) {\n        var e_4, _a;\n        if (end === void 0) { end = MathItem_js_1.STATE.LAST; }\n        try {\n            for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                if (item.priority > end)\n                    return;\n                if (item.item.convert) {\n                    if (item.item.renderMath(math, document))\n                        return;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    RenderList.prototype.findID = function (id) {\n        var e_5, _a;\n        try {\n            for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                if (item.item.id === id) {\n                    return item.item;\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return null;\n    };\n    return RenderList;\n}(PrioritizedList_js_1.PrioritizedList));\nexports.RenderList = RenderList;\nexports.resetOptions = {\n    all: false,\n    processed: false,\n    inputJax: null,\n    outputJax: null\n};\nexports.resetAllOptions = {\n    all: true,\n    processed: true,\n    inputJax: [],\n    outputJax: []\n};\nvar DefaultInputJax = (function (_super) {\n    __extends(DefaultInputJax, _super);\n    function DefaultInputJax() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultInputJax.prototype.compile = function (_math) {\n        return null;\n    };\n    return DefaultInputJax;\n}(InputJax_js_1.AbstractInputJax));\nvar DefaultOutputJax = (function (_super) {\n    __extends(DefaultOutputJax, _super);\n    function DefaultOutputJax() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultOutputJax.prototype.typeset = function (_math, _document) {\n        if (_document === void 0) { _document = null; }\n        return null;\n    };\n    DefaultOutputJax.prototype.escaped = function (_math, _document) {\n        return null;\n    };\n    return DefaultOutputJax;\n}(OutputJax_js_1.AbstractOutputJax));\nvar DefaultMathList = (function (_super) {\n    __extends(DefaultMathList, _super);\n    function DefaultMathList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DefaultMathList;\n}(MathList_js_1.AbstractMathList));\nvar DefaultMathItem = (function (_super) {\n    __extends(DefaultMathItem, _super);\n    function DefaultMathItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DefaultMathItem;\n}(MathItem_js_1.AbstractMathItem));\nvar AbstractMathDocument = (function () {\n    function AbstractMathDocument(document, adaptor, options) {\n        var _this = this;\n        var CLASS = this.constructor;\n        this.document = document;\n        this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);\n        this.math = new (this.options['MathList'] || DefaultMathList)();\n        this.renderActions = RenderList.create(this.options['renderActions']);\n        this.processed = new AbstractMathDocument.ProcessBits();\n        this.outputJax = this.options['OutputJax'] || new DefaultOutputJax();\n        var inputJax = this.options['InputJax'] || [new DefaultInputJax()];\n        if (!Array.isArray(inputJax)) {\n            inputJax = [inputJax];\n        }\n        this.inputJax = inputJax;\n        this.adaptor = adaptor;\n        this.outputJax.setAdaptor(adaptor);\n        this.inputJax.map(function (jax) { return jax.setAdaptor(adaptor); });\n        this.mmlFactory = this.options['MmlFactory'] || new MmlFactory_js_1.MmlFactory();\n        this.inputJax.map(function (jax) { return jax.setMmlFactory(_this.mmlFactory); });\n        this.outputJax.initialize();\n        this.inputJax.map(function (jax) { return jax.initialize(); });\n    }\n    Object.defineProperty(AbstractMathDocument.prototype, \"kind\", {\n        get: function () {\n            return this.constructor.KIND;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractMathDocument.prototype.addRenderAction = function (id) {\n        var action = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            action[_i - 1] = arguments[_i];\n        }\n        var _a = __read(RenderList.action(id, action), 2), fn = _a[0], p = _a[1];\n        this.renderActions.add(fn, p);\n    };\n    AbstractMathDocument.prototype.removeRenderAction = function (id) {\n        var action = this.renderActions.findID(id);\n        if (action) {\n            this.renderActions.remove(action);\n        }\n    };\n    AbstractMathDocument.prototype.render = function () {\n        this.renderActions.renderDoc(this);\n        return this;\n    };\n    AbstractMathDocument.prototype.rerender = function (start) {\n        if (start === void 0) { start = MathItem_js_1.STATE.RERENDER; }\n        this.state(start - 1);\n        this.render();\n        return this;\n    };\n    AbstractMathDocument.prototype.convert = function (math, options) {\n        if (options === void 0) { options = {}; }\n        var _a = (0, Options_js_1.userOptions)({\n            format: this.inputJax[0].name, display: true, end: MathItem_js_1.STATE.LAST,\n            em: 16, ex: 8, containerWidth: null, lineWidth: 1000000, scale: 1, family: ''\n        }, options), format = _a.format, display = _a.display, end = _a.end, ex = _a.ex, em = _a.em, containerWidth = _a.containerWidth, lineWidth = _a.lineWidth, scale = _a.scale, family = _a.family;\n        if (containerWidth === null) {\n            containerWidth = 80 * ex;\n        }\n        var jax = this.inputJax.reduce(function (jax, ijax) { return (ijax.name === format ? ijax : jax); }, null);\n        var mitem = new this.options.MathItem(math, jax, display);\n        mitem.start.node = this.adaptor.body(this.document);\n        mitem.setMetrics(em, ex, containerWidth, lineWidth, scale);\n        if (this.outputJax.options.mtextInheritFont) {\n            mitem.outputData.mtextFamily = family;\n        }\n        if (this.outputJax.options.merrorInheritFont) {\n            mitem.outputData.merrorFamily = family;\n        }\n        mitem.convert(this, end);\n        return (mitem.typesetRoot || mitem.root);\n    };\n    AbstractMathDocument.prototype.findMath = function (_options) {\n        if (_options === void 0) { _options = null; }\n        this.processed.set('findMath');\n        return this;\n    };\n    AbstractMathDocument.prototype.compile = function () {\n        var e_6, _a, e_7, _b;\n        if (!this.processed.isSet('compile')) {\n            var recompile = [];\n            try {\n                for (var _c = __values(this.math), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var math = _d.value;\n                    this.compileMath(math);\n                    if (math.inputData.recompile !== undefined) {\n                        recompile.push(math);\n                    }\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n            try {\n                for (var recompile_1 = __values(recompile), recompile_1_1 = recompile_1.next(); !recompile_1_1.done; recompile_1_1 = recompile_1.next()) {\n                    var math = recompile_1_1.value;\n                    var data = math.inputData.recompile;\n                    math.state(data.state);\n                    math.inputData.recompile = data;\n                    this.compileMath(math);\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (recompile_1_1 && !recompile_1_1.done && (_b = recompile_1.return)) _b.call(recompile_1);\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n            this.processed.set('compile');\n        }\n        return this;\n    };\n    AbstractMathDocument.prototype.compileMath = function (math) {\n        try {\n            math.compile(this);\n        }\n        catch (err) {\n            if (err.retry || err.restart) {\n                throw err;\n            }\n            this.options['compileError'](this, math, err);\n            math.inputData['error'] = err;\n        }\n    };\n    AbstractMathDocument.prototype.compileError = function (math, err) {\n        math.root = this.mmlFactory.create('math', null, [\n            this.mmlFactory.create('merror', { 'data-mjx-error': err.message, title: err.message }, [\n                this.mmlFactory.create('mtext', null, [\n                    this.mmlFactory.create('text').setText('Math input error')\n                ])\n            ])\n        ]);\n        if (math.display) {\n            math.root.attributes.set('display', 'block');\n        }\n        math.inputData.error = err.message;\n    };\n    AbstractMathDocument.prototype.typeset = function () {\n        var e_8, _a;\n        if (!this.processed.isSet('typeset')) {\n            try {\n                for (var _b = __values(this.math), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var math = _c.value;\n                    try {\n                        math.typeset(this);\n                    }\n                    catch (err) {\n                        if (err.retry || err.restart) {\n                            throw err;\n                        }\n                        this.options['typesetError'](this, math, err);\n                        math.outputData['error'] = err;\n                    }\n                }\n            }\n            catch (e_8_1) { e_8 = { error: e_8_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_8) throw e_8.error; }\n            }\n            this.processed.set('typeset');\n        }\n        return this;\n    };\n    AbstractMathDocument.prototype.typesetError = function (math, err) {\n        math.typesetRoot = this.adaptor.node('mjx-container', {\n            class: 'MathJax mjx-output-error',\n            jax: this.outputJax.name,\n        }, [\n            this.adaptor.node('span', {\n                'data-mjx-error': err.message,\n                title: err.message,\n                style: {\n                    color: 'red',\n                    'background-color': 'yellow',\n                    'line-height': 'normal'\n                }\n            }, [\n                this.adaptor.text('Math output error')\n            ])\n        ]);\n        if (math.display) {\n            this.adaptor.setAttributes(math.typesetRoot, {\n                style: {\n                    display: 'block',\n                    margin: '1em 0',\n                    'text-align': 'center'\n                }\n            });\n        }\n        math.outputData.error = err.message;\n    };\n    AbstractMathDocument.prototype.getMetrics = function () {\n        if (!this.processed.isSet('getMetrics')) {\n            this.outputJax.getMetrics(this);\n            this.processed.set('getMetrics');\n        }\n        return this;\n    };\n    AbstractMathDocument.prototype.updateDocument = function () {\n        var e_9, _a;\n        if (!this.processed.isSet('updateDocument')) {\n            try {\n                for (var _b = __values(this.math.reversed()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var math = _c.value;\n                    math.updateDocument(this);\n                }\n            }\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_9) throw e_9.error; }\n            }\n            this.processed.set('updateDocument');\n        }\n        return this;\n    };\n    AbstractMathDocument.prototype.removeFromDocument = function (_restore) {\n        if (_restore === void 0) { _restore = false; }\n        return this;\n    };\n    AbstractMathDocument.prototype.state = function (state, restore) {\n        var e_10, _a;\n        if (restore === void 0) { restore = false; }\n        try {\n            for (var _b = __values(this.math), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var math = _c.value;\n                math.state(state, restore);\n            }\n        }\n        catch (e_10_1) { e_10 = { error: e_10_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_10) throw e_10.error; }\n        }\n        if (state < MathItem_js_1.STATE.INSERTED) {\n            this.processed.clear('updateDocument');\n        }\n        if (state < MathItem_js_1.STATE.TYPESET) {\n            this.processed.clear('typeset');\n            this.processed.clear('getMetrics');\n        }\n        if (state < MathItem_js_1.STATE.COMPILED) {\n            this.processed.clear('compile');\n        }\n        return this;\n    };\n    AbstractMathDocument.prototype.reset = function (options) {\n        var _a;\n        if (options === void 0) { options = { processed: true }; }\n        options = (0, Options_js_1.userOptions)(Object.assign({}, exports.resetOptions), options);\n        options.all && Object.assign(options, exports.resetAllOptions);\n        options.processed && this.processed.reset();\n        options.inputJax && this.inputJax.forEach(function (jax) { return jax.reset.apply(jax, __spreadArray([], __read(options.inputJax), false)); });\n        options.outputJax && (_a = this.outputJax).reset.apply(_a, __spreadArray([], __read(options.outputJax), false));\n        return this;\n    };\n    AbstractMathDocument.prototype.clear = function () {\n        this.reset();\n        this.math.clear();\n        return this;\n    };\n    AbstractMathDocument.prototype.concat = function (list) {\n        this.math.merge(list);\n        return this;\n    };\n    AbstractMathDocument.prototype.clearMathItemsWithin = function (containers) {\n        var _a;\n        var items = this.getMathItemsWithin(containers);\n        (_a = this.math).remove.apply(_a, __spreadArray([], __read(items), false));\n        return items;\n    };\n    AbstractMathDocument.prototype.getMathItemsWithin = function (elements) {\n        var e_11, _a, e_12, _b;\n        if (!Array.isArray(elements)) {\n            elements = [elements];\n        }\n        var adaptor = this.adaptor;\n        var items = [];\n        var containers = adaptor.getElements(elements, this.document);\n        try {\n            ITEMS: for (var _c = __values(this.math), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var item = _d.value;\n                try {\n                    for (var containers_1 = (e_12 = void 0, __values(containers)), containers_1_1 = containers_1.next(); !containers_1_1.done; containers_1_1 = containers_1.next()) {\n                        var container = containers_1_1.value;\n                        if (item.start.node && adaptor.contains(container, item.start.node)) {\n                            items.push(item);\n                            continue ITEMS;\n                        }\n                    }\n                }\n                catch (e_12_1) { e_12 = { error: e_12_1 }; }\n                finally {\n                    try {\n                        if (containers_1_1 && !containers_1_1.done && (_b = containers_1.return)) _b.call(containers_1);\n                    }\n                    finally { if (e_12) throw e_12.error; }\n                }\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n        return items;\n    };\n    AbstractMathDocument.KIND = 'MathDocument';\n    AbstractMathDocument.OPTIONS = {\n        OutputJax: null,\n        InputJax: null,\n        MmlFactory: null,\n        MathList: DefaultMathList,\n        MathItem: DefaultMathItem,\n        compileError: function (doc, math, err) {\n            doc.compileError(math, err);\n        },\n        typesetError: function (doc, math, err) {\n            doc.typesetError(math, err);\n        },\n        renderActions: (0, Options_js_1.expandable)({\n            find: [MathItem_js_1.STATE.FINDMATH, 'findMath', '', false],\n            compile: [MathItem_js_1.STATE.COMPILED],\n            metrics: [MathItem_js_1.STATE.METRICS, 'getMetrics', '', false],\n            typeset: [MathItem_js_1.STATE.TYPESET],\n            update: [MathItem_js_1.STATE.INSERTED, 'updateDocument', false]\n        })\n    };\n    AbstractMathDocument.ProcessBits = (0, BitField_js_1.BitFieldClass)('findMath', 'compile', 'getMetrics', 'typeset', 'updateDocument');\n    return AbstractMathDocument;\n}());\nexports.AbstractMathDocument = AbstractMathDocument;\n//# sourceMappingURL=MathDocument.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMathList = void 0;\nvar LinkedList_js_1 = require(\"../util/LinkedList.js\");\nvar AbstractMathList = (function (_super) {\n    __extends(AbstractMathList, _super);\n    function AbstractMathList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractMathList.prototype.isBefore = function (a, b) {\n        return (a.start.i < b.start.i || (a.start.i === b.start.i && a.start.n < b.start.n));\n    };\n    return AbstractMathList;\n}(LinkedList_js_1.LinkedList));\nexports.AbstractMathList = AbstractMathList;\n//# sourceMappingURL=MathList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractOutputJax = void 0;\nvar Options_js_1 = require(\"../util/Options.js\");\nvar FunctionList_js_1 = require(\"../util/FunctionList.js\");\nvar AbstractOutputJax = (function () {\n    function AbstractOutputJax(options) {\n        if (options === void 0) { options = {}; }\n        this.adaptor = null;\n        var CLASS = this.constructor;\n        this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);\n        this.postFilters = new FunctionList_js_1.FunctionList();\n    }\n    Object.defineProperty(AbstractOutputJax.prototype, \"name\", {\n        get: function () {\n            return this.constructor.NAME;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractOutputJax.prototype.setAdaptor = function (adaptor) {\n        this.adaptor = adaptor;\n    };\n    AbstractOutputJax.prototype.initialize = function () {\n    };\n    AbstractOutputJax.prototype.reset = function () {\n        var _args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            _args[_i] = arguments[_i];\n        }\n    };\n    AbstractOutputJax.prototype.getMetrics = function (_document) {\n    };\n    AbstractOutputJax.prototype.styleSheet = function (_document) {\n        return null;\n    };\n    AbstractOutputJax.prototype.pageElements = function (_document) {\n        return null;\n    };\n    AbstractOutputJax.prototype.executeFilters = function (filters, math, document, data) {\n        var args = { math: math, document: document, data: data };\n        filters.execute(args);\n        return args.data;\n    };\n    AbstractOutputJax.NAME = 'generic';\n    AbstractOutputJax.OPTIONS = {};\n    return AbstractOutputJax;\n}());\nexports.AbstractOutputJax = AbstractOutputJax;\n//# sourceMappingURL=OutputJax.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTMLDocument = void 0;\nvar MathDocument_js_1 = require(\"../../core/MathDocument.js\");\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar HTMLMathItem_js_1 = require(\"./HTMLMathItem.js\");\nvar HTMLMathList_js_1 = require(\"./HTMLMathList.js\");\nvar HTMLDomStrings_js_1 = require(\"./HTMLDomStrings.js\");\nvar MathItem_js_1 = require(\"../../core/MathItem.js\");\nvar HTMLDocument = (function (_super) {\n    __extends(HTMLDocument, _super);\n    function HTMLDocument(document, adaptor, options) {\n        var _this = this;\n        var _a = __read((0, Options_js_1.separateOptions)(options, HTMLDomStrings_js_1.HTMLDomStrings.OPTIONS), 2), html = _a[0], dom = _a[1];\n        _this = _super.call(this, document, adaptor, html) || this;\n        _this.domStrings = _this.options['DomStrings'] || new HTMLDomStrings_js_1.HTMLDomStrings(dom);\n        _this.domStrings.adaptor = adaptor;\n        _this.styles = [];\n        return _this;\n    }\n    HTMLDocument.prototype.findPosition = function (N, index, delim, nodes) {\n        var e_1, _a;\n        var adaptor = this.adaptor;\n        try {\n            for (var _b = __values(nodes[N]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var list = _c.value;\n                var _d = __read(list, 2), node = _d[0], n = _d[1];\n                if (index <= n && adaptor.kind(node) === '#text') {\n                    return { node: node, n: Math.max(index, 0), delim: delim };\n                }\n                index -= n;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return { node: null, n: 0, delim: delim };\n    };\n    HTMLDocument.prototype.mathItem = function (item, jax, nodes) {\n        var math = item.math;\n        var start = this.findPosition(item.n, item.start.n, item.open, nodes);\n        var end = this.findPosition(item.n, item.end.n, item.close, nodes);\n        return new this.options.MathItem(math, jax, item.display, start, end);\n    };\n    HTMLDocument.prototype.findMath = function (options) {\n        var e_2, _a, e_3, _b, _c, e_4, _d, e_5, _e;\n        if (!this.processed.isSet('findMath')) {\n            this.adaptor.document = this.document;\n            options = (0, Options_js_1.userOptions)({ elements: this.options.elements || [this.adaptor.body(this.document)] }, options);\n            try {\n                for (var _f = __values(this.adaptor.getElements(options['elements'], this.document)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                    var container = _g.value;\n                    var _h = __read([null, null], 2), strings = _h[0], nodes = _h[1];\n                    try {\n                        for (var _j = (e_3 = void 0, __values(this.inputJax)), _k = _j.next(); !_k.done; _k = _j.next()) {\n                            var jax = _k.value;\n                            var list = new (this.options['MathList'])();\n                            if (jax.processStrings) {\n                                if (strings === null) {\n                                    _c = __read(this.domStrings.find(container), 2), strings = _c[0], nodes = _c[1];\n                                }\n                                try {\n                                    for (var _l = (e_4 = void 0, __values(jax.findMath(strings))), _m = _l.next(); !_m.done; _m = _l.next()) {\n                                        var math = _m.value;\n                                        list.push(this.mathItem(math, jax, nodes));\n                                    }\n                                }\n                                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                                finally {\n                                    try {\n                                        if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n                                    }\n                                    finally { if (e_4) throw e_4.error; }\n                                }\n                            }\n                            else {\n                                try {\n                                    for (var _o = (e_5 = void 0, __values(jax.findMath(container))), _p = _o.next(); !_p.done; _p = _o.next()) {\n                                        var math = _p.value;\n                                        var item = new this.options.MathItem(math.math, jax, math.display, math.start, math.end);\n                                        list.push(item);\n                                    }\n                                }\n                                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                                finally {\n                                    try {\n                                        if (_p && !_p.done && (_e = _o.return)) _e.call(_o);\n                                    }\n                                    finally { if (e_5) throw e_5.error; }\n                                }\n                            }\n                            this.math.merge(list);\n                        }\n                    }\n                    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                    finally {\n                        try {\n                            if (_k && !_k.done && (_b = _j.return)) _b.call(_j);\n                        }\n                        finally { if (e_3) throw e_3.error; }\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            this.processed.set('findMath');\n        }\n        return this;\n    };\n    HTMLDocument.prototype.updateDocument = function () {\n        if (!this.processed.isSet('updateDocument')) {\n            this.addPageElements();\n            this.addStyleSheet();\n            _super.prototype.updateDocument.call(this);\n            this.processed.set('updateDocument');\n        }\n        return this;\n    };\n    HTMLDocument.prototype.addPageElements = function () {\n        var body = this.adaptor.body(this.document);\n        var node = this.documentPageElements();\n        if (node) {\n            this.adaptor.append(body, node);\n        }\n    };\n    HTMLDocument.prototype.addStyleSheet = function () {\n        var sheet = this.documentStyleSheet();\n        var adaptor = this.adaptor;\n        if (sheet && !adaptor.parent(sheet)) {\n            var head = adaptor.head(this.document);\n            var styles = this.findSheet(head, adaptor.getAttribute(sheet, 'id'));\n            if (styles) {\n                adaptor.replace(sheet, styles);\n            }\n            else {\n                adaptor.append(head, sheet);\n            }\n        }\n    };\n    HTMLDocument.prototype.findSheet = function (head, id) {\n        var e_6, _a;\n        if (id) {\n            try {\n                for (var _b = __values(this.adaptor.tags(head, 'style')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var sheet = _c.value;\n                    if (this.adaptor.getAttribute(sheet, 'id') === id) {\n                        return sheet;\n                    }\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n        }\n        return null;\n    };\n    HTMLDocument.prototype.removeFromDocument = function (restore) {\n        var e_7, _a;\n        if (restore === void 0) { restore = false; }\n        if (this.processed.isSet('updateDocument')) {\n            try {\n                for (var _b = __values(this.math), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var math = _c.value;\n                    if (math.state() >= MathItem_js_1.STATE.INSERTED) {\n                        math.state(MathItem_js_1.STATE.TYPESET, restore);\n                    }\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        }\n        this.processed.clear('updateDocument');\n        return this;\n    };\n    HTMLDocument.prototype.documentStyleSheet = function () {\n        return this.outputJax.styleSheet(this);\n    };\n    HTMLDocument.prototype.documentPageElements = function () {\n        return this.outputJax.pageElements(this);\n    };\n    HTMLDocument.prototype.addStyles = function (styles) {\n        this.styles.push(styles);\n    };\n    HTMLDocument.prototype.getStyles = function () {\n        return this.styles;\n    };\n    HTMLDocument.KIND = 'HTML';\n    HTMLDocument.OPTIONS = __assign(__assign({}, MathDocument_js_1.AbstractMathDocument.OPTIONS), { renderActions: (0, Options_js_1.expandable)(__assign(__assign({}, MathDocument_js_1.AbstractMathDocument.OPTIONS.renderActions), { styles: [MathItem_js_1.STATE.INSERTED + 1, '', 'updateStyleSheet', false] })), MathList: HTMLMathList_js_1.HTMLMathList, MathItem: HTMLMathItem_js_1.HTMLMathItem, DomStrings: null });\n    return HTMLDocument;\n}(MathDocument_js_1.AbstractMathDocument));\nexports.HTMLDocument = HTMLDocument;\n//# sourceMappingURL=HTMLDocument.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTMLDomStrings = void 0;\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar HTMLDomStrings = (function () {\n    function HTMLDomStrings(options) {\n        if (options === void 0) { options = null; }\n        var CLASS = this.constructor;\n        this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);\n        this.init();\n        this.getPatterns();\n    }\n    HTMLDomStrings.prototype.init = function () {\n        this.strings = [];\n        this.string = '';\n        this.snodes = [];\n        this.nodes = [];\n        this.stack = [];\n    };\n    HTMLDomStrings.prototype.getPatterns = function () {\n        var skip = (0, Options_js_1.makeArray)(this.options['skipHtmlTags']);\n        var ignore = (0, Options_js_1.makeArray)(this.options['ignoreHtmlClass']);\n        var process = (0, Options_js_1.makeArray)(this.options['processHtmlClass']);\n        this.skipHtmlTags = new RegExp('^(?:' + skip.join('|') + ')$', 'i');\n        this.ignoreHtmlClass = new RegExp('(?:^| )(?:' + ignore.join('|') + ')(?: |$)');\n        this.processHtmlClass = new RegExp('(?:^| )(?:' + process + ')(?: |$)');\n    };\n    HTMLDomStrings.prototype.pushString = function () {\n        if (this.string.match(/\\S/)) {\n            this.strings.push(this.string);\n            this.nodes.push(this.snodes);\n        }\n        this.string = '';\n        this.snodes = [];\n    };\n    HTMLDomStrings.prototype.extendString = function (node, text) {\n        this.snodes.push([node, text.length]);\n        this.string += text;\n    };\n    HTMLDomStrings.prototype.handleText = function (node, ignore) {\n        if (!ignore) {\n            this.extendString(node, this.adaptor.value(node));\n        }\n        return this.adaptor.next(node);\n    };\n    HTMLDomStrings.prototype.handleTag = function (node, ignore) {\n        if (!ignore) {\n            var text = this.options['includeHtmlTags'][this.adaptor.kind(node)];\n            this.extendString(node, text);\n        }\n        return this.adaptor.next(node);\n    };\n    HTMLDomStrings.prototype.handleContainer = function (node, ignore) {\n        this.pushString();\n        var cname = this.adaptor.getAttribute(node, 'class') || '';\n        var tname = this.adaptor.kind(node) || '';\n        var process = this.processHtmlClass.exec(cname);\n        var next = node;\n        if (this.adaptor.firstChild(node) && !this.adaptor.getAttribute(node, 'data-MJX') &&\n            (process || !this.skipHtmlTags.exec(tname))) {\n            if (this.adaptor.next(node)) {\n                this.stack.push([this.adaptor.next(node), ignore]);\n            }\n            next = this.adaptor.firstChild(node);\n            ignore = (ignore || this.ignoreHtmlClass.exec(cname)) && !process;\n        }\n        else {\n            next = this.adaptor.next(node);\n        }\n        return [next, ignore];\n    };\n    HTMLDomStrings.prototype.handleOther = function (node, _ignore) {\n        this.pushString();\n        return this.adaptor.next(node);\n    };\n    HTMLDomStrings.prototype.find = function (node) {\n        var _a, _b;\n        this.init();\n        var stop = this.adaptor.next(node);\n        var ignore = false;\n        var include = this.options['includeHtmlTags'];\n        while (node && node !== stop) {\n            var kind = this.adaptor.kind(node);\n            if (kind === '#text') {\n                node = this.handleText(node, ignore);\n            }\n            else if (include.hasOwnProperty(kind)) {\n                node = this.handleTag(node, ignore);\n            }\n            else if (kind) {\n                _a = __read(this.handleContainer(node, ignore), 2), node = _a[0], ignore = _a[1];\n            }\n            else {\n                node = this.handleOther(node, ignore);\n            }\n            if (!node && this.stack.length) {\n                this.pushString();\n                _b = __read(this.stack.pop(), 2), node = _b[0], ignore = _b[1];\n            }\n        }\n        this.pushString();\n        var result = [this.strings, this.nodes];\n        this.init();\n        return result;\n    };\n    HTMLDomStrings.OPTIONS = {\n        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'annotation', 'annotation-xml'],\n        includeHtmlTags: { br: '\\n', wbr: '', '#comment': '' },\n        ignoreHtmlClass: 'mathjax_ignore',\n        processHtmlClass: 'mathjax_process'\n    };\n    return HTMLDomStrings;\n}());\nexports.HTMLDomStrings = HTMLDomStrings;\n//# sourceMappingURL=HTMLDomStrings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTMLHandler = void 0;\nvar Handler_js_1 = require(\"../../core/Handler.js\");\nvar HTMLDocument_js_1 = require(\"./HTMLDocument.js\");\nvar HTMLHandler = (function (_super) {\n    __extends(HTMLHandler, _super);\n    function HTMLHandler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.documentClass = HTMLDocument_js_1.HTMLDocument;\n        return _this;\n    }\n    HTMLHandler.prototype.handlesDocument = function (document) {\n        var adaptor = this.adaptor;\n        if (typeof (document) === 'string') {\n            try {\n                document = adaptor.parse(document, 'text/html');\n            }\n            catch (err) { }\n        }\n        if (document instanceof adaptor.window.Document ||\n            document instanceof adaptor.window.HTMLElement ||\n            document instanceof adaptor.window.DocumentFragment) {\n            return true;\n        }\n        return false;\n    };\n    HTMLHandler.prototype.create = function (document, options) {\n        var adaptor = this.adaptor;\n        if (typeof (document) === 'string') {\n            document = adaptor.parse(document, 'text/html');\n        }\n        else if (document instanceof adaptor.window.HTMLElement ||\n            document instanceof adaptor.window.DocumentFragment) {\n            var child = document;\n            document = adaptor.parse('', 'text/html');\n            adaptor.append(adaptor.body(document), child);\n        }\n        return _super.prototype.create.call(this, document, options);\n    };\n    return HTMLHandler;\n}(Handler_js_1.AbstractHandler));\nexports.HTMLHandler = HTMLHandler;\n//# sourceMappingURL=HTMLHandler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTMLMathItem = void 0;\nvar MathItem_js_1 = require(\"../../core/MathItem.js\");\nvar HTMLMathItem = (function (_super) {\n    __extends(HTMLMathItem, _super);\n    function HTMLMathItem(math, jax, display, start, end) {\n        if (display === void 0) { display = true; }\n        if (start === void 0) { start = { node: null, n: 0, delim: '' }; }\n        if (end === void 0) { end = { node: null, n: 0, delim: '' }; }\n        return _super.call(this, math, jax, display, start, end) || this;\n    }\n    Object.defineProperty(HTMLMathItem.prototype, \"adaptor\", {\n        get: function () {\n            return this.inputJax.adaptor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTMLMathItem.prototype.updateDocument = function (_html) {\n        if (this.state() < MathItem_js_1.STATE.INSERTED) {\n            if (this.inputJax.processStrings) {\n                var node = this.start.node;\n                if (node === this.end.node) {\n                    if (this.end.n && this.end.n < this.adaptor.value(this.end.node).length) {\n                        this.adaptor.split(this.end.node, this.end.n);\n                    }\n                    if (this.start.n) {\n                        node = this.adaptor.split(this.start.node, this.start.n);\n                    }\n                    this.adaptor.replace(this.typesetRoot, node);\n                }\n                else {\n                    if (this.start.n) {\n                        node = this.adaptor.split(node, this.start.n);\n                    }\n                    while (node !== this.end.node) {\n                        var next = this.adaptor.next(node);\n                        this.adaptor.remove(node);\n                        node = next;\n                    }\n                    this.adaptor.insert(this.typesetRoot, node);\n                    if (this.end.n < this.adaptor.value(node).length) {\n                        this.adaptor.split(node, this.end.n);\n                    }\n                    this.adaptor.remove(node);\n                }\n            }\n            else {\n                this.adaptor.replace(this.typesetRoot, this.start.node);\n            }\n            this.start.node = this.end.node = this.typesetRoot;\n            this.start.n = this.end.n = 0;\n            this.state(MathItem_js_1.STATE.INSERTED);\n        }\n    };\n    HTMLMathItem.prototype.updateStyleSheet = function (document) {\n        document.addStyleSheet();\n    };\n    HTMLMathItem.prototype.removeFromDocument = function (restore) {\n        if (restore === void 0) { restore = false; }\n        if (this.state() >= MathItem_js_1.STATE.TYPESET) {\n            var adaptor = this.adaptor;\n            var node = this.start.node;\n            var math = adaptor.text('');\n            if (restore) {\n                var text = this.start.delim + this.math + this.end.delim;\n                if (this.inputJax.processStrings) {\n                    math = adaptor.text(text);\n                }\n                else {\n                    var doc = adaptor.parse(text, 'text/html');\n                    math = adaptor.firstChild(adaptor.body(doc));\n                }\n            }\n            if (adaptor.parent(node)) {\n                adaptor.replace(math, node);\n            }\n            this.start.node = this.end.node = math;\n            this.start.n = this.end.n = 0;\n        }\n    };\n    return HTMLMathItem;\n}(MathItem_js_1.AbstractMathItem));\nexports.HTMLMathItem = HTMLMathItem;\n//# sourceMappingURL=HTMLMathItem.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTMLMathList = void 0;\nvar MathList_js_1 = require(\"../../core/MathList.js\");\nvar HTMLMathList = (function (_super) {\n    __extends(HTMLMathList, _super);\n    function HTMLMathList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return HTMLMathList;\n}(MathList_js_1.AbstractMathList));\nexports.HTMLMathList = HTMLMathList;\n//# sourceMappingURL=HTMLMathList.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitFieldClass = exports.BitField = void 0;\nvar BitField = (function () {\n    function BitField() {\n        this.bits = 0;\n    }\n    BitField.allocate = function () {\n        var e_1, _a;\n        var names = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            names[_i] = arguments[_i];\n        }\n        try {\n            for (var names_1 = __values(names), names_1_1 = names_1.next(); !names_1_1.done; names_1_1 = names_1.next()) {\n                var name_1 = names_1_1.value;\n                if (this.has(name_1)) {\n                    throw new Error('Bit already allocated for ' + name_1);\n                }\n                if (this.next === BitField.MAXBIT) {\n                    throw new Error('Maximum number of bits already allocated');\n                }\n                this.names.set(name_1, this.next);\n                this.next <<= 1;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (names_1_1 && !names_1_1.done && (_a = names_1.return)) _a.call(names_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    BitField.has = function (name) {\n        return this.names.has(name);\n    };\n    BitField.prototype.set = function (name) {\n        this.bits |= this.getBit(name);\n    };\n    BitField.prototype.clear = function (name) {\n        this.bits &= ~this.getBit(name);\n    };\n    BitField.prototype.isSet = function (name) {\n        return !!(this.bits & this.getBit(name));\n    };\n    BitField.prototype.reset = function () {\n        this.bits = 0;\n    };\n    BitField.prototype.getBit = function (name) {\n        var bit = this.constructor.names.get(name);\n        if (!bit) {\n            throw new Error('Unknown bit-field name: ' + name);\n        }\n        return bit;\n    };\n    BitField.MAXBIT = 1 << 31;\n    BitField.next = 1;\n    BitField.names = new Map();\n    return BitField;\n}());\nexports.BitField = BitField;\nfunction BitFieldClass() {\n    var names = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        names[_i] = arguments[_i];\n    }\n    var Bits = (function (_super) {\n        __extends(Bits, _super);\n        function Bits() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return Bits;\n    }(BitField));\n    Bits.allocate.apply(Bits, __spreadArray([], __read(names), false));\n    return Bits;\n}\nexports.BitFieldClass = BitFieldClass;\n//# sourceMappingURL=BitField.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionList = void 0;\nvar PrioritizedList_js_1 = require(\"./PrioritizedList.js\");\nvar FunctionList = (function (_super) {\n    __extends(FunctionList, _super);\n    function FunctionList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FunctionList.prototype.execute = function () {\n        var e_1, _a;\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        try {\n            for (var _b = __values(this), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                var result = item.item.apply(item, __spreadArray([], __read(data), false));\n                if (result === false) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return true;\n    };\n    FunctionList.prototype.asyncExecute = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        var i = -1;\n        var items = this.items;\n        return new Promise(function (ok, fail) {\n            (function execute() {\n                var _a;\n                while (++i < items.length) {\n                    var result = (_a = items[i]).item.apply(_a, __spreadArray([], __read(data), false));\n                    if (result instanceof Promise) {\n                        result.then(execute).catch(function (err) { return fail(err); });\n                        return;\n                    }\n                    if (result === false) {\n                        ok(false);\n                        return;\n                    }\n                }\n                ok(true);\n            })();\n        });\n    };\n    return FunctionList;\n}(PrioritizedList_js_1.PrioritizedList));\nexports.FunctionList = FunctionList;\n//# sourceMappingURL=FunctionList.js.map","\"use strict\";\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedList = exports.ListItem = exports.END = void 0;\nexports.END = Symbol();\nvar ListItem = (function () {\n    function ListItem(data) {\n        if (data === void 0) { data = null; }\n        this.next = null;\n        this.prev = null;\n        this.data = data;\n    }\n    return ListItem;\n}());\nexports.ListItem = ListItem;\nvar LinkedList = (function () {\n    function LinkedList() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.list = new ListItem(exports.END);\n        this.list.next = this.list.prev = this.list;\n        this.push.apply(this, __spreadArray([], __read(args), false));\n    }\n    LinkedList.prototype.isBefore = function (a, b) {\n        return a < b;\n    };\n    LinkedList.prototype.push = function () {\n        var e_1, _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {\n                var data = args_1_1.value;\n                var item = new ListItem(data);\n                item.next = this.list;\n                item.prev = this.list.prev;\n                this.list.prev = item;\n                item.prev.next = item;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    LinkedList.prototype.pop = function () {\n        var item = this.list.prev;\n        if (item.data === exports.END) {\n            return null;\n        }\n        this.list.prev = item.prev;\n        item.prev.next = this.list;\n        item.next = item.prev = null;\n        return item.data;\n    };\n    LinkedList.prototype.unshift = function () {\n        var e_2, _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            for (var _b = __values(args.slice(0).reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var data = _c.value;\n                var item = new ListItem(data);\n                item.next = this.list.next;\n                item.prev = this.list;\n                this.list.next = item;\n                item.next.prev = item;\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return this;\n    };\n    LinkedList.prototype.shift = function () {\n        var item = this.list.next;\n        if (item.data === exports.END) {\n            return null;\n        }\n        this.list.next = item.next;\n        item.next.prev = this.list;\n        item.next = item.prev = null;\n        return item.data;\n    };\n    LinkedList.prototype.remove = function () {\n        var e_3, _a;\n        var items = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            items[_i] = arguments[_i];\n        }\n        var map = new Map();\n        try {\n            for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n                var item_1 = items_1_1.value;\n                map.set(item_1, true);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        var item = this.list.next;\n        while (item.data !== exports.END) {\n            var next = item.next;\n            if (map.has(item.data)) {\n                item.prev.next = item.next;\n                item.next.prev = item.prev;\n                item.next = item.prev = null;\n            }\n            item = next;\n        }\n    };\n    LinkedList.prototype.clear = function () {\n        this.list.next.prev = this.list.prev.next = null;\n        this.list.next = this.list.prev = this.list;\n        return this;\n    };\n    LinkedList.prototype[Symbol.iterator] = function () {\n        var current;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    current = this.list.next;\n                    _a.label = 1;\n                case 1:\n                    if (!(current.data !== exports.END)) return [3, 3];\n                    return [4, current.data];\n                case 2:\n                    _a.sent();\n                    current = current.next;\n                    return [3, 1];\n                case 3: return [2];\n            }\n        });\n    };\n    LinkedList.prototype.reversed = function () {\n        var current;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    current = this.list.prev;\n                    _a.label = 1;\n                case 1:\n                    if (!(current.data !== exports.END)) return [3, 3];\n                    return [4, current.data];\n                case 2:\n                    _a.sent();\n                    current = current.prev;\n                    return [3, 1];\n                case 3: return [2];\n            }\n        });\n    };\n    LinkedList.prototype.insert = function (data, isBefore) {\n        if (isBefore === void 0) { isBefore = null; }\n        if (isBefore === null) {\n            isBefore = this.isBefore.bind(this);\n        }\n        var item = new ListItem(data);\n        var cur = this.list.next;\n        while (cur.data !== exports.END && isBefore(cur.data, item.data)) {\n            cur = cur.next;\n        }\n        item.prev = cur.prev;\n        item.next = cur;\n        cur.prev.next = cur.prev = item;\n        return this;\n    };\n    LinkedList.prototype.sort = function (isBefore) {\n        var e_4, _a;\n        if (isBefore === void 0) { isBefore = null; }\n        if (isBefore === null) {\n            isBefore = this.isBefore.bind(this);\n        }\n        var lists = [];\n        try {\n            for (var _b = __values(this), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                lists.push(new LinkedList(item));\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        this.list.next = this.list.prev = this.list;\n        while (lists.length > 1) {\n            var l1 = lists.shift();\n            var l2 = lists.shift();\n            l1.merge(l2, isBefore);\n            lists.push(l1);\n        }\n        if (lists.length) {\n            this.list = lists[0].list;\n        }\n        return this;\n    };\n    LinkedList.prototype.merge = function (list, isBefore) {\n        var _a, _b, _c, _d, _e;\n        if (isBefore === void 0) { isBefore = null; }\n        if (isBefore === null) {\n            isBefore = this.isBefore.bind(this);\n        }\n        var lcur = this.list.next;\n        var mcur = list.list.next;\n        while (lcur.data !== exports.END && mcur.data !== exports.END) {\n            if (isBefore(mcur.data, lcur.data)) {\n                _a = __read([lcur, mcur], 2), mcur.prev.next = _a[0], lcur.prev.next = _a[1];\n                _b = __read([lcur.prev, mcur.prev], 2), mcur.prev = _b[0], lcur.prev = _b[1];\n                _c = __read([list.list, this.list], 2), this.list.prev.next = _c[0], list.list.prev.next = _c[1];\n                _d = __read([list.list.prev, this.list.prev], 2), this.list.prev = _d[0], list.list.prev = _d[1];\n                _e = __read([mcur.next, lcur], 2), lcur = _e[0], mcur = _e[1];\n            }\n            else {\n                lcur = lcur.next;\n            }\n        }\n        if (mcur.data !== exports.END) {\n            this.list.prev.next = list.list.next;\n            list.list.next.prev = this.list.prev;\n            list.list.prev.next = this.list;\n            this.list.prev = list.list.prev;\n            list.list.next = list.list.prev = list.list;\n        }\n        return this;\n    };\n    return LinkedList;\n}());\nexports.LinkedList = LinkedList;\n//# sourceMappingURL=LinkedList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrioritizedList = void 0;\nvar PrioritizedList = (function () {\n    function PrioritizedList() {\n        this.items = [];\n        this.items = [];\n    }\n    PrioritizedList.prototype[Symbol.iterator] = function () {\n        var i = 0;\n        var items = this.items;\n        return {\n            next: function () {\n                return { value: items[i++], done: (i > items.length) };\n            }\n        };\n    };\n    PrioritizedList.prototype.add = function (item, priority) {\n        if (priority === void 0) { priority = PrioritizedList.DEFAULTPRIORITY; }\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && priority < this.items[i].priority);\n        this.items.splice(i + 1, 0, { item: item, priority: priority });\n        return item;\n    };\n    PrioritizedList.prototype.remove = function (item) {\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && this.items[i].item !== item);\n        if (i >= 0) {\n            this.items.splice(i, 1);\n        }\n    };\n    PrioritizedList.DEFAULTPRIORITY = 5;\n    return PrioritizedList;\n}());\nexports.PrioritizedList = PrioritizedList;\n//# sourceMappingURL=PrioritizedList.js.map"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","AbstractHandler","MathDocument_js_1","DefaultMathDocument","_super","apply","arguments","AbstractMathDocument","adaptor","priority","documentClass","get","NAME","enumerable","configurable","handlesDocument","_document","document","options","AbstractInputJax","Options_js_1","FunctionList_js_1","mmlFactory","CLASS","userOptions","defaultOptions","OPTIONS","preFilters","FunctionList","postFilters","setAdaptor","setMmlFactory","initialize","reset","_args","_i","length","findMath","_node","_options","executeFilters","filters","math","data","args","execute","__values","o","s","Symbol","iterator","m","i","next","done","__read","n","r","ar","e","push","error","__spreadArray","to","from","pack","l","slice","concat","resetAllOptions","resetOptions","RenderList","InputJax_js_1","OutputJax_js_1","MathList_js_1","MathItem_js_1","MmlFactory_js_1","BitField_js_1","PrioritizedList_js_1","actions","e_1","_a","list","_b","keys","_c","id","_d","action","add","e_1_1","return","renderDoc","renderMath","convert","methodActions","_e","method1","method2","start","e_2","STATE","UNPROCESSED","items","item","e_2_1","e_3","e_3_1","renderConvert","end","e_4","LAST","e_4_1","findID","e_5","e_5_1","PrioritizedList","all","processed","inputJax","outputJax","DefaultInputJax","compile","_math","DefaultOutputJax","typeset","escaped","AbstractOutputJax","DefaultMathList","AbstractMathList","DefaultMathItem","AbstractMathItem","_this","renderActions","ProcessBits","isArray","map","jax","MmlFactory","KIND","addRenderAction","fn","removeRenderAction","remove","render","rerender","RERENDER","state","format","name","display","em","ex","containerWidth","lineWidth","scale","family","reduce","ijax","mitem","MathItem","node","body","setMetrics","mtextInheritFont","outputData","mtextFamily","merrorInheritFont","merrorFamily","typesetRoot","root","set","e_6","e_7","isSet","recompile","compileMath","inputData","undefined","e_6_1","recompile_1","recompile_1_1","e_7_1","err","retry","restart","compileError","message","title","setText","attributes","e_8","e_8_1","typesetError","class","style","color","text","setAttributes","margin","getMetrics","updateDocument","e_9","reversed","e_9_1","removeFromDocument","_restore","restore","e_10","e_10_1","INSERTED","clear","TYPESET","COMPILED","assign","forEach","merge","clearMathItemsWithin","containers","getMathItemsWithin","elements","e_11","e_12","getElements","ITEMS","containers_1","containers_1_1","container","contains","e_12_1","e_11_1","OutputJax","InputJax","MathList","doc","expandable","find","FINDMATH","metrics","METRICS","update","BitFieldClass","LinkedList_js_1","isBefore","a","LinkedList","styleSheet","pageElements","__assign","t","HTMLDocument","HTMLMathItem_js_1","HTMLMathList_js_1","HTMLDomStrings_js_1","separateOptions","HTMLDomStrings","html","dom","domStrings","styles","findPosition","N","index","delim","nodes","kind","Math","max","mathItem","open","close","_f","_g","_h","strings","_j","_k","processStrings","_l","_m","_o","_p","addPageElements","addStyleSheet","documentPageElements","append","sheet","documentStyleSheet","parent","head","findSheet","getAttribute","replace","tags","addStyles","getStyles","HTMLMathList","HTMLMathItem","DomStrings","init","getPatterns","string","snodes","stack","skip","makeArray","ignore","process","skipHtmlTags","RegExp","join","ignoreHtmlClass","processHtmlClass","pushString","match","extendString","handleText","handleTag","handleContainer","cname","tname","exec","firstChild","handleOther","_ignore","stop","include","pop","result","includeHtmlTags","br","wbr","HTMLHandler","Handler_js_1","HTMLDocument_js_1","parse","window","Document","HTMLElement","DocumentFragment","child","_html","split","insert","updateStyleSheet","BitField","bits","allocate","names","names_1","names_1_1","name_1","has","Error","MAXBIT","getBit","bit","Map","Bits","asyncExecute","Promise","ok","fail","then","catch","__generator","thisArg","_","label","sent","trys","ops","f","y","g","verb","v","step","op","ListItem","END","prev","args_1","args_1_1","unshift","reverse","shift","items_1","items_1_1","item_1","current","bind","cur","sort","lists","l1","l2","lcur","mcur","DEFAULTPRIORITY","splice"],"sourceRoot":""}