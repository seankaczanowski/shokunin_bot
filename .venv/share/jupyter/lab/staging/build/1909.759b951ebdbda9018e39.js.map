{"version":3,"file":"1909.759b951ebdbda9018e39.js?v=759b951ebdbda9018e39","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/AllPackages.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/action/ActionConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/ams/AmsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/ams/AmsItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/ams/AmsMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/ams/AmsMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/amscd/AmsCdConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/amscd/AmsCdMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/amscd/AmsCdMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bbox/BboxConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/boldsymbol/BoldsymbolConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/braket/BraketConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/braket/BraketItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/braket/BraketMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/braket/BraketMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsUtil.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/cancel/CancelConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/cases/CasesConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/centernot/CenternotConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/color/ColorConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/color/ColorConstants.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/color/ColorMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/color/ColorUtil.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/colortbl/ColortblConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/colorv2/ColorV2Configuration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/configmacros/ConfigMacrosConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/empheq/EmpheqConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/empheq/EmpheqUtil.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/enclose/EncloseConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/extpfeil/ExtpfeilConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/gensymb/GensymbConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/html/HtmlConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/html/HtmlMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsTags.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsUtil.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/mhchem/MhchemConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/newcommand/NewcommandConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/newcommand/NewcommandItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/newcommand/NewcommandMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/newcommand/NewcommandMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/newcommand/NewcommandUtil.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/noerrors/NoErrorsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/noundefined/NoUndefinedConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/physics/PhysicsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/physics/PhysicsItems.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/physics/PhysicsMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/physics/PhysicsMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/setoptions/SetOptionsConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/tagformat/TagFormatConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textcomp/TextcompConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textcomp/TextcompMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosMappings.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosMethods.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/textmacros/TextParser.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/unicode/UnicodeConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/upgreek/UpgreekConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mathjax-full/js/input/tex/verb/VerbConfiguration.js","webpack://@jupyterlab/application-top/./node_modules/mhchemparser/dist/mhchemParser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AllPackages = void 0;\nrequire(\"./base/BaseConfiguration.js\");\nrequire(\"./action/ActionConfiguration.js\");\nrequire(\"./ams/AmsConfiguration.js\");\nrequire(\"./amscd/AmsCdConfiguration.js\");\nrequire(\"./bbox/BboxConfiguration.js\");\nrequire(\"./boldsymbol/BoldsymbolConfiguration.js\");\nrequire(\"./braket/BraketConfiguration.js\");\nrequire(\"./bussproofs/BussproofsConfiguration.js\");\nrequire(\"./cancel/CancelConfiguration.js\");\nrequire(\"./cases/CasesConfiguration.js\");\nrequire(\"./centernot/CenternotConfiguration.js\");\nrequire(\"./color/ColorConfiguration.js\");\nrequire(\"./colorv2/ColorV2Configuration.js\");\nrequire(\"./colortbl/ColortblConfiguration.js\");\nrequire(\"./configmacros/ConfigMacrosConfiguration.js\");\nrequire(\"./empheq/EmpheqConfiguration.js\");\nrequire(\"./enclose/EncloseConfiguration.js\");\nrequire(\"./extpfeil/ExtpfeilConfiguration.js\");\nrequire(\"./gensymb/GensymbConfiguration.js\");\nrequire(\"./html/HtmlConfiguration.js\");\nrequire(\"./mathtools/MathtoolsConfiguration.js\");\nrequire(\"./mhchem/MhchemConfiguration.js\");\nrequire(\"./newcommand/NewcommandConfiguration.js\");\nrequire(\"./noerrors/NoErrorsConfiguration.js\");\nrequire(\"./noundefined/NoUndefinedConfiguration.js\");\nrequire(\"./physics/PhysicsConfiguration.js\");\nrequire(\"./setoptions/SetOptionsConfiguration.js\");\nrequire(\"./tagformat/TagFormatConfiguration.js\");\nrequire(\"./textcomp/TextcompConfiguration.js\");\nrequire(\"./textmacros/TextMacrosConfiguration.js\");\nrequire(\"./upgreek/UpgreekConfiguration.js\");\nrequire(\"./unicode/UnicodeConfiguration.js\");\nrequire(\"./verb/VerbConfiguration.js\");\nif (typeof MathJax !== 'undefined' && MathJax.loader) {\n    MathJax.loader.preLoad('[tex]/action', '[tex]/ams', '[tex]/amscd', '[tex]/bbox', '[tex]/boldsymbol', '[tex]/braket', '[tex]/bussproofs', '[tex]/cancel', '[tex]/cases', '[tex]/centernot', '[tex]/color', '[tex]/colorv2', '[tex]/colortbl', '[tex]/empheq', '[tex]/enclose', '[tex]/extpfeil', '[tex]/gensymb', '[tex]/html', '[tex]/mathtools', '[tex]/mhchem', '[tex]/newcommand', '[tex]/noerrors', '[tex]/noundefined', '[tex]/physics', '[tex]/upgreek', '[tex]/unicode', '[tex]/verb', '[tex]/configmacros', '[tex]/tagformat', '[tex]/textcomp', '[tex]/textmacros', '[tex]/setoptions');\n}\nexports.AllPackages = [\n    'base',\n    'action',\n    'ams',\n    'amscd',\n    'bbox',\n    'boldsymbol',\n    'braket',\n    'bussproofs',\n    'cancel',\n    'cases',\n    'centernot',\n    'color',\n    'colortbl',\n    'empheq',\n    'enclose',\n    'extpfeil',\n    'gensymb',\n    'html',\n    'mathtools',\n    'mhchem',\n    'newcommand',\n    'noerrors',\n    'noundefined',\n    'upgreek',\n    'unicode',\n    'verb',\n    'configmacros',\n    'tagformat',\n    'textcomp',\n    'textmacros'\n];\n//# sourceMappingURL=AllPackages.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionConfiguration = exports.ActionMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nexports.ActionMethods = {};\nexports.ActionMethods.Macro = BaseMethods_js_1.default.Macro;\nexports.ActionMethods.Toggle = function (parser, name) {\n    var children = [];\n    var arg;\n    while ((arg = parser.GetArgument(name)) !== '\\\\endtoggle') {\n        children.push(new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml());\n    }\n    parser.Push(parser.create('node', 'maction', children, { actiontype: 'toggle' }));\n};\nexports.ActionMethods.Mathtip = function (parser, name) {\n    var arg = parser.ParseArg(name);\n    var tip = parser.ParseArg(name);\n    parser.Push(parser.create('node', 'maction', [arg, tip], { actiontype: 'tooltip' }));\n};\nnew SymbolMap_js_1.CommandMap('action-macros', {\n    toggle: 'Toggle',\n    mathtip: 'Mathtip',\n    texttip: ['Macro', '\\\\mathtip{#1}{\\\\text{#2}}', 2]\n}, exports.ActionMethods);\nexports.ActionConfiguration = Configuration_js_1.Configuration.create('action', { handler: { macro: ['action-macros'] } });\n//# sourceMappingURL=ActionConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AmsConfiguration = exports.AmsTags = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar AmsItems_js_1 = require(\"./AmsItems.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nvar AmsMethods_js_1 = require(\"./AmsMethods.js\");\nrequire(\"./AmsMappings.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar AmsTags = (function (_super) {\n    __extends(AmsTags, _super);\n    function AmsTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AmsTags;\n}(Tags_js_1.AbstractTags));\nexports.AmsTags = AmsTags;\nvar init = function (config) {\n    new SymbolMap_js_1.CommandMap(AmsMethods_js_1.NEW_OPS, {}, {});\n    config.append(Configuration_js_1.Configuration.local({ handler: { macro: [AmsMethods_js_1.NEW_OPS] },\n        priority: -1 }));\n};\nexports.AmsConfiguration = Configuration_js_1.Configuration.create('ams', {\n    handler: {\n        character: ['AMSmath-operatorLetter'],\n        delimiter: ['AMSsymbols-delimiter', 'AMSmath-delimiter'],\n        macro: ['AMSsymbols-mathchar0mi', 'AMSsymbols-mathchar0mo',\n            'AMSsymbols-delimiter', 'AMSsymbols-macros',\n            'AMSmath-mathchar0mo', 'AMSmath-macros', 'AMSmath-delimiter'],\n        environment: ['AMSmath-environment']\n    },\n    items: (_a = {},\n        _a[AmsItems_js_1.MultlineItem.prototype.kind] = AmsItems_js_1.MultlineItem,\n        _a[AmsItems_js_1.FlalignItem.prototype.kind] = AmsItems_js_1.FlalignItem,\n        _a),\n    tags: { 'ams': AmsTags },\n    init: init,\n    config: function (_config, jax) {\n        if (jax.parseOptions.options.multlineWidth) {\n            jax.parseOptions.options.ams.multlineWidth = jax.parseOptions.options.multlineWidth;\n        }\n        delete jax.parseOptions.options.multlineWidth;\n    },\n    options: {\n        multlineWidth: '',\n        ams: {\n            multlineWidth: '100%',\n            multlineIndent: '1em',\n        }\n    }\n});\n//# sourceMappingURL=AmsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlalignItem = exports.MultlineItem = void 0;\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar MultlineItem = (function (_super) {\n    __extends(MultlineItem, _super);\n    function MultlineItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.factory.configuration.tags.start('multline', true, args[0]);\n        return _this;\n    }\n    Object.defineProperty(MultlineItem.prototype, \"kind\", {\n        get: function () {\n            return 'multline';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MultlineItem.prototype.EndEntry = function () {\n        if (this.table.length) {\n            ParseUtil_js_1.default.fixInitialMO(this.factory.configuration, this.nodes);\n        }\n        var shove = this.getProperty('shove');\n        var mtd = this.create('node', 'mtd', this.nodes, shove ? { columnalign: shove } : {});\n        this.setProperty('shove', null);\n        this.row.push(mtd);\n        this.Clear();\n    };\n    MultlineItem.prototype.EndRow = function () {\n        if (this.row.length !== 1) {\n            throw new TexError_js_1.default('MultlineRowsOneCol', 'The rows within the %1 environment must have exactly one column', 'multline');\n        }\n        var row = this.create('node', 'mtr', this.row);\n        this.table.push(row);\n        this.row = [];\n    };\n    MultlineItem.prototype.EndTable = function () {\n        _super.prototype.EndTable.call(this);\n        if (this.table.length) {\n            var m = this.table.length - 1, label = -1;\n            if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign')) {\n                NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.LEFT);\n            }\n            if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign')) {\n                NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.RIGHT);\n            }\n            var tag = this.factory.configuration.tags.getTag();\n            if (tag) {\n                label = (this.arraydef.side === TexConstants_js_1.TexConstant.Align.LEFT ? 0 : this.table.length - 1);\n                var mtr = this.table[label];\n                var mlabel = this.create('node', 'mlabeledtr', [tag].concat(NodeUtil_js_1.default.getChildren(mtr)));\n                NodeUtil_js_1.default.copyAttributes(mtr, mlabel);\n                this.table[label] = mlabel;\n            }\n        }\n        this.factory.configuration.tags.end();\n    };\n    return MultlineItem;\n}(BaseItems_js_1.ArrayItem));\nexports.MultlineItem = MultlineItem;\nvar FlalignItem = (function (_super) {\n    __extends(FlalignItem, _super);\n    function FlalignItem(factory, name, numbered, padded, center) {\n        var _this = _super.call(this, factory) || this;\n        _this.name = name;\n        _this.numbered = numbered;\n        _this.padded = padded;\n        _this.center = center;\n        _this.factory.configuration.tags.start(name, numbered, numbered);\n        return _this;\n    }\n    Object.defineProperty(FlalignItem.prototype, \"kind\", {\n        get: function () {\n            return 'flalign';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FlalignItem.prototype.EndEntry = function () {\n        _super.prototype.EndEntry.call(this);\n        var n = this.getProperty('xalignat');\n        if (!n)\n            return;\n        if (this.row.length > n) {\n            throw new TexError_js_1.default('XalignOverflow', 'Extra %1 in row of %2', '&', this.name);\n        }\n    };\n    FlalignItem.prototype.EndRow = function () {\n        var cell;\n        var row = this.row;\n        var n = this.getProperty('xalignat');\n        while (row.length < n) {\n            row.push(this.create('node', 'mtd'));\n        }\n        this.row = [];\n        if (this.padded) {\n            this.row.push(this.create('node', 'mtd'));\n        }\n        while ((cell = row.shift())) {\n            this.row.push(cell);\n            cell = row.shift();\n            if (cell)\n                this.row.push(cell);\n            if (row.length || this.padded) {\n                this.row.push(this.create('node', 'mtd'));\n            }\n        }\n        if (this.row.length > this.maxrow) {\n            this.maxrow = this.row.length;\n        }\n        _super.prototype.EndRow.call(this);\n        var mtr = this.table[this.table.length - 1];\n        if (this.getProperty('zeroWidthLabel') && mtr.isKind('mlabeledtr')) {\n            var mtd = NodeUtil_js_1.default.getChildren(mtr)[0];\n            var side = this.factory.configuration.options['tagSide'];\n            var def = __assign({ width: 0 }, (side === 'right' ? { lspace: '-1width' } : {}));\n            var mpadded = this.create('node', 'mpadded', NodeUtil_js_1.default.getChildren(mtd), def);\n            mtd.setChildren([mpadded]);\n        }\n    };\n    FlalignItem.prototype.EndTable = function () {\n        _super.prototype.EndTable.call(this);\n        if (this.center) {\n            if (this.maxrow <= 2) {\n                var def = this.arraydef;\n                delete def.width;\n                delete this.global.indentalign;\n            }\n        }\n    };\n    return FlalignItem;\n}(BaseItems_js_1.EqnArrayItem));\nexports.FlalignItem = FlalignItem;\n//# sourceMappingURL=AmsItems.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AmsMethods_js_1 = require(\"./AmsMethods.js\");\nvar sm = __importStar(require(\"../SymbolMap.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nnew sm.CharacterMap('AMSmath-mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {\n    iiiint: ['\\u2A0C', { texClass: MmlNode_js_1.TEXCLASS.OP }]\n});\nnew sm.RegExpMap('AMSmath-operatorLetter', AmsMethods_js_1.AmsMethods.operatorLetter, /[-*]/i);\nnew sm.CommandMap('AMSmath-macros', {\n    mathring: ['Accent', '02DA'],\n    nobreakspace: 'Tilde',\n    negmedspace: ['Spacer', lengths_js_1.MATHSPACE.negativemediummathspace],\n    negthickspace: ['Spacer', lengths_js_1.MATHSPACE.negativethickmathspace],\n    idotsint: ['MultiIntegral', '\\\\int\\\\cdots\\\\int'],\n    dddot: ['Accent', '20DB'],\n    ddddot: ['Accent', '20DC'],\n    sideset: 'SideSet',\n    boxed: ['Macro', '\\\\fbox{$\\\\displaystyle{#1}$}', 1],\n    tag: 'HandleTag',\n    notag: 'HandleNoTag',\n    eqref: ['HandleRef', true],\n    substack: ['Macro', '\\\\begin{subarray}{c}#1\\\\end{subarray}', 1],\n    injlim: ['NamedOp', 'inj&thinsp;lim'],\n    projlim: ['NamedOp', 'proj&thinsp;lim'],\n    varliminf: ['Macro', '\\\\mathop{\\\\underline{\\\\mmlToken{mi}{lim}}}'],\n    varlimsup: ['Macro', '\\\\mathop{\\\\overline{\\\\mmlToken{mi}{lim}}}'],\n    varinjlim: ['Macro', '\\\\mathop{\\\\underrightarrow{\\\\mmlToken{mi}{lim}}}'],\n    varprojlim: ['Macro', '\\\\mathop{\\\\underleftarrow{\\\\mmlToken{mi}{lim}}}'],\n    DeclareMathOperator: 'HandleDeclareOp',\n    operatorname: 'HandleOperatorName',\n    genfrac: 'Genfrac',\n    frac: ['Genfrac', '', '', '', ''],\n    tfrac: ['Genfrac', '', '', '', '1'],\n    dfrac: ['Genfrac', '', '', '', '0'],\n    binom: ['Genfrac', '(', ')', '0', ''],\n    tbinom: ['Genfrac', '(', ')', '0', '1'],\n    dbinom: ['Genfrac', '(', ')', '0', '0'],\n    cfrac: 'CFrac',\n    shoveleft: ['HandleShove', TexConstants_js_1.TexConstant.Align.LEFT],\n    shoveright: ['HandleShove', TexConstants_js_1.TexConstant.Align.RIGHT],\n    xrightarrow: ['xArrow', 0x2192, 5, 10],\n    xleftarrow: ['xArrow', 0x2190, 10, 5]\n}, AmsMethods_js_1.AmsMethods);\nnew sm.EnvironmentMap('AMSmath-environment', ParseMethods_js_1.default.environment, {\n    'equation*': ['Equation', null, false],\n    'eqnarray*': ['EqnArray', null, false, true, 'rcl',\n        ParseUtil_js_1.default.cols(0, lengths_js_1.MATHSPACE.thickmathspace), '.5em'],\n    align: ['EqnArray', null, true, true, 'rl', ParseUtil_js_1.default.cols(0, 2)],\n    'align*': ['EqnArray', null, false, true, 'rl', ParseUtil_js_1.default.cols(0, 2)],\n    multline: ['Multline', null, true],\n    'multline*': ['Multline', null, false],\n    split: ['EqnArray', null, false, false, 'rl', ParseUtil_js_1.default.cols(0)],\n    gather: ['EqnArray', null, true, true, 'c'],\n    'gather*': ['EqnArray', null, false, true, 'c'],\n    alignat: ['AlignAt', null, true, true],\n    'alignat*': ['AlignAt', null, false, true],\n    alignedat: ['AlignAt', null, false, false],\n    aligned: ['AmsEqnArray', null, null, null, 'rl', ParseUtil_js_1.default.cols(0, 2), '.5em', 'D'],\n    gathered: ['AmsEqnArray', null, null, null, 'c', null, '.5em', 'D'],\n    xalignat: ['XalignAt', null, true, true],\n    'xalignat*': ['XalignAt', null, false, true],\n    xxalignat: ['XalignAt', null, false, false],\n    flalign: ['FlalignArray', null, true, false, true, 'rlc', 'auto auto fit'],\n    'flalign*': ['FlalignArray', null, false, false, true, 'rlc', 'auto auto fit'],\n    subarray: ['Array', null, null, null, null, ParseUtil_js_1.default.cols(0), '0.1em', 'S', 1],\n    smallmatrix: ['Array', null, null, null, 'c', ParseUtil_js_1.default.cols(1 / 3),\n        '.2em', 'S', 1],\n    matrix: ['Array', null, null, null, 'c'],\n    pmatrix: ['Array', null, '(', ')', 'c'],\n    bmatrix: ['Array', null, '[', ']', 'c'],\n    Bmatrix: ['Array', null, '\\\\{', '\\\\}', 'c'],\n    vmatrix: ['Array', null, '\\\\vert', '\\\\vert', 'c'],\n    Vmatrix: ['Array', null, '\\\\Vert', '\\\\Vert', 'c'],\n    cases: ['Array', null, '\\\\{', '.', 'll', null, '.2em', 'T']\n}, AmsMethods_js_1.AmsMethods);\nnew sm.DelimiterMap('AMSmath-delimiter', ParseMethods_js_1.default.delimiter, {\n    '\\\\lvert': ['\\u007C', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],\n    '\\\\rvert': ['\\u007C', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }],\n    '\\\\lVert': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],\n    '\\\\rVert': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }]\n});\nnew sm.CharacterMap('AMSsymbols-mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {\n    digamma: '\\u03DD',\n    varkappa: '\\u03F0',\n    varGamma: ['\\u0393', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varDelta: ['\\u0394', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varTheta: ['\\u0398', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varLambda: ['\\u039B', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varXi: ['\\u039E', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPi: ['\\u03A0', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varSigma: ['\\u03A3', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varUpsilon: ['\\u03A5', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPhi: ['\\u03A6', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPsi: ['\\u03A8', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varOmega: ['\\u03A9', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    beth: '\\u2136',\n    gimel: '\\u2137',\n    daleth: '\\u2138',\n    backprime: ['\\u2035', { variantForm: true }],\n    hslash: '\\u210F',\n    varnothing: ['\\u2205', { variantForm: true }],\n    blacktriangle: '\\u25B4',\n    triangledown: ['\\u25BD', { variantForm: true }],\n    blacktriangledown: '\\u25BE',\n    square: '\\u25FB',\n    Box: '\\u25FB',\n    blacksquare: '\\u25FC',\n    lozenge: '\\u25CA',\n    Diamond: '\\u25CA',\n    blacklozenge: '\\u29EB',\n    circledS: ['\\u24C8', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    bigstar: '\\u2605',\n    sphericalangle: '\\u2222',\n    measuredangle: '\\u2221',\n    nexists: '\\u2204',\n    complement: '\\u2201',\n    mho: '\\u2127',\n    eth: ['\\u00F0', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Finv: '\\u2132',\n    diagup: '\\u2571',\n    Game: '\\u2141',\n    diagdown: '\\u2572',\n    Bbbk: ['\\u006B',\n        { mathvariant: TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK }],\n    yen: '\\u00A5',\n    circledR: '\\u00AE',\n    checkmark: '\\u2713',\n    maltese: '\\u2720'\n});\nnew sm.CharacterMap('AMSsymbols-mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {\n    dotplus: '\\u2214',\n    ltimes: '\\u22C9',\n    smallsetminus: ['\\u2216', { variantForm: true }],\n    rtimes: '\\u22CA',\n    Cap: '\\u22D2',\n    doublecap: '\\u22D2',\n    leftthreetimes: '\\u22CB',\n    Cup: '\\u22D3',\n    doublecup: '\\u22D3',\n    rightthreetimes: '\\u22CC',\n    barwedge: '\\u22BC',\n    curlywedge: '\\u22CF',\n    veebar: '\\u22BB',\n    curlyvee: '\\u22CE',\n    doublebarwedge: '\\u2A5E',\n    boxminus: '\\u229F',\n    circleddash: '\\u229D',\n    boxtimes: '\\u22A0',\n    circledast: '\\u229B',\n    boxdot: '\\u22A1',\n    circledcirc: '\\u229A',\n    boxplus: '\\u229E',\n    centerdot: ['\\u22C5', { variantForm: true }],\n    divideontimes: '\\u22C7',\n    intercal: '\\u22BA',\n    leqq: '\\u2266',\n    geqq: '\\u2267',\n    leqslant: '\\u2A7D',\n    geqslant: '\\u2A7E',\n    eqslantless: '\\u2A95',\n    eqslantgtr: '\\u2A96',\n    lesssim: '\\u2272',\n    gtrsim: '\\u2273',\n    lessapprox: '\\u2A85',\n    gtrapprox: '\\u2A86',\n    approxeq: '\\u224A',\n    lessdot: '\\u22D6',\n    gtrdot: '\\u22D7',\n    lll: '\\u22D8',\n    llless: '\\u22D8',\n    ggg: '\\u22D9',\n    gggtr: '\\u22D9',\n    lessgtr: '\\u2276',\n    gtrless: '\\u2277',\n    lesseqgtr: '\\u22DA',\n    gtreqless: '\\u22DB',\n    lesseqqgtr: '\\u2A8B',\n    gtreqqless: '\\u2A8C',\n    doteqdot: '\\u2251',\n    Doteq: '\\u2251',\n    eqcirc: '\\u2256',\n    risingdotseq: '\\u2253',\n    circeq: '\\u2257',\n    fallingdotseq: '\\u2252',\n    triangleq: '\\u225C',\n    backsim: '\\u223D',\n    thicksim: ['\\u223C', { variantForm: true }],\n    backsimeq: '\\u22CD',\n    thickapprox: ['\\u2248', { variantForm: true }],\n    subseteqq: '\\u2AC5',\n    supseteqq: '\\u2AC6',\n    Subset: '\\u22D0',\n    Supset: '\\u22D1',\n    sqsubset: '\\u228F',\n    sqsupset: '\\u2290',\n    preccurlyeq: '\\u227C',\n    succcurlyeq: '\\u227D',\n    curlyeqprec: '\\u22DE',\n    curlyeqsucc: '\\u22DF',\n    precsim: '\\u227E',\n    succsim: '\\u227F',\n    precapprox: '\\u2AB7',\n    succapprox: '\\u2AB8',\n    vartriangleleft: '\\u22B2',\n    lhd: '\\u22B2',\n    vartriangleright: '\\u22B3',\n    rhd: '\\u22B3',\n    trianglelefteq: '\\u22B4',\n    unlhd: '\\u22B4',\n    trianglerighteq: '\\u22B5',\n    unrhd: '\\u22B5',\n    vDash: ['\\u22A8', { variantForm: true }],\n    Vdash: '\\u22A9',\n    Vvdash: '\\u22AA',\n    smallsmile: ['\\u2323', { variantForm: true }],\n    shortmid: ['\\u2223', { variantForm: true }],\n    smallfrown: ['\\u2322', { variantForm: true }],\n    shortparallel: ['\\u2225', { variantForm: true }],\n    bumpeq: '\\u224F',\n    between: '\\u226C',\n    Bumpeq: '\\u224E',\n    pitchfork: '\\u22D4',\n    varpropto: ['\\u221D', { variantForm: true }],\n    backepsilon: '\\u220D',\n    blacktriangleleft: '\\u25C2',\n    blacktriangleright: '\\u25B8',\n    therefore: '\\u2234',\n    because: '\\u2235',\n    eqsim: '\\u2242',\n    vartriangle: ['\\u25B3', { variantForm: true }],\n    Join: '\\u22C8',\n    nless: '\\u226E',\n    ngtr: '\\u226F',\n    nleq: '\\u2270',\n    ngeq: '\\u2271',\n    nleqslant: ['\\u2A87', { variantForm: true }],\n    ngeqslant: ['\\u2A88', { variantForm: true }],\n    nleqq: ['\\u2270', { variantForm: true }],\n    ngeqq: ['\\u2271', { variantForm: true }],\n    lneq: '\\u2A87',\n    gneq: '\\u2A88',\n    lneqq: '\\u2268',\n    gneqq: '\\u2269',\n    lvertneqq: ['\\u2268', { variantForm: true }],\n    gvertneqq: ['\\u2269', { variantForm: true }],\n    lnsim: '\\u22E6',\n    gnsim: '\\u22E7',\n    lnapprox: '\\u2A89',\n    gnapprox: '\\u2A8A',\n    nprec: '\\u2280',\n    nsucc: '\\u2281',\n    npreceq: ['\\u22E0', { variantForm: true }],\n    nsucceq: ['\\u22E1', { variantForm: true }],\n    precneqq: '\\u2AB5',\n    succneqq: '\\u2AB6',\n    precnsim: '\\u22E8',\n    succnsim: '\\u22E9',\n    precnapprox: '\\u2AB9',\n    succnapprox: '\\u2ABA',\n    nsim: '\\u2241',\n    ncong: '\\u2247',\n    nshortmid: ['\\u2224', { variantForm: true }],\n    nshortparallel: ['\\u2226', { variantForm: true }],\n    nmid: '\\u2224',\n    nparallel: '\\u2226',\n    nvdash: '\\u22AC',\n    nvDash: '\\u22AD',\n    nVdash: '\\u22AE',\n    nVDash: '\\u22AF',\n    ntriangleleft: '\\u22EA',\n    ntriangleright: '\\u22EB',\n    ntrianglelefteq: '\\u22EC',\n    ntrianglerighteq: '\\u22ED',\n    nsubseteq: '\\u2288',\n    nsupseteq: '\\u2289',\n    nsubseteqq: ['\\u2288', { variantForm: true }],\n    nsupseteqq: ['\\u2289', { variantForm: true }],\n    subsetneq: '\\u228A',\n    supsetneq: '\\u228B',\n    varsubsetneq: ['\\u228A', { variantForm: true }],\n    varsupsetneq: ['\\u228B', { variantForm: true }],\n    subsetneqq: '\\u2ACB',\n    supsetneqq: '\\u2ACC',\n    varsubsetneqq: ['\\u2ACB', { variantForm: true }],\n    varsupsetneqq: ['\\u2ACC', { variantForm: true }],\n    leftleftarrows: '\\u21C7',\n    rightrightarrows: '\\u21C9',\n    leftrightarrows: '\\u21C6',\n    rightleftarrows: '\\u21C4',\n    Lleftarrow: '\\u21DA',\n    Rrightarrow: '\\u21DB',\n    twoheadleftarrow: '\\u219E',\n    twoheadrightarrow: '\\u21A0',\n    leftarrowtail: '\\u21A2',\n    rightarrowtail: '\\u21A3',\n    looparrowleft: '\\u21AB',\n    looparrowright: '\\u21AC',\n    leftrightharpoons: '\\u21CB',\n    rightleftharpoons: ['\\u21CC', { variantForm: true }],\n    curvearrowleft: '\\u21B6',\n    curvearrowright: '\\u21B7',\n    circlearrowleft: '\\u21BA',\n    circlearrowright: '\\u21BB',\n    Lsh: '\\u21B0',\n    Rsh: '\\u21B1',\n    upuparrows: '\\u21C8',\n    downdownarrows: '\\u21CA',\n    upharpoonleft: '\\u21BF',\n    upharpoonright: '\\u21BE',\n    downharpoonleft: '\\u21C3',\n    restriction: '\\u21BE',\n    multimap: '\\u22B8',\n    downharpoonright: '\\u21C2',\n    leftrightsquigarrow: '\\u21AD',\n    rightsquigarrow: '\\u21DD',\n    leadsto: '\\u21DD',\n    dashrightarrow: '\\u21E2',\n    dashleftarrow: '\\u21E0',\n    nleftarrow: '\\u219A',\n    nrightarrow: '\\u219B',\n    nLeftarrow: '\\u21CD',\n    nRightarrow: '\\u21CF',\n    nleftrightarrow: '\\u21AE',\n    nLeftrightarrow: '\\u21CE'\n});\nnew sm.DelimiterMap('AMSsymbols-delimiter', ParseMethods_js_1.default.delimiter, {\n    '\\\\ulcorner': '\\u231C',\n    '\\\\urcorner': '\\u231D',\n    '\\\\llcorner': '\\u231E',\n    '\\\\lrcorner': '\\u231F'\n});\nnew sm.CommandMap('AMSsymbols-macros', {\n    implies: ['Macro', '\\\\;\\\\Longrightarrow\\\\;'],\n    impliedby: ['Macro', '\\\\;\\\\Longleftarrow\\\\;']\n}, AmsMethods_js_1.AmsMethods);\n//# sourceMappingURL=AmsMappings.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NEW_OPS = exports.AmsMethods = void 0;\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nexports.AmsMethods = {};\nexports.AmsMethods.AmsEqnArray = function (parser, begin, numbered, taggable, align, spacing, style) {\n    var args = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n    var array = BaseMethods_js_1.default.EqnArray(parser, begin, numbered, taggable, align, spacing, style);\n    return ParseUtil_js_1.default.setArrayAlign(array, args);\n};\nexports.AmsMethods.AlignAt = function (parser, begin, numbered, taggable) {\n    var name = begin.getName();\n    var n, valign, align = '', spacing = [];\n    if (!taggable) {\n        valign = parser.GetBrackets('\\\\begin{' + name + '}');\n    }\n    n = parser.GetArgument('\\\\begin{' + name + '}');\n    if (n.match(/[^0-9]/)) {\n        throw new TexError_js_1.default('PositiveIntegerArg', 'Argument to %1 must me a positive integer', '\\\\begin{' + name + '}');\n    }\n    var count = parseInt(n, 10);\n    while (count > 0) {\n        align += 'rl';\n        spacing.push('0em 0em');\n        count--;\n    }\n    var spaceStr = spacing.join(' ');\n    if (taggable) {\n        return exports.AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);\n    }\n    var array = exports.AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);\n    return ParseUtil_js_1.default.setArrayAlign(array, valign);\n};\nexports.AmsMethods.Multline = function (parser, begin, numbered) {\n    parser.Push(begin);\n    ParseUtil_js_1.default.checkEqnEnv(parser);\n    var item = parser.itemFactory.create('multline', numbered, parser.stack);\n    item.arraydef = {\n        displaystyle: true,\n        rowspacing: '.5em',\n        columnspacing: '100%',\n        width: parser.options.ams['multlineWidth'],\n        side: parser.options['tagSide'],\n        minlabelspacing: parser.options['tagIndent'],\n        framespacing: parser.options.ams['multlineIndent'] + ' 0',\n        frame: '',\n        'data-width-includes-label': true\n    };\n    return item;\n};\nexports.AmsMethods.XalignAt = function (parser, begin, numbered, padded) {\n    var n = parser.GetArgument('\\\\begin{' + begin.getName() + '}');\n    if (n.match(/[^0-9]/)) {\n        throw new TexError_js_1.default('PositiveIntegerArg', 'Argument to %1 must me a positive integer', '\\\\begin{' + begin.getName() + '}');\n    }\n    var align = (padded ? 'crl' : 'rlc');\n    var width = (padded ? 'fit auto auto' : 'auto auto fit');\n    var item = exports.AmsMethods.FlalignArray(parser, begin, numbered, padded, false, align, width, true);\n    item.setProperty('xalignat', 2 * parseInt(n));\n    return item;\n};\nexports.AmsMethods.FlalignArray = function (parser, begin, numbered, padded, center, align, width, zeroWidthLabel) {\n    if (zeroWidthLabel === void 0) { zeroWidthLabel = false; }\n    parser.Push(begin);\n    ParseUtil_js_1.default.checkEqnEnv(parser);\n    align = align\n        .split('')\n        .join(' ')\n        .replace(/r/g, 'right')\n        .replace(/l/g, 'left')\n        .replace(/c/g, 'center');\n    var item = parser.itemFactory.create('flalign', begin.getName(), numbered, padded, center, parser.stack);\n    item.arraydef = {\n        width: '100%',\n        displaystyle: true,\n        columnalign: align,\n        columnspacing: '0em',\n        columnwidth: width,\n        rowspacing: '3pt',\n        side: parser.options['tagSide'],\n        minlabelspacing: (zeroWidthLabel ? '0' : parser.options['tagIndent']),\n        'data-width-includes-label': true,\n    };\n    item.setProperty('zeroWidthLabel', zeroWidthLabel);\n    return item;\n};\nexports.NEW_OPS = 'ams-declare-ops';\nexports.AmsMethods.HandleDeclareOp = function (parser, name) {\n    var star = (parser.GetStar() ? '*' : '');\n    var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    if (cs.charAt(0) === '\\\\') {\n        cs = cs.substr(1);\n    }\n    var op = parser.GetArgument(name);\n    parser.configuration.handlers.retrieve(exports.NEW_OPS).\n        add(cs, new Symbol_js_1.Macro(cs, exports.AmsMethods.Macro, [\"\\\\operatorname\".concat(star, \"{\").concat(op, \"}\")]));\n};\nexports.AmsMethods.HandleOperatorName = function (parser, name) {\n    var star = parser.GetStar();\n    var op = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    var mml = new TexParser_js_1.default(op, __assign(__assign({}, parser.stack.env), { font: TexConstants_js_1.TexConstant.Variant.NORMAL, multiLetterIdentifiers: /^[-*a-z]+/i, operatorLetters: true }), parser.configuration).mml();\n    if (!mml.isKind('mi')) {\n        mml = parser.create('node', 'TeXAtom', [mml]);\n    }\n    NodeUtil_js_1.default.setProperties(mml, { movesupsub: star, movablelimits: true, texClass: MmlNode_js_1.TEXCLASS.OP });\n    if (!star) {\n        var c = parser.GetNext(), i = parser.i;\n        if (c === '\\\\' && ++parser.i && parser.GetCS() !== 'limits') {\n            parser.i = i;\n        }\n    }\n    parser.Push(mml);\n};\nexports.AmsMethods.SideSet = function (parser, name) {\n    var _a = __read(splitSideSet(parser.ParseArg(name)), 2), preScripts = _a[0], preRest = _a[1];\n    var _b = __read(splitSideSet(parser.ParseArg(name)), 2), postScripts = _b[0], postRest = _b[1];\n    var base = parser.ParseArg(name);\n    var mml = base;\n    if (preScripts) {\n        if (preRest) {\n            preScripts.replaceChild(parser.create('node', 'mphantom', [\n                parser.create('node', 'mpadded', [ParseUtil_js_1.default.copyNode(base, parser)], { width: 0 })\n            ]), NodeUtil_js_1.default.getChildAt(preScripts, 0));\n        }\n        else {\n            mml = parser.create('node', 'mmultiscripts', [base]);\n            if (postScripts) {\n                NodeUtil_js_1.default.appendChildren(mml, [\n                    NodeUtil_js_1.default.getChildAt(postScripts, 1) || parser.create('node', 'none'),\n                    NodeUtil_js_1.default.getChildAt(postScripts, 2) || parser.create('node', 'none')\n                ]);\n            }\n            NodeUtil_js_1.default.setProperty(mml, 'scriptalign', 'left');\n            NodeUtil_js_1.default.appendChildren(mml, [\n                parser.create('node', 'mprescripts'),\n                NodeUtil_js_1.default.getChildAt(preScripts, 1) || parser.create('node', 'none'),\n                NodeUtil_js_1.default.getChildAt(preScripts, 2) || parser.create('node', 'none')\n            ]);\n        }\n    }\n    if (postScripts && mml === base) {\n        postScripts.replaceChild(base, NodeUtil_js_1.default.getChildAt(postScripts, 0));\n        mml = postScripts;\n    }\n    var mrow = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OP, movesupsub: true, movablelimits: true });\n    if (preRest) {\n        preScripts && mrow.appendChild(preScripts);\n        mrow.appendChild(preRest);\n    }\n    mrow.appendChild(mml);\n    postRest && mrow.appendChild(postRest);\n    parser.Push(mrow);\n};\nfunction splitSideSet(mml) {\n    if (!mml || (mml.isInferred && mml.childNodes.length === 0))\n        return [null, null];\n    if (mml.isKind('msubsup') && checkSideSetBase(mml))\n        return [mml, null];\n    var child = NodeUtil_js_1.default.getChildAt(mml, 0);\n    if (!(mml.isInferred && child && checkSideSetBase(child)))\n        return [null, mml];\n    mml.childNodes.splice(0, 1);\n    return [child, mml];\n}\nfunction checkSideSetBase(mml) {\n    var base = mml.childNodes[0];\n    return base && base.isKind('mi') && base.getText() === '';\n}\nexports.AmsMethods.operatorLetter = function (parser, c) {\n    return parser.stack.env.operatorLetters ? ParseMethods_js_1.default.variable(parser, c) : false;\n};\nexports.AmsMethods.MultiIntegral = function (parser, name, integral) {\n    var next = parser.GetNext();\n    if (next === '\\\\') {\n        var i = parser.i;\n        next = parser.GetArgument(name);\n        parser.i = i;\n        if (next === '\\\\limits') {\n            if (name === '\\\\idotsint') {\n                integral = '\\\\!\\\\!\\\\mathop{\\\\,\\\\,' + integral + '}';\n            }\n            else {\n                integral = '\\\\!\\\\!\\\\!\\\\mathop{\\\\,\\\\,\\\\,' + integral + '}';\n            }\n        }\n    }\n    parser.string = integral + ' ' + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nexports.AmsMethods.xArrow = function (parser, name, chr, l, r) {\n    var def = { width: '+' + ParseUtil_js_1.default.Em((l + r) / 18), lspace: ParseUtil_js_1.default.Em(l / 18) };\n    var bot = parser.GetBrackets(name);\n    var first = parser.ParseArg(name);\n    var dstrut = parser.create('node', 'mspace', [], { depth: '.25em' });\n    var arrow = parser.create('token', 'mo', { stretchy: true, texClass: MmlNode_js_1.TEXCLASS.REL }, String.fromCodePoint(chr));\n    arrow = parser.create('node', 'mstyle', [arrow], { scriptlevel: 0 });\n    var mml = parser.create('node', 'munderover', [arrow]);\n    var mpadded = parser.create('node', 'mpadded', [first, dstrut], def);\n    NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '-.2em');\n    NodeUtil_js_1.default.setAttribute(mpadded, 'height', '-.2em');\n    NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);\n    if (bot) {\n        var bottom = new TexParser_js_1.default(bot, parser.stack.env, parser.configuration).mml();\n        var bstrut = parser.create('node', 'mspace', [], { height: '.75em' });\n        mpadded = parser.create('node', 'mpadded', [bottom, bstrut], def);\n        NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.15em');\n        NodeUtil_js_1.default.setAttribute(mpadded, 'depth', '-.15em');\n        NodeUtil_js_1.default.setChild(mml, mml.under, mpadded);\n    }\n    NodeUtil_js_1.default.setProperty(mml, 'subsupOK', true);\n    parser.Push(mml);\n};\nexports.AmsMethods.HandleShove = function (parser, _name, shove) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'multline') {\n        throw new TexError_js_1.default('CommandOnlyAllowedInEnv', '%1 only allowed in %2 environment', parser.currentCS, 'multline');\n    }\n    if (top.Size()) {\n        throw new TexError_js_1.default('CommandAtTheBeginingOfLine', '%1 must come at the beginning of the line', parser.currentCS);\n    }\n    top.setProperty('shove', shove);\n};\nexports.AmsMethods.CFrac = function (parser, name) {\n    var lr = ParseUtil_js_1.default.trimSpaces(parser.GetBrackets(name, ''));\n    var num = parser.GetArgument(name);\n    var den = parser.GetArgument(name);\n    var lrMap = {\n        l: TexConstants_js_1.TexConstant.Align.LEFT, r: TexConstants_js_1.TexConstant.Align.RIGHT, '': ''\n    };\n    var numNode = new TexParser_js_1.default('\\\\strut\\\\textstyle{' + num + '}', parser.stack.env, parser.configuration).mml();\n    var denNode = new TexParser_js_1.default('\\\\strut\\\\textstyle{' + den + '}', parser.stack.env, parser.configuration).mml();\n    var frac = parser.create('node', 'mfrac', [numNode, denNode]);\n    lr = lrMap[lr];\n    if (lr == null) {\n        throw new TexError_js_1.default('IllegalAlign', 'Illegal alignment specified in %1', parser.currentCS);\n    }\n    if (lr) {\n        NodeUtil_js_1.default.setProperties(frac, { numalign: lr, denomalign: lr });\n    }\n    parser.Push(frac);\n};\nexports.AmsMethods.Genfrac = function (parser, name, left, right, thick, style) {\n    if (left == null) {\n        left = parser.GetDelimiterArg(name);\n    }\n    if (right == null) {\n        right = parser.GetDelimiterArg(name);\n    }\n    if (thick == null) {\n        thick = parser.GetArgument(name);\n    }\n    if (style == null) {\n        style = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    }\n    var num = parser.ParseArg(name);\n    var den = parser.ParseArg(name);\n    var frac = parser.create('node', 'mfrac', [num, den]);\n    if (thick !== '') {\n        NodeUtil_js_1.default.setAttribute(frac, 'linethickness', thick);\n    }\n    if (left || right) {\n        NodeUtil_js_1.default.setProperty(frac, 'withDelims', true);\n        frac = ParseUtil_js_1.default.fixedFence(parser.configuration, left, frac, right);\n    }\n    if (style !== '') {\n        var styleDigit = parseInt(style, 10);\n        var styleAlpha = ['D', 'T', 'S', 'SS'][styleDigit];\n        if (styleAlpha == null) {\n            throw new TexError_js_1.default('BadMathStyleFor', 'Bad math style for %1', parser.currentCS);\n        }\n        frac = parser.create('node', 'mstyle', [frac]);\n        if (styleAlpha === 'D') {\n            NodeUtil_js_1.default.setProperties(frac, { displaystyle: true, scriptlevel: 0 });\n        }\n        else {\n            NodeUtil_js_1.default.setProperties(frac, { displaystyle: false,\n                scriptlevel: styleDigit - 1 });\n        }\n    }\n    parser.Push(frac);\n};\nexports.AmsMethods.HandleTag = function (parser, name) {\n    if (!parser.tags.currentTag.taggable && parser.tags.env) {\n        throw new TexError_js_1.default('CommandNotAllowedInEnv', '%1 not allowed in %2 environment', parser.currentCS, parser.tags.env);\n    }\n    if (parser.tags.currentTag.tag) {\n        throw new TexError_js_1.default('MultipleCommand', 'Multiple %1', parser.currentCS);\n    }\n    var star = parser.GetStar();\n    var tagId = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    parser.tags.tag(tagId, star);\n};\nexports.AmsMethods.HandleNoTag = BaseMethods_js_1.default.HandleNoTag;\nexports.AmsMethods.HandleRef = BaseMethods_js_1.default.HandleRef;\nexports.AmsMethods.Macro = BaseMethods_js_1.default.Macro;\nexports.AmsMethods.Accent = BaseMethods_js_1.default.Accent;\nexports.AmsMethods.Tilde = BaseMethods_js_1.default.Tilde;\nexports.AmsMethods.Array = BaseMethods_js_1.default.Array;\nexports.AmsMethods.Spacer = BaseMethods_js_1.default.Spacer;\nexports.AmsMethods.NamedOp = BaseMethods_js_1.default.NamedOp;\nexports.AmsMethods.EqnArray = BaseMethods_js_1.default.EqnArray;\nexports.AmsMethods.Equation = BaseMethods_js_1.default.Equation;\n//# sourceMappingURL=AmsMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AmsCdConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nrequire(\"./AmsCdMappings.js\");\nexports.AmsCdConfiguration = Configuration_js_1.Configuration.create('amscd', {\n    handler: {\n        character: ['amscd_special'],\n        macro: ['amscd_macros'],\n        environment: ['amscd_environment']\n    },\n    options: {\n        amscd: {\n            colspace: '5pt',\n            rowspace: '5pt',\n            harrowsize: '2.75em',\n            varrowsize: '1.75em',\n            hideHorizontalLabels: false\n        }\n    }\n});\n//# sourceMappingURL=AmsCdConfiguration.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sm = __importStar(require(\"../SymbolMap.js\"));\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar AmsCdMethods_js_1 = __importDefault(require(\"./AmsCdMethods.js\"));\nnew sm.EnvironmentMap('amscd_environment', ParseMethods_js_1.default.environment, { CD: 'CD' }, AmsCdMethods_js_1.default);\nnew sm.CommandMap('amscd_macros', {\n    minCDarrowwidth: 'minCDarrowwidth',\n    minCDarrowheight: 'minCDarrowheight',\n}, AmsCdMethods_js_1.default);\nnew sm.MacroMap('amscd_special', { '@': 'arrow' }, AmsCdMethods_js_1.default);\n//# sourceMappingURL=AmsCdMappings.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar BaseConfiguration_js_1 = require(\"../base/BaseConfiguration.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar AmsCdMethods = {};\nAmsCdMethods.CD = function (parser, begin) {\n    parser.Push(begin);\n    var item = parser.itemFactory.create('array');\n    var options = parser.configuration.options.amscd;\n    item.setProperties({\n        minw: parser.stack.env.CD_minw || options.harrowsize,\n        minh: parser.stack.env.CD_minh || options.varrowsize\n    });\n    item.arraydef = {\n        columnalign: 'center',\n        columnspacing: options.colspace,\n        rowspacing: options.rowspace,\n        displaystyle: true\n    };\n    return item;\n};\nAmsCdMethods.arrow = function (parser, name) {\n    var c = parser.string.charAt(parser.i);\n    if (!c.match(/[><VA.|=]/)) {\n        return (0, BaseConfiguration_js_1.Other)(parser, name);\n    }\n    else {\n        parser.i++;\n    }\n    var first = parser.stack.Top();\n    if (!first.isKind('array') || first.Size()) {\n        AmsCdMethods.cell(parser, name);\n        first = parser.stack.Top();\n    }\n    var top = first;\n    var arrowRow = ((top.table.length % 2) === 1);\n    var n = (top.row.length + (arrowRow ? 0 : 1)) % 2;\n    while (n) {\n        AmsCdMethods.cell(parser, name);\n        n--;\n    }\n    var mml;\n    var hdef = { minsize: top.getProperty('minw'), stretchy: true }, vdef = { minsize: top.getProperty('minh'),\n        stretchy: true, symmetric: true, lspace: 0, rspace: 0 };\n    if (c === '.') {\n    }\n    else if (c === '|') {\n        mml = parser.create('token', 'mo', vdef, '\\u2225');\n    }\n    else if (c === '=') {\n        mml = parser.create('token', 'mo', hdef, '=');\n    }\n    else {\n        var arrow = {\n            '>': '\\u2192', '<': '\\u2190', 'V': '\\u2193', 'A': '\\u2191'\n        }[c];\n        var a = parser.GetUpTo(name + c, c);\n        var b = parser.GetUpTo(name + c, c);\n        if (c === '>' || c === '<') {\n            mml = parser.create('token', 'mo', hdef, arrow);\n            if (!a) {\n                a = '\\\\kern ' + top.getProperty('minw');\n            }\n            if (a || b) {\n                var pad = { width: '+.67em', lspace: '.33em' };\n                mml = parser.create('node', 'munderover', [mml]);\n                if (a) {\n                    var nodeA = new TexParser_js_1.default(a, parser.stack.env, parser.configuration).mml();\n                    var mpadded = parser.create('node', 'mpadded', [nodeA], pad);\n                    NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.1em');\n                    NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);\n                }\n                if (b) {\n                    var nodeB = new TexParser_js_1.default(b, parser.stack.env, parser.configuration).mml();\n                    NodeUtil_js_1.default.setChild(mml, mml.under, parser.create('node', 'mpadded', [nodeB], pad));\n                }\n                if (parser.configuration.options.amscd.hideHorizontalLabels) {\n                    mml = parser.create('node', 'mpadded', mml, { depth: 0, height: '.67em' });\n                }\n            }\n        }\n        else {\n            var arrowNode = parser.create('token', 'mo', vdef, arrow);\n            mml = arrowNode;\n            if (a || b) {\n                mml = parser.create('node', 'mrow');\n                if (a) {\n                    NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('\\\\scriptstyle\\\\llap{' + a + '}', parser.stack.env, parser.configuration).mml()]);\n                }\n                arrowNode.texClass = MmlNode_js_1.TEXCLASS.ORD;\n                NodeUtil_js_1.default.appendChildren(mml, [arrowNode]);\n                if (b) {\n                    NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('\\\\scriptstyle\\\\rlap{' + b + '}', parser.stack.env, parser.configuration).mml()]);\n                }\n            }\n        }\n    }\n    if (mml) {\n        parser.Push(mml);\n    }\n    AmsCdMethods.cell(parser, name);\n};\nAmsCdMethods.cell = function (parser, name) {\n    var top = parser.stack.Top();\n    if ((top.table || []).length % 2 === 0 && (top.row || []).length === 0) {\n        parser.Push(parser.create('node', 'mpadded', [], { height: '8.5pt', depth: '2pt' }));\n    }\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));\n};\nAmsCdMethods.minCDarrowwidth = function (parser, name) {\n    parser.stack.env.CD_minw = parser.GetDimen(name);\n};\nAmsCdMethods.minCDarrowheight = function (parser, name) {\n    parser.stack.env.CD_minh = parser.GetDimen(name);\n};\nexports.default = AmsCdMethods;\n//# sourceMappingURL=AmsCdMethods.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BboxConfiguration = exports.BboxMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nexports.BboxMethods = {};\nexports.BboxMethods.BBox = function (parser, name) {\n    var bbox = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var parts = bbox.split(/,/);\n    var def, background, style;\n    for (var i = 0, m = parts.length; i < m; i++) {\n        var part = parts[i].trim();\n        var match = part.match(/^(\\.\\d+|\\d+(\\.\\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);\n        if (match) {\n            if (def) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);\n            }\n            var pad = BBoxPadding(match[1] + match[3]);\n            if (pad) {\n                def = {\n                    height: '+' + pad,\n                    depth: '+' + pad,\n                    lspace: pad,\n                    width: '+' + (2 * parseInt(match[1], 10)) + match[3]\n                };\n            }\n        }\n        else if (part.match(/^([a-z0-9]+|\\#[0-9a-f]{6}|\\#[0-9a-f]{3})$/i)) {\n            if (background) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Background', name);\n            }\n            background = part;\n        }\n        else if (part.match(/^[-a-z]+:/i)) {\n            if (style) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Style', name);\n            }\n            style = BBoxStyle(part);\n        }\n        else if (part !== '') {\n            throw new TexError_js_1.default('InvalidBBoxProperty', '\"%1\" doesn\\'t look like a color, a padding dimension, or a style', part);\n        }\n    }\n    if (def) {\n        math = parser.create('node', 'mpadded', [math], def);\n    }\n    if (background || style) {\n        def = {};\n        if (background) {\n            Object.assign(def, { mathbackground: background });\n        }\n        if (style) {\n            Object.assign(def, { style: style });\n        }\n        math = parser.create('node', 'mstyle', [math], def);\n    }\n    parser.Push(math);\n};\nvar BBoxStyle = function (styles) {\n    return styles;\n};\nvar BBoxPadding = function (pad) {\n    return pad;\n};\nnew SymbolMap_js_1.CommandMap('bbox', { bbox: 'BBox' }, exports.BboxMethods);\nexports.BboxConfiguration = Configuration_js_1.Configuration.create('bbox', { handler: { macro: ['bbox'] } });\n//# sourceMappingURL=BboxConfiguration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BoldsymbolConfiguration = exports.rewriteBoldTokens = exports.createBoldToken = exports.BoldsymbolMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar NodeFactory_js_1 = require(\"../NodeFactory.js\");\nvar BOLDVARIANT = {};\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.NORMAL] = TexConstants_js_1.TexConstant.Variant.BOLD;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.ITALIC] = TexConstants_js_1.TexConstant.Variant.BOLDITALIC;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.FRAKTUR] = TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SCRIPT] = TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SANSSERIF] = TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF;\nBOLDVARIANT['-tex-calligraphic'] = '-tex-bold-calligraphic';\nBOLDVARIANT['-tex-oldstyle'] = '-tex-bold-oldstyle';\nBOLDVARIANT['-tex-mathit'] = TexConstants_js_1.TexConstant.Variant.BOLDITALIC;\nexports.BoldsymbolMethods = {};\nexports.BoldsymbolMethods.Boldsymbol = function (parser, name) {\n    var boldsymbol = parser.stack.env['boldsymbol'];\n    parser.stack.env['boldsymbol'] = true;\n    var mml = parser.ParseArg(name);\n    parser.stack.env['boldsymbol'] = boldsymbol;\n    parser.Push(mml);\n};\nnew SymbolMap_js_1.CommandMap('boldsymbol', { boldsymbol: 'Boldsymbol' }, exports.BoldsymbolMethods);\nfunction createBoldToken(factory, kind, def, text) {\n    var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);\n    if (kind !== 'mtext' &&\n        factory.configuration.parser.stack.env['boldsymbol']) {\n        NodeUtil_js_1.default.setProperty(token, 'fixBold', true);\n        factory.configuration.addNode('fixBold', token);\n    }\n    return token;\n}\nexports.createBoldToken = createBoldToken;\nfunction rewriteBoldTokens(arg) {\n    var e_1, _a;\n    try {\n        for (var _b = __values(arg.data.getList('fixBold')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var node = _c.value;\n            if (NodeUtil_js_1.default.getProperty(node, 'fixBold')) {\n                var variant = NodeUtil_js_1.default.getAttribute(node, 'mathvariant');\n                if (variant == null) {\n                    NodeUtil_js_1.default.setAttribute(node, 'mathvariant', TexConstants_js_1.TexConstant.Variant.BOLD);\n                }\n                else {\n                    NodeUtil_js_1.default.setAttribute(node, 'mathvariant', BOLDVARIANT[variant] || variant);\n                }\n                NodeUtil_js_1.default.removeProperties(node, 'fixBold');\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.rewriteBoldTokens = rewriteBoldTokens;\nexports.BoldsymbolConfiguration = Configuration_js_1.Configuration.create('boldsymbol', {\n    handler: { macro: ['boldsymbol'] },\n    nodes: { 'token': createBoldToken },\n    postprocessors: [rewriteBoldTokens]\n});\n//# sourceMappingURL=BoldsymbolConfiguration.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BraketConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar BraketItems_js_1 = require(\"./BraketItems.js\");\nrequire(\"./BraketMappings.js\");\nexports.BraketConfiguration = Configuration_js_1.Configuration.create('braket', {\n    handler: {\n        character: ['Braket-characters'],\n        macro: ['Braket-macros']\n    },\n    items: (_a = {},\n        _a[BraketItems_js_1.BraketItem.prototype.kind] = BraketItems_js_1.BraketItem,\n        _a)\n});\n//# sourceMappingURL=BraketConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BraketItem = void 0;\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar BraketItem = (function (_super) {\n    __extends(BraketItem, _super);\n    function BraketItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BraketItem.prototype, \"kind\", {\n        get: function () {\n            return 'braket';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BraketItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BraketItem.prototype.checkItem = function (item) {\n        if (item.isKind('close')) {\n            return [[this.factory.create('mml', this.toMml())], true];\n        }\n        if (item.isKind('mml')) {\n            this.Push(item.toMml());\n            if (this.getProperty('single')) {\n                return [[this.toMml()], true];\n            }\n            return StackItem_js_1.BaseItem.fail;\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    BraketItem.prototype.toMml = function () {\n        var inner = _super.prototype.toMml.call(this);\n        var open = this.getProperty('open');\n        var close = this.getProperty('close');\n        if (this.getProperty('stretchy')) {\n            return ParseUtil_js_1.default.fenced(this.factory.configuration, open, inner, close);\n        }\n        var attrs = { fence: true, stretchy: false, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.OPEN };\n        var openNode = this.create('token', 'mo', attrs, open);\n        attrs.texClass = MmlNode_js_1.TEXCLASS.CLOSE;\n        var closeNode = this.create('token', 'mo', attrs, close);\n        var mrow = this.create('node', 'mrow', [openNode, inner, closeNode], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.INNER });\n        return mrow;\n    };\n    return BraketItem;\n}(StackItem_js_1.BaseItem));\nexports.BraketItem = BraketItem;\n//# sourceMappingURL=BraketItems.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar BraketMethods_js_1 = __importDefault(require(\"./BraketMethods.js\"));\nnew SymbolMap_js_1.CommandMap('Braket-macros', {\n    bra: ['Macro', '{\\\\langle {#1} \\\\vert}', 1],\n    ket: ['Macro', '{\\\\vert {#1} \\\\rangle}', 1],\n    braket: ['Braket', '\\u27E8', '\\u27E9', false, Infinity],\n    'set': ['Braket', '{', '}', false, 1],\n    Bra: ['Macro', '{\\\\left\\\\langle {#1} \\\\right\\\\vert}', 1],\n    Ket: ['Macro', '{\\\\left\\\\vert {#1} \\\\right\\\\rangle}', 1],\n    Braket: ['Braket', '\\u27E8', '\\u27E9', true, Infinity],\n    Set: ['Braket', '{', '}', true, 1],\n    ketbra: ['Macro', '{\\\\vert {#1} \\\\rangle\\\\langle {#2} \\\\vert}', 2],\n    Ketbra: ['Macro', '{\\\\left\\\\vert {#1} \\\\right\\\\rangle\\\\left\\\\langle {#2} \\\\right\\\\vert}', 2],\n    '|': 'Bar'\n}, BraketMethods_js_1.default);\nnew SymbolMap_js_1.MacroMap('Braket-characters', {\n    '|': 'Bar'\n}, BraketMethods_js_1.default);\n//# sourceMappingURL=BraketMappings.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar BraketMethods = {};\nBraketMethods.Macro = BaseMethods_js_1.default.Macro;\nBraketMethods.Braket = function (parser, _name, open, close, stretchy, barmax) {\n    var next = parser.GetNext();\n    if (next === '') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    var single = true;\n    if (next === '{') {\n        parser.i++;\n        single = false;\n    }\n    parser.Push(parser.itemFactory.create('braket')\n        .setProperties({ barmax: barmax, barcount: 0, open: open,\n        close: close, stretchy: stretchy, single: single }));\n};\nBraketMethods.Bar = function (parser, name) {\n    var c = name === '|' ? '|' : '\\u2225';\n    var top = parser.stack.Top();\n    if (top.kind !== 'braket' ||\n        top.getProperty('barcount') >= top.getProperty('barmax')) {\n        var mml = parser.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.ORD, stretchy: false }, c);\n        parser.Push(mml);\n        return;\n    }\n    if (c === '|' && parser.GetNext() === '|') {\n        parser.i++;\n        c = '\\u2225';\n    }\n    var stretchy = top.getProperty('stretchy');\n    if (!stretchy) {\n        var node_1 = parser.create('token', 'mo', { stretchy: false, braketbar: true }, c);\n        parser.Push(node_1);\n        return;\n    }\n    var node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.CLOSE });\n    parser.Push(node);\n    top.setProperty('barcount', top.getProperty('barcount') + 1);\n    node = parser.create('token', 'mo', { stretchy: true, braketbar: true }, c);\n    parser.Push(node);\n    node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OPEN });\n    parser.Push(node);\n};\nexports.default = BraketMethods;\n//# sourceMappingURL=BraketMethods.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BussproofsConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar BussproofsItems_js_1 = require(\"./BussproofsItems.js\");\nvar BussproofsUtil_js_1 = require(\"./BussproofsUtil.js\");\nrequire(\"./BussproofsMappings.js\");\nexports.BussproofsConfiguration = Configuration_js_1.Configuration.create('bussproofs', {\n    handler: {\n        macro: ['Bussproofs-macros'],\n        environment: ['Bussproofs-environments']\n    },\n    items: (_a = {},\n        _a[BussproofsItems_js_1.ProofTreeItem.prototype.kind] = BussproofsItems_js_1.ProofTreeItem,\n        _a),\n    preprocessors: [\n        [BussproofsUtil_js_1.saveDocument, 1]\n    ],\n    postprocessors: [\n        [BussproofsUtil_js_1.clearDocument, 3],\n        [BussproofsUtil_js_1.makeBsprAttributes, 2],\n        [BussproofsUtil_js_1.balanceRules, 1]\n    ]\n});\n//# sourceMappingURL=BussproofsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProofTreeItem = void 0;\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar Stack_js_1 = __importDefault(require(\"../Stack.js\"));\nvar BussproofsUtil = __importStar(require(\"./BussproofsUtil.js\"));\nvar ProofTreeItem = (function (_super) {\n    __extends(ProofTreeItem, _super);\n    function ProofTreeItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.leftLabel = null;\n        _this.rigthLabel = null;\n        _this.innerStack = new Stack_js_1.default(_this.factory, {}, true);\n        return _this;\n    }\n    Object.defineProperty(ProofTreeItem.prototype, \"kind\", {\n        get: function () {\n            return 'proofTree';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ProofTreeItem.prototype.checkItem = function (item) {\n        if (item.isKind('end') && item.getName() === 'prooftree') {\n            var node = this.toMml();\n            BussproofsUtil.setProperty(node, 'proof', true);\n            return [[this.factory.create('mml', node), item], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        this.innerStack.Push(item);\n        return StackItem_js_1.BaseItem.fail;\n    };\n    ProofTreeItem.prototype.toMml = function () {\n        var tree = _super.prototype.toMml.call(this);\n        var start = this.innerStack.Top();\n        if (start.isKind('start') && !start.Size()) {\n            return tree;\n        }\n        this.innerStack.Push(this.factory.create('stop'));\n        var prefix = this.innerStack.Top().toMml();\n        return this.create('node', 'mrow', [prefix, tree], {});\n    };\n    return ProofTreeItem;\n}(StackItem_js_1.BaseItem));\nexports.ProofTreeItem = ProofTreeItem;\n//# sourceMappingURL=BussproofsItems.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BussproofsMethods_js_1 = __importDefault(require(\"./BussproofsMethods.js\"));\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nnew SymbolMap_js_1.CommandMap('Bussproofs-macros', {\n    AxiomC: 'Axiom',\n    UnaryInfC: ['Inference', 1],\n    BinaryInfC: ['Inference', 2],\n    TrinaryInfC: ['Inference', 3],\n    QuaternaryInfC: ['Inference', 4],\n    QuinaryInfC: ['Inference', 5],\n    RightLabel: ['Label', 'right'],\n    LeftLabel: ['Label', 'left'],\n    AXC: 'Axiom',\n    UIC: ['Inference', 1],\n    BIC: ['Inference', 2],\n    TIC: ['Inference', 3],\n    RL: ['Label', 'right'],\n    LL: ['Label', 'left'],\n    noLine: ['SetLine', 'none', false],\n    singleLine: ['SetLine', 'solid', false],\n    solidLine: ['SetLine', 'solid', false],\n    dashedLine: ['SetLine', 'dashed', false],\n    alwaysNoLine: ['SetLine', 'none', true],\n    alwaysSingleLine: ['SetLine', 'solid', true],\n    alwaysSolidLine: ['SetLine', 'solid', true],\n    alwaysDashedLine: ['SetLine', 'dashed', true],\n    rootAtTop: ['RootAtTop', true],\n    alwaysRootAtTop: ['RootAtTop', true],\n    rootAtBottom: ['RootAtTop', false],\n    alwaysRootAtBottom: ['RootAtTop', false],\n    fCenter: 'FCenter',\n    Axiom: 'AxiomF',\n    UnaryInf: ['InferenceF', 1],\n    BinaryInf: ['InferenceF', 2],\n    TrinaryInf: ['InferenceF', 3],\n    QuaternaryInf: ['InferenceF', 4],\n    QuinaryInf: ['InferenceF', 5]\n}, BussproofsMethods_js_1.default);\nnew SymbolMap_js_1.EnvironmentMap('Bussproofs-environments', ParseMethods_js_1.default.environment, {\n    prooftree: ['Prooftree', null, false]\n}, BussproofsMethods_js_1.default);\n//# sourceMappingURL=BussproofsMappings.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar BussproofsUtil = __importStar(require(\"./BussproofsUtil.js\"));\nvar BussproofsMethods = {};\nBussproofsMethods.Prooftree = function (parser, begin) {\n    parser.Push(begin);\n    var newItem = parser.itemFactory.create('proofTree').\n        setProperties({ name: begin.getName(),\n        line: 'solid', currentLine: 'solid', rootAtTop: false });\n    return newItem;\n};\nBussproofsMethods.Axiom = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = paddedContent(parser, parser.GetArgument(name));\n    BussproofsUtil.setProperty(content, 'axiom', true);\n    top.Push(content);\n};\nvar paddedContent = function (parser, content) {\n    var nodes = ParseUtil_js_1.default.internalMath(parser, ParseUtil_js_1.default.trimSpaces(content), 0);\n    if (!nodes[0].childNodes[0].childNodes.length) {\n        return parser.create('node', 'mrow', []);\n    }\n    var lpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    var rpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    return parser.create('node', 'mrow', __spreadArray(__spreadArray([lpad], __read(nodes), false), [rpad], false));\n};\nBussproofsMethods.Inference = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = paddedContent(parser, parser.GetArgument(name));\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nfunction createRule(parser, premise, conclusions, left, right, style, rootAtTop) {\n    var upper = parser.create('node', 'mtr', [parser.create('node', 'mtd', [premise], {})], {});\n    var lower = parser.create('node', 'mtr', [parser.create('node', 'mtd', conclusions, {})], {});\n    var rule = parser.create('node', 'mtable', rootAtTop ? [lower, upper] : [upper, lower], { align: 'top 2', rowlines: style, framespacing: '0 0' });\n    BussproofsUtil.setProperty(rule, 'inferenceRule', rootAtTop ? 'up' : 'down');\n    var leftLabel, rightLabel;\n    if (left) {\n        leftLabel = parser.create('node', 'mpadded', [left], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(leftLabel, 'prooflabel', 'left');\n    }\n    if (right) {\n        rightLabel = parser.create('node', 'mpadded', [right], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(rightLabel, 'prooflabel', 'right');\n    }\n    var children, label;\n    if (left && right) {\n        children = [leftLabel, rule, rightLabel];\n        label = 'both';\n    }\n    else if (left) {\n        children = [leftLabel, rule];\n        label = 'left';\n    }\n    else if (right) {\n        children = [rule, rightLabel];\n        label = 'right';\n    }\n    else {\n        return rule;\n    }\n    rule = parser.create('node', 'mrow', children);\n    BussproofsUtil.setProperty(rule, 'labelledRule', label);\n    return rule;\n}\nBussproofsMethods.Label = function (parser, name, side) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);\n    var label = (content.length > 1) ?\n        parser.create('node', 'mrow', content, {}) : content[0];\n    top.setProperty(side, label);\n};\nBussproofsMethods.SetLine = function (parser, _name, style, always) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('currentLine', style);\n    if (always) {\n        top.setProperty('line', style);\n    }\n};\nBussproofsMethods.RootAtTop = function (parser, _name, where) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('rootAtTop', where);\n};\nBussproofsMethods.AxiomF = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var line = parseFCenterLine(parser, name);\n    BussproofsUtil.setProperty(line, 'axiom', true);\n    top.Push(line);\n};\nfunction parseFCenterLine(parser, name) {\n    var dollar = parser.GetNext();\n    if (dollar !== '$') {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Use of %1 does not match it\\'s definition.', name);\n    }\n    parser.i++;\n    var axiom = parser.GetUpTo(name, '$');\n    if (axiom.indexOf('\\\\fCenter') === -1) {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Missing \\\\fCenter in %1.', name);\n    }\n    var _a = __read(axiom.split('\\\\fCenter'), 2), prem = _a[0], conc = _a[1];\n    var premise = (new TexParser_js_1.default(prem, parser.stack.env, parser.configuration)).mml();\n    var conclusion = (new TexParser_js_1.default(conc, parser.stack.env, parser.configuration)).mml();\n    var fcenter = (new TexParser_js_1.default('\\\\fCenter', parser.stack.env, parser.configuration)).mml();\n    var left = parser.create('node', 'mtd', [premise], {});\n    var middle = parser.create('node', 'mtd', [fcenter], {});\n    var right = parser.create('node', 'mtd', [conclusion], {});\n    var row = parser.create('node', 'mtr', [left, middle, right], {});\n    var table = parser.create('node', 'mtable', [row], { columnspacing: '.5ex', columnalign: 'center 2' });\n    BussproofsUtil.setProperty(table, 'sequent', true);\n    parser.configuration.addNode('sequent', row);\n    return table;\n}\nBussproofsMethods.FCenter = function (_parser, _name) { };\nBussproofsMethods.InferenceF = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = parseFCenterLine(parser, name);\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nexports.default = BussproofsMethods;\n//# sourceMappingURL=BussproofsMethods.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clearDocument = exports.saveDocument = exports.makeBsprAttributes = exports.removeProperty = exports.getProperty = exports.setProperty = exports.balanceRules = void 0;\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar doc = null;\nvar item = null;\nvar getBBox = function (node) {\n    item.root = node;\n    var width = doc.outputJax.getBBox(item, doc).w;\n    return width;\n};\nvar getRule = function (node) {\n    var i = 0;\n    while (node && !NodeUtil_js_1.default.isType(node, 'mtable')) {\n        if (NodeUtil_js_1.default.isType(node, 'text')) {\n            return null;\n        }\n        if (NodeUtil_js_1.default.isType(node, 'mrow')) {\n            node = node.childNodes[0];\n            i = 0;\n            continue;\n        }\n        node = node.parent.childNodes[i];\n        i++;\n    }\n    return node;\n};\nvar getPremises = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 1 : 0].childNodes[0].\n        childNodes[0].childNodes[0].childNodes[0];\n};\nvar getPremise = function (premises, n) {\n    return premises.childNodes[n].childNodes[0].childNodes[0];\n};\nvar firstPremise = function (premises) {\n    return getPremise(premises, 0);\n};\nvar lastPremise = function (premises) {\n    return getPremise(premises, premises.childNodes.length - 1);\n};\nvar getConclusion = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 0 : 1].childNodes[0].childNodes[0].childNodes[0];\n};\nvar getColumn = function (inf) {\n    while (inf && !NodeUtil_js_1.default.isType(inf, 'mtd')) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar nextSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) + 1];\n};\nvar previousSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) - 1];\n};\nvar getParentInf = function (inf) {\n    while (inf && (0, exports.getProperty)(inf, 'inference') == null) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar getSpaces = function (inf, rule, right) {\n    if (right === void 0) { right = false; }\n    var result = 0;\n    if (inf === rule) {\n        return result;\n    }\n    if (inf !== rule.parent) {\n        var children_1 = inf.childNodes;\n        var index_1 = right ? children_1.length - 1 : 0;\n        if (NodeUtil_js_1.default.isType(children_1[index_1], 'mspace')) {\n            result += getBBox(children_1[index_1]);\n        }\n        inf = rule.parent;\n    }\n    if (inf === rule) {\n        return result;\n    }\n    var children = inf.childNodes;\n    var index = right ? children.length - 1 : 0;\n    if (children[index] !== rule) {\n        result += getBBox(children[index]);\n    }\n    return result;\n};\nvar adjustValue = function (inf, right) {\n    if (right === void 0) { right = false; }\n    var rule = getRule(inf);\n    var conc = getConclusion(rule, (0, exports.getProperty)(rule, 'inferenceRule'));\n    var w = getSpaces(inf, rule, right);\n    var x = getBBox(rule);\n    var y = getBBox(conc);\n    return w + ((x - y) / 2);\n};\nvar addSpace = function (config, inf, space, right) {\n    if (right === void 0) { right = false; }\n    if ((0, exports.getProperty)(inf, 'inferenceRule') ||\n        (0, exports.getProperty)(inf, 'labelledRule')) {\n        var mrow = config.nodeFactory.create('node', 'mrow');\n        inf.parent.replaceChild(mrow, inf);\n        mrow.setChildren([inf]);\n        moveProperties(inf, mrow);\n        inf = mrow;\n    }\n    var index = right ? inf.childNodes.length - 1 : 0;\n    var mspace = inf.childNodes[index];\n    if (NodeUtil_js_1.default.isType(mspace, 'mspace')) {\n        NodeUtil_js_1.default.setAttribute(mspace, 'width', ParseUtil_js_1.default.Em(ParseUtil_js_1.default.dimen2em(NodeUtil_js_1.default.getAttribute(mspace, 'width')) + space));\n        return;\n    }\n    mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(space) });\n    if (right) {\n        inf.appendChild(mspace);\n        return;\n    }\n    mspace.parent = inf;\n    inf.childNodes.unshift(mspace);\n};\nvar moveProperties = function (src, dest) {\n    var props = ['inference', 'proof', 'maxAdjust', 'labelledRule'];\n    props.forEach(function (x) {\n        var value = (0, exports.getProperty)(src, x);\n        if (value != null) {\n            (0, exports.setProperty)(dest, x, value);\n            (0, exports.removeProperty)(src, x);\n        }\n    });\n};\nvar adjustSequents = function (config) {\n    var sequents = config.nodeLists['sequent'];\n    if (!sequents) {\n        return;\n    }\n    for (var i = sequents.length - 1, seq = void 0; seq = sequents[i]; i--) {\n        if ((0, exports.getProperty)(seq, 'sequentProcessed')) {\n            (0, exports.removeProperty)(seq, 'sequentProcessed');\n            continue;\n        }\n        var collect = [];\n        var inf = getParentInf(seq);\n        if ((0, exports.getProperty)(inf, 'inference') !== 1) {\n            continue;\n        }\n        collect.push(seq);\n        while ((0, exports.getProperty)(inf, 'inference') === 1) {\n            inf = getRule(inf);\n            var premise = firstPremise(getPremises(inf, (0, exports.getProperty)(inf, 'inferenceRule')));\n            var sequent = ((0, exports.getProperty)(premise, 'inferenceRule')) ?\n                getConclusion(premise, (0, exports.getProperty)(premise, 'inferenceRule')) :\n                premise;\n            if ((0, exports.getProperty)(sequent, 'sequent')) {\n                seq = sequent.childNodes[0];\n                collect.push(seq);\n                (0, exports.setProperty)(seq, 'sequentProcessed', true);\n            }\n            inf = premise;\n        }\n        adjustSequentPairwise(config, collect);\n    }\n};\nvar addSequentSpace = function (config, sequent, position, direction, width) {\n    var mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(width) });\n    if (direction === 'left') {\n        var row = sequent.childNodes[position].childNodes[0];\n        mspace.parent = row;\n        row.childNodes.unshift(mspace);\n    }\n    else {\n        sequent.childNodes[position].appendChild(mspace);\n    }\n    (0, exports.setProperty)(sequent.parent, 'sequentAdjust_' + direction, width);\n};\nvar adjustSequentPairwise = function (config, sequents) {\n    var top = sequents.pop();\n    while (sequents.length) {\n        var bottom = sequents.pop();\n        var _a = __read(compareSequents(top, bottom), 2), left = _a[0], right = _a[1];\n        if ((0, exports.getProperty)(top.parent, 'axiom')) {\n            addSequentSpace(config, left < 0 ? top : bottom, 0, 'left', Math.abs(left));\n            addSequentSpace(config, right < 0 ? top : bottom, 2, 'right', Math.abs(right));\n        }\n        top = bottom;\n    }\n};\nvar compareSequents = function (top, bottom) {\n    var tr = getBBox(top.childNodes[2]);\n    var br = getBBox(bottom.childNodes[2]);\n    var tl = getBBox(top.childNodes[0]);\n    var bl = getBBox(bottom.childNodes[0]);\n    var dl = tl - bl;\n    var dr = tr - br;\n    return [dl, dr];\n};\nvar balanceRules = function (arg) {\n    var e_1, _a;\n    item = new arg.document.options.MathItem('', null, arg.math.display);\n    var config = arg.data;\n    adjustSequents(config);\n    var inferences = config.nodeLists['inference'] || [];\n    try {\n        for (var inferences_1 = __values(inferences), inferences_1_1 = inferences_1.next(); !inferences_1_1.done; inferences_1_1 = inferences_1.next()) {\n            var inf = inferences_1_1.value;\n            var isProof = (0, exports.getProperty)(inf, 'proof');\n            var rule = getRule(inf);\n            var premises = getPremises(rule, (0, exports.getProperty)(rule, 'inferenceRule'));\n            var premiseF = firstPremise(premises);\n            if ((0, exports.getProperty)(premiseF, 'inference')) {\n                var adjust_1 = adjustValue(premiseF);\n                if (adjust_1) {\n                    addSpace(config, premiseF, -adjust_1);\n                    var w_1 = getSpaces(inf, rule, false);\n                    addSpace(config, inf, adjust_1 - w_1);\n                }\n            }\n            var premiseL = lastPremise(premises);\n            if ((0, exports.getProperty)(premiseL, 'inference') == null) {\n                continue;\n            }\n            var adjust = adjustValue(premiseL, true);\n            addSpace(config, premiseL, -adjust, true);\n            var w = getSpaces(inf, rule, true);\n            var maxAdjust = (0, exports.getProperty)(inf, 'maxAdjust');\n            if (maxAdjust != null) {\n                adjust = Math.max(adjust, maxAdjust);\n            }\n            var column = void 0;\n            if (isProof || !(column = getColumn(inf))) {\n                addSpace(config, (0, exports.getProperty)(inf, 'proof') ? inf : inf.parent, adjust - w, true);\n                continue;\n            }\n            var sibling = nextSibling(column);\n            if (sibling) {\n                var pos = config.nodeFactory.create('node', 'mspace', [], { width: adjust - w + 'em' });\n                sibling.appendChild(pos);\n                inf.removeProperty('maxAdjust');\n                continue;\n            }\n            var parentRule = getParentInf(column);\n            if (!parentRule) {\n                continue;\n            }\n            adjust = (0, exports.getProperty)(parentRule, 'maxAdjust') ?\n                Math.max((0, exports.getProperty)(parentRule, 'maxAdjust'), adjust) : adjust;\n            (0, exports.setProperty)(parentRule, 'maxAdjust', adjust);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (inferences_1_1 && !inferences_1_1.done && (_a = inferences_1.return)) _a.call(inferences_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nexports.balanceRules = balanceRules;\nvar property_prefix = 'bspr_';\nvar blacklistedProperties = (_a = {},\n    _a[property_prefix + 'maxAdjust'] = true,\n    _a);\nvar setProperty = function (node, property, value) {\n    NodeUtil_js_1.default.setProperty(node, property_prefix + property, value);\n};\nexports.setProperty = setProperty;\nvar getProperty = function (node, property) {\n    return NodeUtil_js_1.default.getProperty(node, property_prefix + property);\n};\nexports.getProperty = getProperty;\nvar removeProperty = function (node, property) {\n    node.removeProperty(property_prefix + property);\n};\nexports.removeProperty = removeProperty;\nvar makeBsprAttributes = function (arg) {\n    arg.data.root.walkTree(function (mml, _data) {\n        var attr = [];\n        mml.getPropertyNames().forEach(function (x) {\n            if (!blacklistedProperties[x] && x.match(RegExp('^' + property_prefix))) {\n                attr.push(x + ':' + mml.getProperty(x));\n            }\n        });\n        if (attr.length) {\n            NodeUtil_js_1.default.setAttribute(mml, 'semantics', attr.join(';'));\n        }\n    });\n};\nexports.makeBsprAttributes = makeBsprAttributes;\nvar saveDocument = function (arg) {\n    doc = arg.document;\n    if (!('getBBox' in doc.outputJax)) {\n        throw Error('The bussproofs extension requires an output jax with a getBBox() method');\n    }\n};\nexports.saveDocument = saveDocument;\nvar clearDocument = function (_arg) {\n    doc = null;\n};\nexports.clearDocument = clearDocument;\n//# sourceMappingURL=BussproofsUtil.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancelConfiguration = exports.CancelMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar EncloseConfiguration_js_1 = require(\"../enclose/EncloseConfiguration.js\");\nexports.CancelMethods = {};\nexports.CancelMethods.Cancel = function (parser, name, notation) {\n    var attr = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);\n    def['notation'] = notation;\n    parser.Push(parser.create('node', 'menclose', [math], def));\n};\nexports.CancelMethods.CancelTo = function (parser, name) {\n    var attr = parser.GetBrackets(name, '');\n    var value = parser.ParseArg(name);\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);\n    def['notation'] = [TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE,\n        TexConstants_js_1.TexConstant.Notation.UPDIAGONALARROW,\n        TexConstants_js_1.TexConstant.Notation.NORTHEASTARROW].join(' ');\n    value = parser.create('node', 'mpadded', [value], { depth: '-.1em', height: '+.1em', voffset: '.1em' });\n    parser.Push(parser.create('node', 'msup', [parser.create('node', 'menclose', [math], def), value]));\n};\nnew SymbolMap_js_1.CommandMap('cancel', {\n    cancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE],\n    bcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],\n    xcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE + ' ' +\n            TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],\n    cancelto: 'CancelTo'\n}, exports.CancelMethods);\nexports.CancelConfiguration = Configuration_js_1.Configuration.create('cancel', { handler: { macro: ['cancel'] } });\n//# sourceMappingURL=CancelConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CasesConfiguration = exports.CasesMethods = exports.CasesTags = exports.CasesBeginItem = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar AmsConfiguration_js_1 = require(\"../ams/AmsConfiguration.js\");\nvar EmpheqUtil_js_1 = require(\"../empheq/EmpheqUtil.js\");\nvar CasesBeginItem = (function (_super) {\n    __extends(CasesBeginItem, _super);\n    function CasesBeginItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CasesBeginItem.prototype, \"kind\", {\n        get: function () {\n            return 'cases-begin';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CasesBeginItem.prototype.checkItem = function (item) {\n        if (item.isKind('end') && item.getName() === this.getName()) {\n            if (this.getProperty('end')) {\n                this.setProperty('end', false);\n                return [[], true];\n            }\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return CasesBeginItem;\n}(BaseItems_js_1.BeginItem));\nexports.CasesBeginItem = CasesBeginItem;\nvar CasesTags = (function (_super) {\n    __extends(CasesTags, _super);\n    function CasesTags() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subcounter = 0;\n        return _this;\n    }\n    CasesTags.prototype.start = function (env, taggable, defaultTags) {\n        this.subcounter = 0;\n        _super.prototype.start.call(this, env, taggable, defaultTags);\n    };\n    CasesTags.prototype.autoTag = function () {\n        if (this.currentTag.tag != null)\n            return;\n        if (this.currentTag.env === 'subnumcases') {\n            if (this.subcounter === 0)\n                this.counter++;\n            this.subcounter++;\n            this.tag(this.formatNumber(this.counter, this.subcounter), false);\n        }\n        else {\n            if (this.subcounter === 0 || this.currentTag.env !== 'numcases-left')\n                this.counter++;\n            this.tag(this.formatNumber(this.counter), false);\n        }\n    };\n    CasesTags.prototype.formatNumber = function (n, m) {\n        if (m === void 0) { m = null; }\n        return n.toString() + (m === null ? '' : String.fromCharCode(0x60 + m));\n    };\n    return CasesTags;\n}(AmsConfiguration_js_1.AmsTags));\nexports.CasesTags = CasesTags;\nexports.CasesMethods = {\n    NumCases: function (parser, begin) {\n        if (parser.stack.env.closing === begin.getName()) {\n            delete parser.stack.env.closing;\n            parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName()));\n            var cases = parser.stack.Top();\n            var table = cases.Last;\n            var original = ParseUtil_js_1.default.copyNode(table, parser);\n            var left = cases.getProperty('left');\n            EmpheqUtil_js_1.EmpheqUtil.left(table, original, left + '\\\\empheqlbrace\\\\,', parser, 'numcases-left');\n            parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName()));\n            return null;\n        }\n        else {\n            var left = parser.GetArgument('\\\\begin{' + begin.getName() + '}');\n            begin.setProperty('left', left);\n            var array = BaseMethods_js_1.default.EqnArray(parser, begin, true, true, 'll');\n            array.arraydef.displaystyle = false;\n            array.arraydef.rowspacing = '.2em';\n            array.setProperty('numCases', true);\n            parser.Push(begin);\n            return array;\n        }\n    },\n    Entry: function (parser, name) {\n        if (!parser.stack.Top().getProperty('numCases')) {\n            return BaseMethods_js_1.default.Entry(parser, name);\n        }\n        parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));\n        var tex = parser.string;\n        var braces = 0, i = parser.i, m = tex.length;\n        while (i < m) {\n            var c = tex.charAt(i);\n            if (c === '{') {\n                braces++;\n                i++;\n            }\n            else if (c === '}') {\n                if (braces === 0) {\n                    break;\n                }\n                else {\n                    braces--;\n                    i++;\n                }\n            }\n            else if (c === '&' && braces === 0) {\n                throw new TexError_js_1.default('ExtraCasesAlignTab', 'Extra alignment tab in text for numcase environment');\n            }\n            else if (c === '\\\\' && braces === 0) {\n                var cs = (tex.slice(i + 1).match(/^[a-z]+|./i) || [])[0];\n                if (cs === '\\\\' || cs === 'cr' || cs === 'end' || cs === 'label') {\n                    break;\n                }\n                else {\n                    i += cs.length;\n                }\n            }\n            else {\n                i++;\n            }\n        }\n        var text = tex.substr(parser.i, i - parser.i).replace(/^\\s*/, '');\n        parser.PushAll(ParseUtil_js_1.default.internalMath(parser, text, 0));\n        parser.i = i;\n    }\n};\nnew SymbolMap_js_1.EnvironmentMap('cases-env', EmpheqUtil_js_1.EmpheqUtil.environment, {\n    numcases: ['NumCases', 'cases'],\n    subnumcases: ['NumCases', 'cases']\n}, exports.CasesMethods);\nnew SymbolMap_js_1.MacroMap('cases-macros', {\n    '&': 'Entry'\n}, exports.CasesMethods);\nexports.CasesConfiguration = Configuration_js_1.Configuration.create('cases', {\n    handler: {\n        environment: ['cases-env'],\n        character: ['cases-macros']\n    },\n    items: (_a = {},\n        _a[CasesBeginItem.prototype.kind] = CasesBeginItem,\n        _a),\n    tags: { 'cases': CasesTags }\n});\n//# sourceMappingURL=CasesConfiguration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CenternotConfiguration = exports.filterCenterOver = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nnew SymbolMap_js_1.CommandMap('centernot', {\n    centerOver: 'CenterOver',\n    centernot: ['Macro', '\\\\centerOver{#1}{{\\u29F8}}', 1]\n}, {\n    CenterOver: function (parser, name) {\n        var arg = '{' + parser.GetArgument(name) + '}';\n        var over = parser.ParseArg(name);\n        var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n        var mml = parser.create('node', 'TeXAtom', [\n            new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml(),\n            parser.create('node', 'mpadded', [\n                parser.create('node', 'mpadded', [over], { width: 0, lspace: '-.5width' }),\n                parser.create('node', 'mphantom', [base])\n            ], { width: 0, lspace: '-.5width' })\n        ]);\n        parser.configuration.addNode('centerOver', base);\n        parser.Push(mml);\n    },\n    Macro: BaseMethods_js_1.default.Macro\n});\nfunction filterCenterOver(_a) {\n    var e_1, _b;\n    var data = _a.data;\n    try {\n        for (var _c = __values(data.getList('centerOver')), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var base = _d.value;\n            var texClass = NodeUtil_js_1.default.getTexClass(base.childNodes[0].childNodes[0]);\n            if (texClass !== null) {\n                NodeUtil_js_1.default.setProperties(base.parent.parent.parent.parent.parent.parent, { texClass: texClass });\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.filterCenterOver = filterCenterOver;\nexports.CenternotConfiguration = Configuration_js_1.Configuration.create('centernot', {\n    handler: { macro: ['centernot'] },\n    postprocessors: [filterCenterOver]\n});\n//# sourceMappingURL=CenternotConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorConfiguration = void 0;\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar ColorMethods_js_1 = require(\"./ColorMethods.js\");\nvar ColorUtil_js_1 = require(\"./ColorUtil.js\");\nnew SymbolMap_js_1.CommandMap('color', {\n    color: 'Color',\n    textcolor: 'TextColor',\n    definecolor: 'DefineColor',\n    colorbox: 'ColorBox',\n    fcolorbox: 'FColorBox'\n}, ColorMethods_js_1.ColorMethods);\nvar config = function (_config, jax) {\n    jax.parseOptions.packageData.set('color', { model: new ColorUtil_js_1.ColorModel() });\n};\nexports.ColorConfiguration = Configuration_js_1.Configuration.create('color', {\n    handler: {\n        macro: ['color'],\n    },\n    options: {\n        color: {\n            padding: '5px',\n            borderWidth: '2px'\n        }\n    },\n    config: config\n});\n//# sourceMappingURL=ColorConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.COLORS = void 0;\nexports.COLORS = new Map([\n    ['Apricot', '#FBB982'],\n    ['Aquamarine', '#00B5BE'],\n    ['Bittersweet', '#C04F17'],\n    ['Black', '#221E1F'],\n    ['Blue', '#2D2F92'],\n    ['BlueGreen', '#00B3B8'],\n    ['BlueViolet', '#473992'],\n    ['BrickRed', '#B6321C'],\n    ['Brown', '#792500'],\n    ['BurntOrange', '#F7921D'],\n    ['CadetBlue', '#74729A'],\n    ['CarnationPink', '#F282B4'],\n    ['Cerulean', '#00A2E3'],\n    ['CornflowerBlue', '#41B0E4'],\n    ['Cyan', '#00AEEF'],\n    ['Dandelion', '#FDBC42'],\n    ['DarkOrchid', '#A4538A'],\n    ['Emerald', '#00A99D'],\n    ['ForestGreen', '#009B55'],\n    ['Fuchsia', '#8C368C'],\n    ['Goldenrod', '#FFDF42'],\n    ['Gray', '#949698'],\n    ['Green', '#00A64F'],\n    ['GreenYellow', '#DFE674'],\n    ['JungleGreen', '#00A99A'],\n    ['Lavender', '#F49EC4'],\n    ['LimeGreen', '#8DC73E'],\n    ['Magenta', '#EC008C'],\n    ['Mahogany', '#A9341F'],\n    ['Maroon', '#AF3235'],\n    ['Melon', '#F89E7B'],\n    ['MidnightBlue', '#006795'],\n    ['Mulberry', '#A93C93'],\n    ['NavyBlue', '#006EB8'],\n    ['OliveGreen', '#3C8031'],\n    ['Orange', '#F58137'],\n    ['OrangeRed', '#ED135A'],\n    ['Orchid', '#AF72B0'],\n    ['Peach', '#F7965A'],\n    ['Periwinkle', '#7977B8'],\n    ['PineGreen', '#008B72'],\n    ['Plum', '#92268F'],\n    ['ProcessBlue', '#00B0F0'],\n    ['Purple', '#99479B'],\n    ['RawSienna', '#974006'],\n    ['Red', '#ED1B23'],\n    ['RedOrange', '#F26035'],\n    ['RedViolet', '#A1246B'],\n    ['Rhodamine', '#EF559F'],\n    ['RoyalBlue', '#0071BC'],\n    ['RoyalPurple', '#613F99'],\n    ['RubineRed', '#ED017D'],\n    ['Salmon', '#F69289'],\n    ['SeaGreen', '#3FBC9D'],\n    ['Sepia', '#671800'],\n    ['SkyBlue', '#46C5DD'],\n    ['SpringGreen', '#C6DC67'],\n    ['Tan', '#DA9D76'],\n    ['TealBlue', '#00AEB3'],\n    ['Thistle', '#D883B7'],\n    ['Turquoise', '#00B4CE'],\n    ['Violet', '#58429B'],\n    ['VioletRed', '#EF58A0'],\n    ['White', '#FFFFFF'],\n    ['WildStrawberry', '#EE2967'],\n    ['Yellow', '#FFF200'],\n    ['YellowGreen', '#98CC70'],\n    ['YellowOrange', '#FAA21A'],\n]);\n//# sourceMappingURL=ColorConstants.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorMethods = void 0;\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nfunction padding(colorPadding) {\n    var pad = \"+\".concat(colorPadding);\n    var unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');\n    var pad2 = 2 * parseFloat(pad);\n    return {\n        width: \"+\".concat(pad2).concat(unit),\n        height: pad,\n        depth: pad,\n        lspace: colorPadding,\n    };\n}\nexports.ColorMethods = {};\nexports.ColorMethods.Color = function (parser, name) {\n    var model = parser.GetBrackets(name, '');\n    var colorDef = parser.GetArgument(name);\n    var colorModel = parser.configuration.packageData.get('color').model;\n    var color = colorModel.getColor(model, colorDef);\n    var style = parser.itemFactory.create('style')\n        .setProperties({ styles: { mathcolor: color } });\n    parser.stack.env['color'] = color;\n    parser.Push(style);\n};\nexports.ColorMethods.TextColor = function (parser, name) {\n    var model = parser.GetBrackets(name, '');\n    var colorDef = parser.GetArgument(name);\n    var colorModel = parser.configuration.packageData.get('color').model;\n    var color = colorModel.getColor(model, colorDef);\n    var old = parser.stack.env['color'];\n    parser.stack.env['color'] = color;\n    var math = parser.ParseArg(name);\n    if (old) {\n        parser.stack.env['color'] = old;\n    }\n    else {\n        delete parser.stack.env['color'];\n    }\n    var node = parser.create('node', 'mstyle', [math], { mathcolor: color });\n    parser.Push(node);\n};\nexports.ColorMethods.DefineColor = function (parser, name) {\n    var cname = parser.GetArgument(name);\n    var model = parser.GetArgument(name);\n    var def = parser.GetArgument(name);\n    var colorModel = parser.configuration.packageData.get('color').model;\n    colorModel.defineColor(model, cname, def);\n};\nexports.ColorMethods.ColorBox = function (parser, name) {\n    var cname = parser.GetArgument(name);\n    var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var colorModel = parser.configuration.packageData.get('color').model;\n    var node = parser.create('node', 'mpadded', math, {\n        mathbackground: colorModel.getColor('named', cname)\n    });\n    NodeUtil_js_1.default.setProperties(node, padding(parser.options.color.padding));\n    parser.Push(node);\n};\nexports.ColorMethods.FColorBox = function (parser, name) {\n    var fname = parser.GetArgument(name);\n    var cname = parser.GetArgument(name);\n    var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var options = parser.options.color;\n    var colorModel = parser.configuration.packageData.get('color').model;\n    var node = parser.create('node', 'mpadded', math, {\n        mathbackground: colorModel.getColor('named', cname),\n        style: \"border: \".concat(options.borderWidth, \" solid \").concat(colorModel.getColor('named', fname))\n    });\n    NodeUtil_js_1.default.setProperties(node, padding(options.padding));\n    parser.Push(node);\n};\n//# sourceMappingURL=ColorMethods.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorModel = void 0;\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar ColorConstants_js_1 = require(\"./ColorConstants.js\");\nvar ColorModelProcessors = new Map();\nvar ColorModel = (function () {\n    function ColorModel() {\n        this.userColors = new Map();\n    }\n    ColorModel.prototype.normalizeColor = function (model, def) {\n        if (!model || model === 'named') {\n            return def;\n        }\n        if (ColorModelProcessors.has(model)) {\n            var modelProcessor = ColorModelProcessors.get(model);\n            return modelProcessor(def);\n        }\n        throw new TexError_js_1.default('UndefinedColorModel', 'Color model \\'%1\\' not defined', model);\n    };\n    ColorModel.prototype.getColor = function (model, def) {\n        if (!model || model === 'named') {\n            return this.getColorByName(def);\n        }\n        return this.normalizeColor(model, def);\n    };\n    ColorModel.prototype.getColorByName = function (name) {\n        if (this.userColors.has(name)) {\n            return this.userColors.get(name);\n        }\n        if (ColorConstants_js_1.COLORS.has(name)) {\n            return ColorConstants_js_1.COLORS.get(name);\n        }\n        return name;\n    };\n    ColorModel.prototype.defineColor = function (model, name, def) {\n        var normalized = this.normalizeColor(model, def);\n        this.userColors.set(name, normalized);\n    };\n    return ColorModel;\n}());\nexports.ColorModel = ColorModel;\nColorModelProcessors.set('rgb', function (rgb) {\n    var e_1, _a;\n    var rgbParts = rgb.trim().split(/\\s*,\\s*/);\n    var RGB = '#';\n    if (rgbParts.length !== 3) {\n        throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'rgb');\n    }\n    try {\n        for (var rgbParts_1 = __values(rgbParts), rgbParts_1_1 = rgbParts_1.next(); !rgbParts_1_1.done; rgbParts_1_1 = rgbParts_1.next()) {\n            var rgbPart = rgbParts_1_1.value;\n            if (!rgbPart.match(/^(\\d+(\\.\\d*)?|\\.\\d+)$/)) {\n                throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');\n            }\n            var n = parseFloat(rgbPart);\n            if (n < 0 || n > 1) {\n                throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'rgb', '0', '1');\n            }\n            var pn = Math.floor(n * 255).toString(16);\n            if (pn.length < 2) {\n                pn = '0' + pn;\n            }\n            RGB += pn;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (rgbParts_1_1 && !rgbParts_1_1.done && (_a = rgbParts_1.return)) _a.call(rgbParts_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return RGB;\n});\nColorModelProcessors.set('RGB', function (rgb) {\n    var e_2, _a;\n    var rgbParts = rgb.trim().split(/\\s*,\\s*/);\n    var RGB = '#';\n    if (rgbParts.length !== 3) {\n        throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'RGB');\n    }\n    try {\n        for (var rgbParts_2 = __values(rgbParts), rgbParts_2_1 = rgbParts_2.next(); !rgbParts_2_1.done; rgbParts_2_1 = rgbParts_2.next()) {\n            var rgbPart = rgbParts_2_1.value;\n            if (!rgbPart.match(/^\\d+$/)) {\n                throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n            }\n            var n = parseInt(rgbPart);\n            if (n > 255) {\n                throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'RGB', '0', '255');\n            }\n            var pn = n.toString(16);\n            if (pn.length < 2) {\n                pn = '0' + pn;\n            }\n            RGB += pn;\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (rgbParts_2_1 && !rgbParts_2_1.done && (_a = rgbParts_2.return)) _a.call(rgbParts_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return RGB;\n});\nColorModelProcessors.set('gray', function (gray) {\n    if (!gray.match(/^\\s*(\\d+(\\.\\d*)?|\\.\\d+)\\s*$/)) {\n        throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');\n    }\n    var n = parseFloat(gray);\n    if (n < 0 || n > 1) {\n        throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'gray', '0', '1');\n    }\n    var pn = Math.floor(n * 255).toString(16);\n    if (pn.length < 2) {\n        pn = '0' + pn;\n    }\n    return \"#\".concat(pn).concat(pn).concat(pn);\n});\n//# sourceMappingURL=ColorUtil.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColortblConfiguration = exports.ColorArrayItem = void 0;\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar ColorArrayItem = (function (_super) {\n    __extends(ColorArrayItem, _super);\n    function ColorArrayItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.color = {\n            cell: '',\n            row: '',\n            col: []\n        };\n        _this.hasColor = false;\n        return _this;\n    }\n    ColorArrayItem.prototype.EndEntry = function () {\n        _super.prototype.EndEntry.call(this);\n        var cell = this.row[this.row.length - 1];\n        var color = this.color.cell || this.color.row || this.color.col[this.row.length - 1];\n        if (color) {\n            cell.attributes.set('mathbackground', color);\n            this.color.cell = '';\n            this.hasColor = true;\n        }\n    };\n    ColorArrayItem.prototype.EndRow = function () {\n        _super.prototype.EndRow.call(this);\n        this.color.row = '';\n    };\n    ColorArrayItem.prototype.createMml = function () {\n        var mml = _super.prototype.createMml.call(this);\n        var table = (mml.isKind('mrow') ? mml.childNodes[1] : mml);\n        if (table.isKind('menclose')) {\n            table = table.childNodes[0].childNodes[0];\n        }\n        if (this.hasColor && table.attributes.get('frame') === 'none') {\n            table.attributes.set('frame', '');\n        }\n        return mml;\n    };\n    return ColorArrayItem;\n}(BaseItems_js_1.ArrayItem));\nexports.ColorArrayItem = ColorArrayItem;\nnew SymbolMap_js_1.CommandMap('colortbl', {\n    cellcolor: ['TableColor', 'cell'],\n    rowcolor: ['TableColor', 'row'],\n    columncolor: ['TableColor', 'col']\n}, {\n    TableColor: function (parser, name, type) {\n        var lookup = parser.configuration.packageData.get('color').model;\n        var model = parser.GetBrackets(name, '');\n        var color = lookup.getColor(model, parser.GetArgument(name));\n        var top = parser.stack.Top();\n        if (!(top instanceof ColorArrayItem)) {\n            throw new TexError_js_1.default('UnsupportedTableColor', 'Unsupported use of %1', parser.currentCS);\n        }\n        if (type === 'col') {\n            if (top.table.length) {\n                throw new TexError_js_1.default('ColumnColorNotTop', '%1 must be in the top row', name);\n            }\n            top.color.col[top.row.length] = color;\n            if (parser.GetBrackets(name, '')) {\n                parser.GetBrackets(name, '');\n            }\n        }\n        else {\n            top.color[type] = color;\n            if (type === 'row' && (top.Size() || top.row.length)) {\n                throw new TexError_js_1.default('RowColorNotFirst', '%1 must be at the beginning of a row', name);\n            }\n        }\n    }\n});\nvar config = function (config, jax) {\n    if (!jax.parseOptions.packageData.has('color')) {\n        Configuration_js_1.ConfigurationHandler.get('color').config(config, jax);\n    }\n};\nexports.ColortblConfiguration = Configuration_js_1.Configuration.create('colortbl', {\n    handler: { macro: ['colortbl'] },\n    items: { 'array': ColorArrayItem },\n    priority: 10,\n    config: [config, 10]\n});\n//# sourceMappingURL=ColortblConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorConfiguration = exports.ColorV2Methods = void 0;\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Configuration_js_1 = require(\"../Configuration.js\");\nexports.ColorV2Methods = {\n    Color: function (parser, name) {\n        var color = parser.GetArgument(name);\n        var old = parser.stack.env['color'];\n        parser.stack.env['color'] = color;\n        var math = parser.ParseArg(name);\n        if (old) {\n            parser.stack.env['color'] = old;\n        }\n        else {\n            delete parser.stack.env['color'];\n        }\n        var node = parser.create('node', 'mstyle', [math], { mathcolor: color });\n        parser.Push(node);\n    }\n};\nnew SymbolMap_js_1.CommandMap('colorv2', { color: 'Color' }, exports.ColorV2Methods);\nexports.ColorConfiguration = Configuration_js_1.Configuration.create('colorv2', { handler: { macro: ['colorv2'] } });\n//# sourceMappingURL=ColorV2Configuration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigMacrosConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar NewcommandMethods_js_1 = __importDefault(require(\"../newcommand/NewcommandMethods.js\"));\nvar NewcommandItems_js_1 = require(\"../newcommand/NewcommandItems.js\");\nvar MACROSMAP = 'configmacros-map';\nvar ENVIRONMENTMAP = 'configmacros-env-map';\nfunction configmacrosInit(config) {\n    new SymbolMap_js_1.CommandMap(MACROSMAP, {}, {});\n    new SymbolMap_js_1.EnvironmentMap(ENVIRONMENTMAP, ParseMethods_js_1.default.environment, {}, {});\n    config.append(Configuration_js_1.Configuration.local({\n        handler: {\n            macro: [MACROSMAP],\n            environment: [ENVIRONMENTMAP]\n        },\n        priority: 3\n    }));\n}\nfunction configmacrosConfig(_config, jax) {\n    configMacros(jax);\n    configEnvironments(jax);\n}\nfunction configMacros(jax) {\n    var e_1, _a;\n    var handler = jax.parseOptions.handlers.retrieve(MACROSMAP);\n    var macros = jax.parseOptions.options.macros;\n    try {\n        for (var _b = __values(Object.keys(macros)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var cs = _c.value;\n            var def = (typeof macros[cs] === 'string' ? [macros[cs]] : macros[cs]);\n            var macro = Array.isArray(def[2]) ?\n                new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.MacroWithTemplate, def.slice(0, 2).concat(def[2])) :\n                new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.Macro, def);\n            handler.add(cs, macro);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nfunction configEnvironments(jax) {\n    var e_2, _a;\n    var handler = jax.parseOptions.handlers.retrieve(ENVIRONMENTMAP);\n    var environments = jax.parseOptions.options.environments;\n    try {\n        for (var _b = __values(Object.keys(environments)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var env = _c.value;\n            handler.add(env, new Symbol_js_1.Macro(env, NewcommandMethods_js_1.default.BeginEnv, [true].concat(environments[env])));\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\nexports.ConfigMacrosConfiguration = Configuration_js_1.Configuration.create('configmacros', {\n    init: configmacrosInit,\n    config: configmacrosConfig,\n    items: (_a = {},\n        _a[NewcommandItems_js_1.BeginEnvItem.prototype.kind] = NewcommandItems_js_1.BeginEnvItem,\n        _a),\n    options: {\n        macros: (0, Options_js_1.expandable)({}),\n        environments: (0, Options_js_1.expandable)({})\n    }\n});\n//# sourceMappingURL=ConfigMacrosConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmpheqConfiguration = exports.EmpheqMethods = exports.EmpheqBeginItem = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar EmpheqUtil_js_1 = require(\"./EmpheqUtil.js\");\nvar EmpheqBeginItem = (function (_super) {\n    __extends(EmpheqBeginItem, _super);\n    function EmpheqBeginItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(EmpheqBeginItem.prototype, \"kind\", {\n        get: function () {\n            return 'empheq-begin';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EmpheqBeginItem.prototype.checkItem = function (item) {\n        if (item.isKind('end') && item.getName() === this.getName()) {\n            this.setProperty('end', false);\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return EmpheqBeginItem;\n}(BaseItems_js_1.BeginItem));\nexports.EmpheqBeginItem = EmpheqBeginItem;\nexports.EmpheqMethods = {\n    Empheq: function (parser, begin) {\n        if (parser.stack.env.closing === begin.getName()) {\n            delete parser.stack.env.closing;\n            parser.Push(parser.itemFactory.create('end').setProperty('name', parser.stack.global.empheq));\n            parser.stack.global.empheq = '';\n            var empheq = parser.stack.Top();\n            EmpheqUtil_js_1.EmpheqUtil.adjustTable(empheq, parser);\n            parser.Push(parser.itemFactory.create('end').setProperty('name', 'empheq'));\n        }\n        else {\n            ParseUtil_js_1.default.checkEqnEnv(parser);\n            delete parser.stack.global.eqnenv;\n            var opts = parser.GetBrackets('\\\\begin{' + begin.getName() + '}') || '';\n            var _a = __read((parser.GetArgument('\\\\begin{' + begin.getName() + '}') || '').split(/=/), 2), env = _a[0], n = _a[1];\n            if (!EmpheqUtil_js_1.EmpheqUtil.checkEnv(env)) {\n                throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \"%1\"', env);\n            }\n            if (opts) {\n                begin.setProperties(EmpheqUtil_js_1.EmpheqUtil.splitOptions(opts, { left: 1, right: 1 }));\n            }\n            parser.stack.global.empheq = env;\n            parser.string = '\\\\begin{' + env + '}' + (n ? '{' + n + '}' : '') + parser.string.slice(parser.i);\n            parser.i = 0;\n            parser.Push(begin);\n        }\n    },\n    EmpheqMO: function (parser, _name, c) {\n        parser.Push(parser.create('token', 'mo', {}, c));\n    },\n    EmpheqDelim: function (parser, name) {\n        var c = parser.GetDelimiter(name);\n        parser.Push(parser.create('token', 'mo', { stretchy: true, symmetric: true }, c));\n    }\n};\nnew SymbolMap_js_1.EnvironmentMap('empheq-env', EmpheqUtil_js_1.EmpheqUtil.environment, {\n    empheq: ['Empheq', 'empheq'],\n}, exports.EmpheqMethods);\nnew SymbolMap_js_1.CommandMap('empheq-macros', {\n    empheqlbrace: ['EmpheqMO', '{'],\n    empheqrbrace: ['EmpheqMO', '}'],\n    empheqlbrack: ['EmpheqMO', '['],\n    empheqrbrack: ['EmpheqMO', ']'],\n    empheqlangle: ['EmpheqMO', '\\u27E8'],\n    empheqrangle: ['EmpheqMO', '\\u27E9'],\n    empheqlparen: ['EmpheqMO', '('],\n    empheqrparen: ['EmpheqMO', ')'],\n    empheqlvert: ['EmpheqMO', '|'],\n    empheqrvert: ['EmpheqMO', '|'],\n    empheqlVert: ['EmpheqMO', '\\u2016'],\n    empheqrVert: ['EmpheqMO', '\\u2016'],\n    empheqlfloor: ['EmpheqMO', '\\u230A'],\n    empheqrfloor: ['EmpheqMO', '\\u230B'],\n    empheqlceil: ['EmpheqMO', '\\u2308'],\n    empheqrceil: ['EmpheqMO', '\\u2309'],\n    empheqbiglbrace: ['EmpheqMO', '{'],\n    empheqbigrbrace: ['EmpheqMO', '}'],\n    empheqbiglbrack: ['EmpheqMO', '['],\n    empheqbigrbrack: ['EmpheqMO', ']'],\n    empheqbiglangle: ['EmpheqMO', '\\u27E8'],\n    empheqbigrangle: ['EmpheqMO', '\\u27E9'],\n    empheqbiglparen: ['EmpheqMO', '('],\n    empheqbigrparen: ['EmpheqMO', ')'],\n    empheqbiglvert: ['EmpheqMO', '|'],\n    empheqbigrvert: ['EmpheqMO', '|'],\n    empheqbiglVert: ['EmpheqMO', '\\u2016'],\n    empheqbigrVert: ['EmpheqMO', '\\u2016'],\n    empheqbiglfloor: ['EmpheqMO', '\\u230A'],\n    empheqbigrfloor: ['EmpheqMO', '\\u230B'],\n    empheqbiglceil: ['EmpheqMO', '\\u2308'],\n    empheqbigrceil: ['EmpheqMO', '\\u2309'],\n    empheql: 'EmpheqDelim',\n    empheqr: 'EmpheqDelim',\n    empheqbigl: 'EmpheqDelim',\n    empheqbigr: 'EmpheqDelim'\n}, exports.EmpheqMethods);\nexports.EmpheqConfiguration = Configuration_js_1.Configuration.create('empheq', {\n    handler: {\n        macro: ['empheq-macros'],\n        environment: ['empheq-env'],\n    },\n    items: (_a = {},\n        _a[EmpheqBeginItem.prototype.kind] = EmpheqBeginItem,\n        _a)\n});\n//# sourceMappingURL=EmpheqConfiguration.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmpheqUtil = void 0;\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nexports.EmpheqUtil = {\n    environment: function (parser, env, func, args) {\n        var name = args[0];\n        var item = parser.itemFactory.create(name + '-begin').setProperties({ name: env, end: name });\n        parser.Push(func.apply(void 0, __spreadArray([parser, item], __read(args.slice(1)), false)));\n    },\n    splitOptions: function (text, allowed) {\n        if (allowed === void 0) { allowed = null; }\n        return ParseUtil_js_1.default.keyvalOptions(text, allowed, true);\n    },\n    columnCount: function (table) {\n        var e_1, _a;\n        var m = 0;\n        try {\n            for (var _b = __values(table.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var row = _c.value;\n                var n = row.childNodes.length - (row.isKind('mlabeledtr') ? 1 : 0);\n                if (n > m)\n                    m = n;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return m;\n    },\n    cellBlock: function (tex, table, parser, env) {\n        var e_2, _a;\n        var mpadded = parser.create('node', 'mpadded', [], { height: 0, depth: 0, voffset: '-1height' });\n        var result = new TexParser_js_1.default(tex, parser.stack.env, parser.configuration);\n        var mml = result.mml();\n        if (env && result.configuration.tags.label) {\n            result.configuration.tags.currentTag.env = env;\n            result.configuration.tags.getTag(true);\n        }\n        try {\n            for (var _b = __values((mml.isInferred ? mml.childNodes : [mml])), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                mpadded.appendChild(child);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        mpadded.appendChild(parser.create('node', 'mphantom', [\n            parser.create('node', 'mpadded', [table], { width: 0 })\n        ]));\n        return mpadded;\n    },\n    topRowTable: function (original, parser) {\n        var table = ParseUtil_js_1.default.copyNode(original, parser);\n        table.setChildren(table.childNodes.slice(0, 1));\n        table.attributes.set('align', 'baseline 1');\n        return original.factory.create('mphantom', {}, [parser.create('node', 'mpadded', [table], { width: 0 })]);\n    },\n    rowspanCell: function (mtd, tex, table, parser, env) {\n        mtd.appendChild(parser.create('node', 'mpadded', [\n            this.cellBlock(tex, ParseUtil_js_1.default.copyNode(table, parser), parser, env),\n            this.topRowTable(table, parser)\n        ], { height: 0, depth: 0, voffset: 'height' }));\n    },\n    left: function (table, original, left, parser, env) {\n        var e_3, _a;\n        if (env === void 0) { env = ''; }\n        table.attributes.set('columnalign', 'right ' + (table.attributes.get('columnalign') || ''));\n        table.attributes.set('columnspacing', '0em ' + (table.attributes.get('columnspacing') || ''));\n        var mtd;\n        try {\n            for (var _b = __values(table.childNodes.slice(0).reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var row = _c.value;\n                mtd = parser.create('node', 'mtd');\n                row.childNodes.unshift(mtd);\n                mtd.parent = row;\n                if (row.isKind('mlabeledtr')) {\n                    row.childNodes[0] = row.childNodes[1];\n                    row.childNodes[1] = mtd;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        this.rowspanCell(mtd, left, original, parser, env);\n    },\n    right: function (table, original, right, parser, env) {\n        if (env === void 0) { env = ''; }\n        if (table.childNodes.length === 0) {\n            table.appendChild(parser.create('node', 'mtr'));\n        }\n        var m = exports.EmpheqUtil.columnCount(table);\n        var row = table.childNodes[0];\n        while (row.childNodes.length < m)\n            row.appendChild(parser.create('node', 'mtd'));\n        var mtd = row.appendChild(parser.create('node', 'mtd'));\n        exports.EmpheqUtil.rowspanCell(mtd, right, original, parser, env);\n        table.attributes.set('columnalign', (table.attributes.get('columnalign') || '').split(/ /).slice(0, m).join(' ') + ' left');\n        table.attributes.set('columnspacing', (table.attributes.get('columnspacing') || '').split(/ /).slice(0, m - 1).join(' ') + ' 0em');\n    },\n    adjustTable: function (empheq, parser) {\n        var left = empheq.getProperty('left');\n        var right = empheq.getProperty('right');\n        if (left || right) {\n            var table = empheq.Last;\n            var original = ParseUtil_js_1.default.copyNode(table, parser);\n            if (left)\n                this.left(table, original, left, parser);\n            if (right)\n                this.right(table, original, right, parser);\n        }\n    },\n    allowEnv: {\n        equation: true,\n        align: true,\n        gather: true,\n        flalign: true,\n        alignat: true,\n        multline: true\n    },\n    checkEnv: function (env) {\n        return this.allowEnv.hasOwnProperty(env.replace(/\\*$/, '')) || false;\n    }\n};\n//# sourceMappingURL=EmpheqUtil.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EncloseConfiguration = exports.EncloseMethods = exports.ENCLOSE_OPTIONS = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nexports.ENCLOSE_OPTIONS = {\n    'data-arrowhead': 1,\n    color: 1,\n    mathcolor: 1,\n    background: 1,\n    mathbackground: 1,\n    'data-padding': 1,\n    'data-thickness': 1\n};\nexports.EncloseMethods = {};\nexports.EncloseMethods.Enclose = function (parser, name) {\n    var notation = parser.GetArgument(name).replace(/,/g, ' ');\n    var attr = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, exports.ENCLOSE_OPTIONS);\n    def.notation = notation;\n    parser.Push(parser.create('node', 'menclose', [math], def));\n};\nnew SymbolMap_js_1.CommandMap('enclose', { enclose: 'Enclose' }, exports.EncloseMethods);\nexports.EncloseConfiguration = Configuration_js_1.Configuration.create('enclose', { handler: { macro: ['enclose'] } });\n//# sourceMappingURL=EncloseConfiguration.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExtpfeilConfiguration = exports.ExtpfeilMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar AmsMethods_js_1 = require(\"../ams/AmsMethods.js\");\nvar NewcommandUtil_js_1 = __importDefault(require(\"../newcommand/NewcommandUtil.js\"));\nvar NewcommandConfiguration_js_1 = require(\"../newcommand/NewcommandConfiguration.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nexports.ExtpfeilMethods = {};\nexports.ExtpfeilMethods.xArrow = AmsMethods_js_1.AmsMethods.xArrow;\nexports.ExtpfeilMethods.NewExtArrow = function (parser, name) {\n    var cs = parser.GetArgument(name);\n    var space = parser.GetArgument(name);\n    var chr = parser.GetArgument(name);\n    if (!cs.match(/^\\\\([a-z]+|.)$/i)) {\n        throw new TexError_js_1.default('NewextarrowArg1', 'First argument to %1 must be a control sequence name', name);\n    }\n    if (!space.match(/^(\\d+),(\\d+)$/)) {\n        throw new TexError_js_1.default('NewextarrowArg2', 'Second argument to %1 must be two integers separated by a comma', name);\n    }\n    if (!chr.match(/^(\\d+|0x[0-9A-F]+)$/i)) {\n        throw new TexError_js_1.default('NewextarrowArg3', 'Third argument to %1 must be a unicode character number', name);\n    }\n    cs = cs.substr(1);\n    var spaces = space.split(',');\n    NewcommandUtil_js_1.default.addMacro(parser, cs, exports.ExtpfeilMethods.xArrow, [parseInt(chr), parseInt(spaces[0]), parseInt(spaces[1])]);\n};\nnew SymbolMap_js_1.CommandMap('extpfeil', {\n    xtwoheadrightarrow: ['xArrow', 0x21A0, 12, 16],\n    xtwoheadleftarrow: ['xArrow', 0x219E, 17, 13],\n    xmapsto: ['xArrow', 0x21A6, 6, 7],\n    xlongequal: ['xArrow', 0x003D, 7, 7],\n    xtofrom: ['xArrow', 0x21C4, 12, 12],\n    Newextarrow: 'NewExtArrow'\n}, exports.ExtpfeilMethods);\nvar init = function (config) {\n    NewcommandConfiguration_js_1.NewcommandConfiguration.init(config);\n};\nexports.ExtpfeilConfiguration = Configuration_js_1.Configuration.create('extpfeil', {\n    handler: { macro: ['extpfeil'] },\n    init: init\n});\n//# sourceMappingURL=ExtpfeilConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GensymbConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nfunction mathcharUnit(parser, mchar) {\n    var def = mchar.attributes || {};\n    def.mathvariant = TexConstants_js_1.TexConstant.Variant.NORMAL;\n    def.class = 'MathML-Unit';\n    var node = parser.create('token', 'mi', def, mchar.char);\n    parser.Push(node);\n}\nnew SymbolMap_js_1.CharacterMap('gensymb-symbols', mathcharUnit, {\n    ohm: '\\u2126',\n    degree: '\\u00B0',\n    celsius: '\\u2103',\n    perthousand: '\\u2030',\n    micro: '\\u00B5'\n});\nexports.GensymbConfiguration = Configuration_js_1.Configuration.create('gensymb', {\n    handler: { macro: ['gensymb-symbols'] },\n});\n//# sourceMappingURL=GensymbConfiguration.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HtmlConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar HtmlMethods_js_1 = __importDefault(require(\"./HtmlMethods.js\"));\nnew SymbolMap_js_1.CommandMap('html_macros', {\n    href: 'Href',\n    'class': 'Class',\n    style: 'Style',\n    cssId: 'Id'\n}, HtmlMethods_js_1.default);\nexports.HtmlConfiguration = Configuration_js_1.Configuration.create('html', { handler: { macro: ['html_macros'] } });\n//# sourceMappingURL=HtmlConfiguration.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar HtmlMethods = {};\nHtmlMethods.Href = function (parser, name) {\n    var url = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    NodeUtil_js_1.default.setAttribute(arg, 'href', url);\n    parser.Push(arg);\n};\nHtmlMethods.Class = function (parser, name) {\n    var CLASS = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    var oldClass = NodeUtil_js_1.default.getAttribute(arg, 'class');\n    if (oldClass) {\n        CLASS = oldClass + ' ' + CLASS;\n    }\n    NodeUtil_js_1.default.setAttribute(arg, 'class', CLASS);\n    parser.Push(arg);\n};\nHtmlMethods.Style = function (parser, name) {\n    var style = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    var oldStyle = NodeUtil_js_1.default.getAttribute(arg, 'style');\n    if (oldStyle) {\n        if (style.charAt(style.length - 1) !== ';') {\n            style += ';';\n        }\n        style = oldStyle + ' ' + style;\n    }\n    NodeUtil_js_1.default.setAttribute(arg, 'style', style);\n    parser.Push(arg);\n};\nHtmlMethods.Id = function (parser, name) {\n    var ID = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    NodeUtil_js_1.default.setAttribute(arg, 'id', ID);\n    parser.Push(arg);\n};\nvar GetArgumentMML = function (parser, name) {\n    var arg = parser.ParseArg(name);\n    if (!NodeUtil_js_1.default.isInferred(arg)) {\n        return arg;\n    }\n    var children = NodeUtil_js_1.default.getChildren(arg);\n    if (children.length === 1) {\n        return children[0];\n    }\n    var mrow = parser.create('node', 'mrow');\n    NodeUtil_js_1.default.copyChildren(arg, mrow);\n    NodeUtil_js_1.default.copyAttributes(arg, mrow);\n    return mrow;\n};\nexports.default = HtmlMethods;\n//# sourceMappingURL=HtmlMethods.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MathtoolsConfiguration = exports.fixPrescripts = exports.PAIREDDELIMS = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar Options_js_1 = require(\"../../../util/Options.js\");\nrequire(\"./MathtoolsMappings.js\");\nvar MathtoolsUtil_js_1 = require(\"./MathtoolsUtil.js\");\nvar MathtoolsTags_js_1 = require(\"./MathtoolsTags.js\");\nvar MathtoolsItems_js_1 = require(\"./MathtoolsItems.js\");\nexports.PAIREDDELIMS = 'mathtools-paired-delims';\nfunction initMathtools(config) {\n    new SymbolMap_js_1.CommandMap(exports.PAIREDDELIMS, {}, {});\n    config.append(Configuration_js_1.Configuration.local({ handler: { macro: [exports.PAIREDDELIMS] }, priority: -5 }));\n}\nfunction configMathtools(config, jax) {\n    var e_1, _a;\n    var parser = jax.parseOptions;\n    var pairedDelims = parser.options.mathtools.pairedDelimiters;\n    try {\n        for (var _b = __values(Object.keys(pairedDelims)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var cs = _c.value;\n            MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser, cs, pairedDelims[cs]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    (0, MathtoolsTags_js_1.MathtoolsTagFormat)(config, jax);\n}\nfunction fixPrescripts(_a) {\n    var e_2, _b, e_3, _c, e_4, _d;\n    var data = _a.data;\n    try {\n        for (var _e = __values(data.getList('mmultiscripts')), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var node = _f.value;\n            if (!node.getProperty('fixPrescript'))\n                continue;\n            var childNodes = NodeUtil_js_1.default.getChildren(node);\n            var n = 0;\n            try {\n                for (var _g = (e_3 = void 0, __values([1, 2])), _h = _g.next(); !_h.done; _h = _g.next()) {\n                    var i = _h.value;\n                    if (!childNodes[i]) {\n                        NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));\n                        n++;\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_h && !_h.done && (_c = _g.return)) _c.call(_g);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            try {\n                for (var _j = (e_4 = void 0, __values([4, 5])), _k = _j.next(); !_k.done; _k = _j.next()) {\n                    var i = _k.value;\n                    if (NodeUtil_js_1.default.isType(childNodes[i], 'mrow') && NodeUtil_js_1.default.getChildren(childNodes[i]).length === 0) {\n                        NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_k && !_k.done && (_d = _j.return)) _d.call(_j);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n            if (n === 2) {\n                childNodes.splice(1, 2);\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\nexports.fixPrescripts = fixPrescripts;\nexports.MathtoolsConfiguration = Configuration_js_1.Configuration.create('mathtools', {\n    handler: {\n        macro: ['mathtools-macros', 'mathtools-delimiters'],\n        environment: ['mathtools-environments'],\n        delimiter: ['mathtools-delimiters'],\n        character: ['mathtools-characters']\n    },\n    items: (_a = {},\n        _a[MathtoolsItems_js_1.MultlinedItem.prototype.kind] = MathtoolsItems_js_1.MultlinedItem,\n        _a),\n    init: initMathtools,\n    config: configMathtools,\n    postprocessors: [[fixPrescripts, -6]],\n    options: {\n        mathtools: {\n            'multlinegap': '1em',\n            'multlined-pos': 'c',\n            'firstline-afterskip': '',\n            'lastline-preskip': '',\n            'smallmatrix-align': 'c',\n            'shortvdotsadjustabove': '.2em',\n            'shortvdotsadjustbelow': '.2em',\n            'centercolon': false,\n            'centercolon-offset': '.04em',\n            'thincolon-dx': '-.04em',\n            'thincolon-dw': '-.08em',\n            'use-unicode': false,\n            'prescript-sub-format': '',\n            'prescript-sup-format': '',\n            'prescript-arg-format': '',\n            'allow-mathtoolsset': true,\n            pairedDelimiters: (0, Options_js_1.expandable)({}),\n            tagforms: (0, Options_js_1.expandable)({}),\n        }\n    }\n});\n//# sourceMappingURL=MathtoolsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultlinedItem = void 0;\nvar AmsItems_js_1 = require(\"../ams/AmsItems.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar MultlinedItem = (function (_super) {\n    __extends(MultlinedItem, _super);\n    function MultlinedItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(MultlinedItem.prototype, \"kind\", {\n        get: function () {\n            return 'multlined';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MultlinedItem.prototype.EndTable = function () {\n        if (this.Size() || this.row.length) {\n            this.EndEntry();\n            this.EndRow();\n        }\n        if (this.table.length > 1) {\n            var options = this.factory.configuration.options.mathtools;\n            var gap = options.multlinegap;\n            var firstskip = options['firstline-afterskip'] || gap;\n            var lastskip = options['lastline-preskip'] || gap;\n            var first = NodeUtil_js_1.default.getChildren(this.table[0])[0];\n            if (NodeUtil_js_1.default.getAttribute(first, 'columnalign') !== TexConstants_js_1.TexConstant.Align.RIGHT) {\n                first.appendChild(this.create('node', 'mspace', [], { width: firstskip }));\n            }\n            var last = NodeUtil_js_1.default.getChildren(this.table[this.table.length - 1])[0];\n            if (NodeUtil_js_1.default.getAttribute(last, 'columnalign') !== TexConstants_js_1.TexConstant.Align.LEFT) {\n                var top_1 = NodeUtil_js_1.default.getChildren(last)[0];\n                top_1.childNodes.unshift(null);\n                var space = this.create('node', 'mspace', [], { width: lastskip });\n                NodeUtil_js_1.default.setChild(top_1, 0, space);\n            }\n        }\n        _super.prototype.EndTable.call(this);\n    };\n    return MultlinedItem;\n}(AmsItems_js_1.MultlineItem));\nexports.MultlinedItem = MultlinedItem;\n//# sourceMappingURL=MathtoolsItems.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar MathtoolsMethods_js_1 = require(\"./MathtoolsMethods.js\");\nnew SymbolMap_js_1.CommandMap('mathtools-macros', {\n    shoveleft: ['HandleShove', TexConstants_js_1.TexConstant.Align.LEFT],\n    shoveright: ['HandleShove', TexConstants_js_1.TexConstant.Align.RIGHT],\n    xleftrightarrow: ['xArrow', 0x2194, 10, 10],\n    xLeftarrow: ['xArrow', 0x21D0, 12, 7],\n    xRightarrow: ['xArrow', 0x21D2, 7, 12],\n    xLeftrightarrow: ['xArrow', 0x21D4, 12, 12],\n    xhookleftarrow: ['xArrow', 0x21A9, 10, 5],\n    xhookrightarrow: ['xArrow', 0x21AA, 5, 10],\n    xmapsto: ['xArrow', 0x21A6, 10, 10],\n    xrightharpoondown: ['xArrow', 0x21C1, 5, 10],\n    xleftharpoondown: ['xArrow', 0x21BD, 10, 5],\n    xrightleftharpoons: ['xArrow', 0x21CC, 10, 10],\n    xrightharpoonup: ['xArrow', 0x21C0, 5, 10],\n    xleftharpoonup: ['xArrow', 0x21BC, 10, 5],\n    xleftrightharpoons: ['xArrow', 0x21CB, 10, 10],\n    mathllap: ['MathLap', 'l', false],\n    mathrlap: ['MathLap', 'r', false],\n    mathclap: ['MathLap', 'c', false],\n    clap: ['MtLap', 'c'],\n    textllap: ['MtLap', 'l'],\n    textrlap: ['MtLap', 'r'],\n    textclap: ['MtLap', 'c'],\n    cramped: 'Cramped',\n    crampedllap: ['MathLap', 'l', true],\n    crampedrlap: ['MathLap', 'r', true],\n    crampedclap: ['MathLap', 'c', true],\n    crampedsubstack: ['Macro', '\\\\begin{crampedsubarray}{c}#1\\\\end{crampedsubarray}', 1],\n    mathmbox: 'MathMBox',\n    mathmakebox: 'MathMakeBox',\n    overbracket: 'UnderOverBracket',\n    underbracket: 'UnderOverBracket',\n    refeq: 'HandleRef',\n    MoveEqLeft: ['Macro', '\\\\hspace{#1em}&\\\\hspace{-#1em}', 1, '2'],\n    Aboxed: 'Aboxed',\n    ArrowBetweenLines: 'ArrowBetweenLines',\n    vdotswithin: 'VDotsWithin',\n    shortvdotswithin: 'ShortVDotsWithin',\n    MTFlushSpaceAbove: 'FlushSpaceAbove',\n    MTFlushSpaceBelow: 'FlushSpaceBelow',\n    DeclarePairedDelimiter: 'DeclarePairedDelimiter',\n    DeclarePairedDelimiterX: 'DeclarePairedDelimiterX',\n    DeclarePairedDelimiterXPP: 'DeclarePairedDelimiterXPP',\n    DeclarePairedDelimiters: 'DeclarePairedDelimiter',\n    DeclarePairedDelimitersX: 'DeclarePairedDelimiterX',\n    DeclarePairedDelimitersXPP: 'DeclarePairedDelimiterXPP',\n    centercolon: ['CenterColon', true, true],\n    ordinarycolon: ['CenterColon', false],\n    MTThinColon: ['CenterColon', true, true, true],\n    coloneqq: ['Relation', ':=', '\\u2254'],\n    Coloneqq: ['Relation', '::=', '\\u2A74'],\n    coloneq: ['Relation', ':-'],\n    Coloneq: ['Relation', '::-'],\n    eqqcolon: ['Relation', '=:', '\\u2255'],\n    Eqqcolon: ['Relation', '=::'],\n    eqcolon: ['Relation', '-:', '\\u2239'],\n    Eqcolon: ['Relation', '-::'],\n    colonapprox: ['Relation', ':\\\\approx'],\n    Colonapprox: ['Relation', '::\\\\approx'],\n    colonsim: ['Relation', ':\\\\sim'],\n    Colonsim: ['Relation', '::\\\\sim'],\n    dblcolon: ['Relation', '::', '\\u2237'],\n    nuparrow: ['NArrow', '\\u2191', '.06em'],\n    ndownarrow: ['NArrow', '\\u2193', '.25em'],\n    bigtimes: ['Macro', '\\\\mathop{\\\\Large\\\\kern-.1em\\\\boldsymbol{\\\\times}\\\\kern-.1em}'],\n    splitfrac: ['SplitFrac', false],\n    splitdfrac: ['SplitFrac', true],\n    xmathstrut: 'XMathStrut',\n    prescript: 'Prescript',\n    newtagform: ['NewTagForm', false],\n    renewtagform: ['NewTagForm', true],\n    usetagform: 'UseTagForm',\n    adjustlimits: [\n        'MacroWithTemplate',\n        '\\\\mathop{{#1}\\\\vphantom{{#3}}}_{{#2}\\\\vphantom{{#4}}}\\\\mathop{{#3}\\\\vphantom{{#1}}}_{{#4}\\\\vphantom{{#2}}}',\n        4, , '_', , '_'\n    ],\n    mathtoolsset: 'SetOptions'\n}, MathtoolsMethods_js_1.MathtoolsMethods);\nnew SymbolMap_js_1.EnvironmentMap('mathtools-environments', ParseMethods_js_1.default.environment, {\n    dcases: ['Array', null, '\\\\{', '', 'll', null, '.2em', 'D'],\n    rcases: ['Array', null, '', '\\\\}', 'll', null, '.2em'],\n    drcases: ['Array', null, '', '\\\\}', 'll', null, '.2em', 'D'],\n    'dcases*': ['Cases', null, '{', '', 'D'],\n    'rcases*': ['Cases', null, '', '}'],\n    'drcases*': ['Cases', null, '', '}', 'D'],\n    'cases*': ['Cases', null, '{', ''],\n    'matrix*': ['MtMatrix', null, null, null],\n    'pmatrix*': ['MtMatrix', null, '(', ')'],\n    'bmatrix*': ['MtMatrix', null, '[', ']'],\n    'Bmatrix*': ['MtMatrix', null, '\\\\{', '\\\\}'],\n    'vmatrix*': ['MtMatrix', null, '\\\\vert', '\\\\vert'],\n    'Vmatrix*': ['MtMatrix', null, '\\\\Vert', '\\\\Vert'],\n    'smallmatrix*': ['MtSmallMatrix', null, null, null],\n    psmallmatrix: ['MtSmallMatrix', null, '(', ')', 'c'],\n    'psmallmatrix*': ['MtSmallMatrix', null, '(', ')'],\n    bsmallmatrix: ['MtSmallMatrix', null, '[', ']', 'c'],\n    'bsmallmatrix*': ['MtSmallMatrix', null, '[', ']'],\n    Bsmallmatrix: ['MtSmallMatrix', null, '\\\\{', '\\\\}', 'c'],\n    'Bsmallmatrix*': ['MtSmallMatrix', null, '\\\\{', '\\\\}'],\n    vsmallmatrix: ['MtSmallMatrix', null, '\\\\vert', '\\\\vert', 'c'],\n    'vsmallmatrix*': ['MtSmallMatrix', null, '\\\\vert', '\\\\vert'],\n    Vsmallmatrix: ['MtSmallMatrix', null, '\\\\Vert', '\\\\Vert', 'c'],\n    'Vsmallmatrix*': ['MtSmallMatrix', null, '\\\\Vert', '\\\\Vert'],\n    crampedsubarray: ['Array', null, null, null, null, '0em', '0.1em', 'S\\'', 1],\n    multlined: 'MtMultlined',\n    spreadlines: ['SpreadLines', true],\n    lgathered: ['AmsEqnArray', null, null, null, 'l', null, '.5em', 'D'],\n    rgathered: ['AmsEqnArray', null, null, null, 'r', null, '.5em', 'D'],\n}, MathtoolsMethods_js_1.MathtoolsMethods);\nnew SymbolMap_js_1.DelimiterMap('mathtools-delimiters', ParseMethods_js_1.default.delimiter, {\n    '\\\\lparen': '(',\n    '\\\\rparen': ')'\n});\nnew SymbolMap_js_1.CommandMap('mathtools-characters', {\n    ':': ['CenterColon', true]\n}, MathtoolsMethods_js_1.MathtoolsMethods);\n//# sourceMappingURL=MathtoolsMappings.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MathtoolsMethods = void 0;\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar AmsMethods_js_1 = require(\"../ams/AmsMethods.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar NewcommandUtil_js_1 = __importDefault(require(\"../newcommand/NewcommandUtil.js\"));\nvar NewcommandMethods_js_1 = __importDefault(require(\"../newcommand/NewcommandMethods.js\"));\nvar MathtoolsUtil_js_1 = require(\"./MathtoolsUtil.js\");\nexports.MathtoolsMethods = {\n    MtMatrix: function (parser, begin, open, close) {\n        var align = parser.GetBrackets(\"\\\\begin{\".concat(begin.getName(), \"}\"), 'c');\n        return exports.MathtoolsMethods.Array(parser, begin, open, close, align);\n    },\n    MtSmallMatrix: function (parser, begin, open, close, align) {\n        if (!align) {\n            align = parser.GetBrackets(\"\\\\begin{\".concat(begin.getName(), \"}\"), parser.options.mathtools['smallmatrix-align']);\n        }\n        return exports.MathtoolsMethods.Array(parser, begin, open, close, align, ParseUtil_js_1.default.Em(1 / 3), '.2em', 'S', 1);\n    },\n    MtMultlined: function (parser, begin) {\n        var _a;\n        var name = \"\\\\begin{\".concat(begin.getName(), \"}\");\n        var pos = parser.GetBrackets(name, parser.options.mathtools['multlined-pos'] || 'c');\n        var width = pos ? parser.GetBrackets(name, '') : '';\n        if (pos && !pos.match(/^[cbt]$/)) {\n            _a = __read([pos, width], 2), width = _a[0], pos = _a[1];\n        }\n        parser.Push(begin);\n        var item = parser.itemFactory.create('multlined', parser, begin);\n        item.arraydef = {\n            displaystyle: true,\n            rowspacing: '.5em',\n            width: width || 'auto',\n            columnwidth: '100%',\n        };\n        return ParseUtil_js_1.default.setArrayAlign(item, pos || 'c');\n    },\n    HandleShove: function (parser, name, shove) {\n        var top = parser.stack.Top();\n        if (top.kind !== 'multline' && top.kind !== 'multlined') {\n            throw new TexError_js_1.default('CommandInMultlined', '%1 can only appear within the multline or multlined environments', name);\n        }\n        if (top.Size()) {\n            throw new TexError_js_1.default('CommandAtTheBeginingOfLine', '%1 must come at the beginning of the line', name);\n        }\n        top.setProperty('shove', shove);\n        var shift = parser.GetBrackets(name);\n        var mml = parser.ParseArg(name);\n        if (shift) {\n            var mrow = parser.create('node', 'mrow', []);\n            var mspace = parser.create('node', 'mspace', [], { width: shift });\n            if (shove === 'left') {\n                mrow.appendChild(mspace);\n                mrow.appendChild(mml);\n            }\n            else {\n                mrow.appendChild(mml);\n                mrow.appendChild(mspace);\n            }\n            mml = mrow;\n        }\n        parser.Push(mml);\n    },\n    SpreadLines: function (parser, begin) {\n        var e_1, _a;\n        if (parser.stack.env.closing === begin.getName()) {\n            delete parser.stack.env.closing;\n            var top_1 = parser.stack.Pop();\n            var mml = top_1.toMml();\n            var spread = top_1.getProperty('spread');\n            if (mml.isInferred) {\n                try {\n                    for (var _b = __values(NodeUtil_js_1.default.getChildren(mml)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var child = _c.value;\n                        MathtoolsUtil_js_1.MathtoolsUtil.spreadLines(child, spread);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            else {\n                MathtoolsUtil_js_1.MathtoolsUtil.spreadLines(mml, spread);\n            }\n            parser.Push(mml);\n        }\n        else {\n            var spread = parser.GetDimen(\"\\\\begin{\".concat(begin.getName(), \"}\"));\n            begin.setProperty('spread', spread);\n            parser.Push(begin);\n        }\n    },\n    Cases: function (parser, begin, open, close, style) {\n        var array = parser.itemFactory.create('array').setProperty('casesEnv', begin.getName());\n        array.arraydef = {\n            rowspacing: '.2em',\n            columnspacing: '1em',\n            columnalign: 'left'\n        };\n        if (style === 'D') {\n            array.arraydef.displaystyle = true;\n        }\n        array.setProperties({ open: open, close: close });\n        parser.Push(begin);\n        return array;\n    },\n    MathLap: function (parser, name, pos, cramped) {\n        var style = parser.GetBrackets(name, '').trim();\n        var mml = parser.create('node', 'mstyle', [\n            parser.create('node', 'mpadded', [parser.ParseArg(name)], __assign({ width: 0 }, (pos === 'r' ? {} : { lspace: (pos === 'l' ? '-1width' : '-.5width') })))\n        ], { 'data-cramped': cramped });\n        MathtoolsUtil_js_1.MathtoolsUtil.setDisplayLevel(mml, style);\n        parser.Push(parser.create('node', 'TeXAtom', [mml]));\n    },\n    Cramped: function (parser, name) {\n        var style = parser.GetBrackets(name, '').trim();\n        var arg = parser.ParseArg(name);\n        var mml = parser.create('node', 'mstyle', [arg], { 'data-cramped': true });\n        MathtoolsUtil_js_1.MathtoolsUtil.setDisplayLevel(mml, style);\n        parser.Push(mml);\n    },\n    MtLap: function (parser, name, pos) {\n        var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);\n        var mml = parser.create('node', 'mpadded', content, { width: 0 });\n        if (pos !== 'r') {\n            NodeUtil_js_1.default.setAttribute(mml, 'lspace', pos === 'l' ? '-1width' : '-.5width');\n        }\n        parser.Push(mml);\n    },\n    MathMakeBox: function (parser, name) {\n        var width = parser.GetBrackets(name);\n        var pos = parser.GetBrackets(name, 'c');\n        var mml = parser.create('node', 'mpadded', [parser.ParseArg(name)]);\n        if (width) {\n            NodeUtil_js_1.default.setAttribute(mml, 'width', width);\n        }\n        var align = (0, Options_js_1.lookup)(pos, { c: 'center', r: 'right' }, '');\n        if (align) {\n            NodeUtil_js_1.default.setAttribute(mml, 'data-align', align);\n        }\n        parser.Push(mml);\n    },\n    MathMBox: function (parser, name) {\n        parser.Push(parser.create('node', 'mrow', [parser.ParseArg(name)]));\n    },\n    UnderOverBracket: function (parser, name) {\n        var thickness = (0, lengths_js_1.length2em)(parser.GetBrackets(name, '.1em'), .1);\n        var height = parser.GetBrackets(name, '.2em');\n        var arg = parser.GetArgument(name);\n        var _a = __read((name.charAt(1) === 'o' ?\n            ['over', 'accent', 'bottom'] :\n            ['under', 'accentunder', 'top']), 3), pos = _a[0], accent = _a[1], border = _a[2];\n        var t = (0, lengths_js_1.em)(thickness);\n        var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n        var copy = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n        var script = parser.create('node', 'mpadded', [\n            parser.create('node', 'mphantom', [copy])\n        ], {\n            style: \"border: \".concat(t, \" solid; border-\").concat(border, \": none\"),\n            height: height,\n            depth: 0\n        });\n        var node = ParseUtil_js_1.default.underOver(parser, base, script, pos, true);\n        var munderover = NodeUtil_js_1.default.getChildAt(NodeUtil_js_1.default.getChildAt(node, 0), 0);\n        NodeUtil_js_1.default.setAttribute(munderover, accent, true);\n        parser.Push(node);\n    },\n    Aboxed: function (parser, name) {\n        var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);\n        if (top.row.length % 2 === 1) {\n            top.row.push(parser.create('node', 'mtd', []));\n        }\n        var arg = parser.GetArgument(name);\n        var rest = parser.string.substr(parser.i);\n        parser.string = arg + '&&\\\\endAboxed';\n        parser.i = 0;\n        var left = parser.GetUpTo(name, '&');\n        var right = parser.GetUpTo(name, '&');\n        parser.GetUpTo(name, '\\\\endAboxed');\n        var tex = ParseUtil_js_1.default.substituteArgs(parser, [left, right], '\\\\rlap{\\\\boxed{#1{}#2}}\\\\kern.267em\\\\phantom{#1}&\\\\phantom{{}#2}\\\\kern.267em');\n        parser.string = tex + rest;\n        parser.i = 0;\n    },\n    ArrowBetweenLines: function (parser, name) {\n        var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);\n        if (top.Size() || top.row.length) {\n            throw new TexError_js_1.default('BetweenLines', '%1 must be on a row by itself', name);\n        }\n        var star = parser.GetStar();\n        var symbol = parser.GetBrackets(name, '\\\\Updownarrow');\n        if (star) {\n            top.EndEntry();\n            top.EndEntry();\n        }\n        var tex = (star ? '\\\\quad' + symbol : symbol + '\\\\quad');\n        var mml = new TexParser_js_1.default(tex, parser.stack.env, parser.configuration).mml();\n        parser.Push(mml);\n        top.EndEntry();\n        top.EndRow();\n    },\n    VDotsWithin: function (parser, name) {\n        var top = parser.stack.Top();\n        var isFlush = (top.getProperty('flushspaceabove') === top.table.length);\n        var arg = '\\\\mmlToken{mi}{}' + parser.GetArgument(name) + '\\\\mmlToken{mi}{}';\n        var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n        var mml = parser.create('node', 'mpadded', [\n            parser.create('node', 'mpadded', [\n                parser.create('node', 'mo', [\n                    parser.create('text', '\\u22EE')\n                ])\n            ], __assign({ width: 0, lspace: '-.5width' }, (isFlush ? { height: '-.6em', voffset: '-.18em' } : {}))),\n            parser.create('node', 'mphantom', [base])\n        ], {\n            lspace: '.5width'\n        });\n        parser.Push(mml);\n    },\n    ShortVDotsWithin: function (parser, _name) {\n        var top = parser.stack.Top();\n        var star = parser.GetStar();\n        exports.MathtoolsMethods.FlushSpaceAbove(parser, '\\\\MTFlushSpaceAbove');\n        !star && top.EndEntry();\n        exports.MathtoolsMethods.VDotsWithin(parser, '\\\\vdotswithin');\n        star && top.EndEntry();\n        exports.MathtoolsMethods.FlushSpaceBelow(parser, '\\\\MTFlushSpaceBelow');\n    },\n    FlushSpaceAbove: function (parser, name) {\n        var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);\n        top.setProperty('flushspaceabove', top.table.length);\n        top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustabove']);\n    },\n    FlushSpaceBelow: function (parser, name) {\n        var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);\n        top.Size() && top.EndEntry();\n        top.EndRow();\n        top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustbelow']);\n    },\n    PairedDelimiters: function (parser, name, open, close, body, n, pre, post) {\n        if (body === void 0) { body = '#1'; }\n        if (n === void 0) { n = 1; }\n        if (pre === void 0) { pre = ''; }\n        if (post === void 0) { post = ''; }\n        var star = parser.GetStar();\n        var size = (star ? '' : parser.GetBrackets(name));\n        var _a = __read((star ? ['\\\\left', '\\\\right'] : size ? [size + 'l', size + 'r'] : ['', '']), 2), left = _a[0], right = _a[1];\n        var delim = (star ? '\\\\middle' : size || '');\n        if (n) {\n            var args = [];\n            for (var i = args.length; i < n; i++) {\n                args.push(parser.GetArgument(name));\n            }\n            pre = ParseUtil_js_1.default.substituteArgs(parser, args, pre);\n            body = ParseUtil_js_1.default.substituteArgs(parser, args, body);\n            post = ParseUtil_js_1.default.substituteArgs(parser, args, post);\n        }\n        body = body.replace(/\\\\delimsize/g, delim);\n        parser.string = [pre, left, open, body, right, close, post, parser.string.substr(parser.i)]\n            .reduce(function (s, part) { return ParseUtil_js_1.default.addArgs(parser, s, part); }, '');\n        parser.i = 0;\n        ParseUtil_js_1.default.checkMaxMacros(parser);\n    },\n    DeclarePairedDelimiter: function (parser, name) {\n        var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);\n        var open = parser.GetArgument(name);\n        var close = parser.GetArgument(name);\n        MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close]);\n    },\n    DeclarePairedDelimiterX: function (parser, name) {\n        var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);\n        var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);\n        var open = parser.GetArgument(name);\n        var close = parser.GetArgument(name);\n        var body = parser.GetArgument(name);\n        MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n]);\n    },\n    DeclarePairedDelimiterXPP: function (parser, name) {\n        var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);\n        var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);\n        var pre = parser.GetArgument(name);\n        var open = parser.GetArgument(name);\n        var close = parser.GetArgument(name);\n        var post = parser.GetArgument(name);\n        var body = parser.GetArgument(name);\n        MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n, pre, post]);\n    },\n    CenterColon: function (parser, _name, center, force, thin) {\n        if (force === void 0) { force = false; }\n        if (thin === void 0) { thin = false; }\n        var options = parser.options.mathtools;\n        var mml = parser.create('token', 'mo', {}, ':');\n        if (center && (options['centercolon'] || force)) {\n            var dy = options['centercolon-offset'];\n            mml = parser.create('node', 'mpadded', [mml], __assign({ voffset: dy, height: \"+\".concat(dy), depth: \"-\".concat(dy) }, (thin ? { width: options['thincolon-dw'], lspace: options['thincolon-dx'] } : {})));\n        }\n        parser.Push(mml);\n    },\n    Relation: function (parser, _name, tex, unicode) {\n        var options = parser.options.mathtools;\n        if (options['use-unicode'] && unicode) {\n            parser.Push(parser.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.REL }, unicode));\n        }\n        else {\n            tex = '\\\\mathrel{' + tex.replace(/:/g, '\\\\MTThinColon').replace(/-/g, '\\\\mathrel{-}') + '}';\n            parser.string = ParseUtil_js_1.default.addArgs(parser, tex, parser.string.substr(parser.i));\n            parser.i = 0;\n        }\n    },\n    NArrow: function (parser, _name, c, dy) {\n        parser.Push(parser.create('node', 'TeXAtom', [\n            parser.create('token', 'mtext', {}, c),\n            parser.create('node', 'mpadded', [\n                parser.create('node', 'mpadded', [\n                    parser.create('node', 'menclose', [\n                        parser.create('node', 'mspace', [], { height: '.2em', depth: 0, width: '.4em' })\n                    ], { notation: 'updiagonalstrike', 'data-thickness': '.05em', 'data-padding': 0 })\n                ], { width: 0, lspace: '-.5width', voffset: dy }),\n                parser.create('node', 'mphantom', [\n                    parser.create('token', 'mtext', {}, c)\n                ])\n            ], { width: 0, lspace: '-.5width' })\n        ], { texClass: MmlNode_js_1.TEXCLASS.REL }));\n    },\n    SplitFrac: function (parser, name, display) {\n        var num = parser.ParseArg(name);\n        var den = parser.ParseArg(name);\n        parser.Push(parser.create('node', 'mstyle', [\n            parser.create('node', 'mfrac', [\n                parser.create('node', 'mstyle', [\n                    num,\n                    parser.create('token', 'mi'),\n                    parser.create('token', 'mspace', { width: '1em' })\n                ], { scriptlevel: 0 }),\n                parser.create('node', 'mstyle', [\n                    parser.create('token', 'mspace', { width: '1em' }),\n                    parser.create('token', 'mi'),\n                    den\n                ], { scriptlevel: 0 })\n            ], { linethickness: 0, numalign: 'left', denomalign: 'right' })\n        ], { displaystyle: display, scriptlevel: 0 }));\n    },\n    XMathStrut: function (parser, name) {\n        var dd = parser.GetBrackets(name);\n        var dh = parser.GetArgument(name);\n        dh = MathtoolsUtil_js_1.MathtoolsUtil.plusOrMinus(name, dh);\n        dd = MathtoolsUtil_js_1.MathtoolsUtil.plusOrMinus(name, dd || dh);\n        parser.Push(parser.create('node', 'TeXAtom', [\n            parser.create('node', 'mpadded', [\n                parser.create('node', 'mphantom', [\n                    parser.create('token', 'mo', { stretchy: false }, '(')\n                ])\n            ], { width: 0, height: dh + 'height', depth: dd + 'depth' })\n        ], { texClass: MmlNode_js_1.TEXCLASS.ORD }));\n    },\n    Prescript: function (parser, name) {\n        var sup = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'sup');\n        var sub = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'sub');\n        var base = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'arg');\n        if (NodeUtil_js_1.default.isType(sup, 'none') && NodeUtil_js_1.default.isType(sub, 'none')) {\n            parser.Push(base);\n            return;\n        }\n        var mml = parser.create('node', 'mmultiscripts', [base]);\n        NodeUtil_js_1.default.getChildren(mml).push(null, null);\n        NodeUtil_js_1.default.appendChildren(mml, [parser.create('node', 'mprescripts'), sub, sup]);\n        mml.setProperty('fixPrescript', true);\n        parser.Push(mml);\n    },\n    NewTagForm: function (parser, name, renew) {\n        if (renew === void 0) { renew = false; }\n        var tags = parser.tags;\n        if (!('mtFormats' in tags)) {\n            throw new TexError_js_1.default('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);\n        }\n        var id = parser.GetArgument(name).trim();\n        if (!id) {\n            throw new TexError_js_1.default('InvalidTagFormID', 'Tag form name can\\'t be empty');\n        }\n        var format = parser.GetBrackets(name, '');\n        var left = parser.GetArgument(name);\n        var right = parser.GetArgument(name);\n        if (!renew && tags.mtFormats.has(id)) {\n            throw new TexError_js_1.default('DuplicateTagForm', 'Duplicate tag form: %1', id);\n        }\n        tags.mtFormats.set(id, [left, right, format]);\n    },\n    UseTagForm: function (parser, name) {\n        var tags = parser.tags;\n        if (!('mtFormats' in tags)) {\n            throw new TexError_js_1.default('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);\n        }\n        var id = parser.GetArgument(name).trim();\n        if (!id) {\n            tags.mtCurrent = null;\n            return;\n        }\n        if (!tags.mtFormats.has(id)) {\n            throw new TexError_js_1.default('UndefinedTagForm', 'Undefined tag form: %1', id);\n        }\n        tags.mtCurrent = tags.mtFormats.get(id);\n    },\n    SetOptions: function (parser, name) {\n        var e_2, _a;\n        var options = parser.options.mathtools;\n        if (!options['allow-mathtoolsset']) {\n            throw new TexError_js_1.default('ForbiddenMathtoolsSet', '%1 is disabled', name);\n        }\n        var allowed = {};\n        Object.keys(options).forEach(function (id) {\n            if (id !== 'pariedDelimiters' && id !== 'tagforms' && id !== 'allow-mathtoolsset') {\n                allowed[id] = 1;\n            }\n        });\n        var args = parser.GetArgument(name);\n        var keys = ParseUtil_js_1.default.keyvalOptions(args, allowed, true);\n        try {\n            for (var _b = __values(Object.keys(keys)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var id = _c.value;\n                options[id] = keys[id];\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    },\n    Array: BaseMethods_js_1.default.Array,\n    Macro: BaseMethods_js_1.default.Macro,\n    xArrow: AmsMethods_js_1.AmsMethods.xArrow,\n    HandleRef: AmsMethods_js_1.AmsMethods.HandleRef,\n    AmsEqnArray: AmsMethods_js_1.AmsMethods.AmsEqnArray,\n    MacroWithTemplate: NewcommandMethods_js_1.default.MacroWithTemplate,\n};\n//# sourceMappingURL=MathtoolsMethods.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MathtoolsTagFormat = void 0;\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar Tags_js_1 = require(\"../Tags.js\");\nvar tagID = 0;\nfunction MathtoolsTagFormat(config, jax) {\n    var tags = jax.parseOptions.options.tags;\n    if (tags !== 'base' && config.tags.hasOwnProperty(tags)) {\n        Tags_js_1.TagsFactory.add(tags, config.tags[tags]);\n    }\n    var TagClass = Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor;\n    var TagFormat = (function (_super) {\n        __extends(TagFormat, _super);\n        function TagFormat() {\n            var e_1, _a;\n            var _this = _super.call(this) || this;\n            _this.mtFormats = new Map();\n            _this.mtCurrent = null;\n            var forms = jax.parseOptions.options.mathtools.tagforms;\n            try {\n                for (var _b = __values(Object.keys(forms)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var form = _c.value;\n                    if (!Array.isArray(forms[form]) || forms[form].length !== 3) {\n                        throw new TexError_js_1.default('InvalidTagFormDef', 'The tag form definition for \"%1\" should be an array fo three strings', form);\n                    }\n                    _this.mtFormats.set(form, forms[form]);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return _this;\n        }\n        TagFormat.prototype.formatTag = function (tag) {\n            if (this.mtCurrent) {\n                var _a = __read(this.mtCurrent, 3), left = _a[0], right = _a[1], format = _a[2];\n                return (format ? \"\".concat(left).concat(format, \"{\").concat(tag, \"}\").concat(right) : \"\".concat(left).concat(tag).concat(right));\n            }\n            return _super.prototype.formatTag.call(this, tag);\n        };\n        return TagFormat;\n    }(TagClass));\n    tagID++;\n    var tagName = 'MathtoolsTags-' + tagID;\n    Tags_js_1.TagsFactory.add(tagName, TagFormat);\n    jax.parseOptions.options.tags = tagName;\n}\nexports.MathtoolsTagFormat = MathtoolsTagFormat;\n//# sourceMappingURL=MathtoolsTags.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MathtoolsUtil = void 0;\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar MathtoolsMethods_js_1 = require(\"./MathtoolsMethods.js\");\nvar MathtoolsConfiguration_js_1 = require(\"./MathtoolsConfiguration.js\");\nexports.MathtoolsUtil = {\n    setDisplayLevel: function (mml, style) {\n        if (!style)\n            return;\n        var _a = __read((0, Options_js_1.lookup)(style, {\n            '\\\\displaystyle': [true, 0],\n            '\\\\textstyle': [false, 0],\n            '\\\\scriptstyle': [false, 1],\n            '\\\\scriptscriptstyle': [false, 2]\n        }, [null, null]), 2), display = _a[0], script = _a[1];\n        if (display !== null) {\n            mml.attributes.set('displaystyle', display);\n            mml.attributes.set('scriptlevel', script);\n        }\n    },\n    checkAlignment: function (parser, name) {\n        var top = parser.stack.Top();\n        if (top.kind !== BaseItems_js_1.EqnArrayItem.prototype.kind) {\n            throw new TexError_js_1.default('NotInAlignment', '%1 can only be used in aligment environments', name);\n        }\n        return top;\n    },\n    addPairedDelims: function (config, cs, args) {\n        var delims = config.handlers.retrieve(MathtoolsConfiguration_js_1.PAIREDDELIMS);\n        delims.add(cs, new Symbol_js_1.Macro(cs, MathtoolsMethods_js_1.MathtoolsMethods.PairedDelimiters, args));\n    },\n    spreadLines: function (mtable, spread) {\n        if (!mtable.isKind('mtable'))\n            return;\n        var rowspacing = mtable.attributes.get('rowspacing');\n        if (rowspacing) {\n            var add_1 = ParseUtil_js_1.default.dimen2em(spread);\n            rowspacing = rowspacing\n                .split(/ /)\n                .map(function (s) { return ParseUtil_js_1.default.Em(Math.max(0, ParseUtil_js_1.default.dimen2em(s) + add_1)); })\n                .join(' ');\n        }\n        else {\n            rowspacing = spread;\n        }\n        mtable.attributes.set('rowspacing', rowspacing);\n    },\n    plusOrMinus: function (name, n) {\n        n = n.trim();\n        if (!n.match(/^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)$/)) {\n            throw new TexError_js_1.default('NotANumber', 'Argument to %1 is not a number', name);\n        }\n        return (n.match(/^[-+]/) ? n : '+' + n);\n    },\n    getScript: function (parser, name, pos) {\n        var arg = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n        if (arg === '') {\n            return parser.create('node', 'none');\n        }\n        var format = parser.options.mathtools[\"prescript-\".concat(pos, \"-format\")];\n        format && (arg = \"\".concat(format, \"{\").concat(arg, \"}\"));\n        return new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n    }\n};\n//# sourceMappingURL=MathtoolsUtil.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MhchemConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar AmsMethods_js_1 = require(\"../ams/AmsMethods.js\");\nvar mhchemParser_js_1 = require(\"mhchemparser/dist/mhchemParser.js\");\nvar MhchemMethods = {};\nMhchemMethods.Macro = BaseMethods_js_1.default.Macro;\nMhchemMethods.xArrow = AmsMethods_js_1.AmsMethods.xArrow;\nMhchemMethods.Machine = function (parser, name, machine) {\n    var arg = parser.GetArgument(name);\n    var tex;\n    try {\n        tex = mhchemParser_js_1.mhchemParser.toTex(arg, machine);\n    }\n    catch (err) {\n        throw new TexError_js_1.default(err[0], err[1]);\n    }\n    parser.string = tex + parser.string.substr(parser.i);\n    parser.i = 0;\n};\nnew SymbolMap_js_1.CommandMap('mhchem', {\n    ce: ['Machine', 'ce'],\n    pu: ['Machine', 'pu'],\n    longrightleftharpoons: [\n        'Macro',\n        '\\\\stackrel{\\\\textstyle{-}\\\\!\\\\!{\\\\rightharpoonup}}{\\\\smash{{\\\\leftharpoondown}\\\\!\\\\!{-}}}'\n    ],\n    longRightleftharpoons: [\n        'Macro',\n        '\\\\stackrel{\\\\textstyle{-}\\\\!\\\\!{\\\\rightharpoonup}}{\\\\smash{\\\\leftharpoondown}}'\n    ],\n    longLeftrightharpoons: [\n        'Macro',\n        '\\\\stackrel{\\\\textstyle\\\\vphantom{{-}}{\\\\rightharpoonup}}{\\\\smash{{\\\\leftharpoondown}\\\\!\\\\!{-}}}'\n    ],\n    longleftrightarrows: [\n        'Macro',\n        '\\\\stackrel{\\\\longrightarrow}{\\\\smash{\\\\longleftarrow}\\\\Rule{0px}{.25em}{0px}}'\n    ],\n    tripledash: [\n        'Macro',\n        '\\\\vphantom{-}\\\\raise2mu{\\\\kern2mu\\\\tiny\\\\text{-}\\\\kern1mu\\\\text{-}\\\\kern1mu\\\\text{-}\\\\kern2mu}'\n    ],\n    xleftrightarrow: ['xArrow', 0x2194, 6, 6],\n    xrightleftharpoons: ['xArrow', 0x21CC, 5, 7],\n    xRightleftharpoons: ['xArrow', 0x21CC, 5, 7],\n    xLeftrightharpoons: ['xArrow', 0x21CC, 5, 7]\n}, MhchemMethods);\nexports.MhchemConfiguration = Configuration_js_1.Configuration.create('mhchem', { handler: { macro: ['mhchem'] } });\n//# sourceMappingURL=MhchemConfiguration.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NewcommandConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar NewcommandItems_js_1 = require(\"./NewcommandItems.js\");\nvar NewcommandUtil_js_1 = __importDefault(require(\"./NewcommandUtil.js\"));\nrequire(\"./NewcommandMappings.js\");\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar sm = __importStar(require(\"../SymbolMap.js\"));\nvar init = function (config) {\n    new sm.DelimiterMap(NewcommandUtil_js_1.default.NEW_DELIMITER, ParseMethods_js_1.default.delimiter, {});\n    new sm.CommandMap(NewcommandUtil_js_1.default.NEW_COMMAND, {}, {});\n    new sm.EnvironmentMap(NewcommandUtil_js_1.default.NEW_ENVIRONMENT, ParseMethods_js_1.default.environment, {}, {});\n    config.append(Configuration_js_1.Configuration.local({ handler: { character: [],\n            delimiter: [NewcommandUtil_js_1.default.NEW_DELIMITER],\n            macro: [NewcommandUtil_js_1.default.NEW_DELIMITER,\n                NewcommandUtil_js_1.default.NEW_COMMAND],\n            environment: [NewcommandUtil_js_1.default.NEW_ENVIRONMENT]\n        },\n        priority: -1 }));\n};\nexports.NewcommandConfiguration = Configuration_js_1.Configuration.create('newcommand', {\n    handler: {\n        macro: ['Newcommand-macros']\n    },\n    items: (_a = {},\n        _a[NewcommandItems_js_1.BeginEnvItem.prototype.kind] = NewcommandItems_js_1.BeginEnvItem,\n        _a),\n    options: { maxMacros: 1000 },\n    init: init\n});\n//# sourceMappingURL=NewcommandConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BeginEnvItem = void 0;\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar BeginEnvItem = (function (_super) {\n    __extends(BeginEnvItem, _super);\n    function BeginEnvItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BeginEnvItem.prototype, \"kind\", {\n        get: function () {\n            return 'beginEnv';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BeginEnvItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BeginEnvItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            if (item.getName() !== this.getName()) {\n                throw new TexError_js_1.default('EnvBadEnd', '\\\\begin{%1} ended with \\\\end{%2}', this.getName(), item.getName());\n            }\n            return [[this.factory.create('mml', this.toMml())], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return BeginEnvItem;\n}(StackItem_js_1.BaseItem));\nexports.BeginEnvItem = BeginEnvItem;\n//# sourceMappingURL=NewcommandItems.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NewcommandMethods_js_1 = __importDefault(require(\"./NewcommandMethods.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nnew SymbolMap_js_1.CommandMap('Newcommand-macros', {\n    newcommand: 'NewCommand',\n    renewcommand: 'NewCommand',\n    newenvironment: 'NewEnvironment',\n    renewenvironment: 'NewEnvironment',\n    def: 'MacroDef',\n    'let': 'Let'\n}, NewcommandMethods_js_1.default);\n//# sourceMappingURL=NewcommandMappings.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar sm = __importStar(require(\"../SymbolMap.js\"));\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NewcommandUtil_js_1 = __importDefault(require(\"./NewcommandUtil.js\"));\nvar NewcommandMethods = {};\nNewcommandMethods.NewCommand = function (parser, name) {\n    var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);\n    var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);\n    var opt = parser.GetBrackets(name);\n    var def = parser.GetArgument(name);\n    NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, n, opt]);\n};\nNewcommandMethods.NewEnvironment = function (parser, name) {\n    var env = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);\n    var opt = parser.GetBrackets(name);\n    var bdef = parser.GetArgument(name);\n    var edef = parser.GetArgument(name);\n    NewcommandUtil_js_1.default.addEnvironment(parser, env, NewcommandMethods.BeginEnv, [true, bdef, edef, n, opt]);\n};\nNewcommandMethods.MacroDef = function (parser, name) {\n    var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);\n    var params = NewcommandUtil_js_1.default.GetTemplate(parser, name, '\\\\' + cs);\n    var def = parser.GetArgument(name);\n    !(params instanceof Array) ?\n        NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, params]) :\n        NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.MacroWithTemplate, [def].concat(params));\n};\nNewcommandMethods.Let = function (parser, name) {\n    var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);\n    var c = parser.GetNext();\n    if (c === '=') {\n        parser.i++;\n        c = parser.GetNext();\n    }\n    var handlers = parser.configuration.handlers;\n    if (c === '\\\\') {\n        name = NewcommandUtil_js_1.default.GetCSname(parser, name);\n        var macro_1 = handlers.get('delimiter').lookup('\\\\' + name);\n        if (macro_1) {\n            NewcommandUtil_js_1.default.addDelimiter(parser, '\\\\' + cs, macro_1.char, macro_1.attributes);\n            return;\n        }\n        var map_1 = handlers.get('macro').applicable(name);\n        if (!map_1) {\n            return;\n        }\n        if (map_1 instanceof sm.MacroMap) {\n            var macro_2 = map_1.lookup(name);\n            NewcommandUtil_js_1.default.addMacro(parser, cs, macro_2.func, macro_2.args, macro_2.symbol);\n            return;\n        }\n        macro_1 = map_1.lookup(name);\n        var newArgs = NewcommandUtil_js_1.default.disassembleSymbol(cs, macro_1);\n        var method = function (p, _cs) {\n            var rest = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                rest[_i - 2] = arguments[_i];\n            }\n            var symb = NewcommandUtil_js_1.default.assembleSymbol(rest);\n            return map_1.parser(p, symb);\n        };\n        NewcommandUtil_js_1.default.addMacro(parser, cs, method, newArgs);\n        return;\n    }\n    parser.i++;\n    var macro = handlers.get('delimiter').lookup(c);\n    if (macro) {\n        NewcommandUtil_js_1.default.addDelimiter(parser, '\\\\' + cs, macro.char, macro.attributes);\n        return;\n    }\n    NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [c]);\n};\nNewcommandMethods.MacroWithTemplate = function (parser, name, text, n) {\n    var params = [];\n    for (var _i = 4; _i < arguments.length; _i++) {\n        params[_i - 4] = arguments[_i];\n    }\n    var argCount = parseInt(n, 10);\n    if (argCount) {\n        var args = [];\n        parser.GetNext();\n        if (params[0] && !NewcommandUtil_js_1.default.MatchParam(parser, params[0])) {\n            throw new TexError_js_1.default('MismatchUseDef', 'Use of %1 doesn\\'t match its definition', name);\n        }\n        for (var i = 0; i < argCount; i++) {\n            args.push(NewcommandUtil_js_1.default.GetParameter(parser, name, params[i + 1]));\n        }\n        text = ParseUtil_js_1.default.substituteArgs(parser, args, text);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, text, parser.string.slice(parser.i));\n    parser.i = 0;\n    ParseUtil_js_1.default.checkMaxMacros(parser);\n};\nNewcommandMethods.BeginEnv = function (parser, begin, bdef, edef, n, def) {\n    if (begin.getProperty('end') && parser.stack.env['closing'] === begin.getName()) {\n        delete parser.stack.env['closing'];\n        var rest = parser.string.slice(parser.i);\n        parser.string = edef;\n        parser.i = 0;\n        parser.Parse();\n        parser.string = rest;\n        parser.i = 0;\n        return parser.itemFactory.create('end').setProperty('name', begin.getName());\n    }\n    if (n) {\n        var args = [];\n        if (def != null) {\n            var optional = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n            args.push(optional == null ? def : optional);\n        }\n        for (var i = args.length; i < n; i++) {\n            args.push(parser.GetArgument('\\\\begin{' + begin.getName() + '}'));\n        }\n        bdef = ParseUtil_js_1.default.substituteArgs(parser, args, bdef);\n        edef = ParseUtil_js_1.default.substituteArgs(parser, [], edef);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, bdef, parser.string.slice(parser.i));\n    parser.i = 0;\n    return parser.itemFactory.create('beginEnv').setProperty('name', begin.getName());\n};\nNewcommandMethods.Macro = BaseMethods_js_1.default.Macro;\nexports.default = NewcommandMethods;\n//# sourceMappingURL=NewcommandMethods.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar NewcommandUtil;\n(function (NewcommandUtil) {\n    function disassembleSymbol(name, symbol) {\n        var newArgs = [name, symbol.char];\n        if (symbol.attributes) {\n            for (var key in symbol.attributes) {\n                newArgs.push(key);\n                newArgs.push(symbol.attributes[key]);\n            }\n        }\n        return newArgs;\n    }\n    NewcommandUtil.disassembleSymbol = disassembleSymbol;\n    function assembleSymbol(args) {\n        var name = args[0];\n        var char = args[1];\n        var attrs = {};\n        for (var i = 2; i < args.length; i = i + 2) {\n            attrs[args[i]] = args[i + 1];\n        }\n        return new Symbol_js_1.Symbol(name, char, attrs);\n    }\n    NewcommandUtil.assembleSymbol = assembleSymbol;\n    function GetCSname(parser, cmd) {\n        var c = parser.GetNext();\n        if (c !== '\\\\') {\n            throw new TexError_js_1.default('MissingCS', '%1 must be followed by a control sequence', cmd);\n        }\n        var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(cmd));\n        return cs.substr(1);\n    }\n    NewcommandUtil.GetCSname = GetCSname;\n    function GetCsNameArgument(parser, name) {\n        var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n        if (cs.charAt(0) === '\\\\') {\n            cs = cs.substr(1);\n        }\n        if (!cs.match(/^(.|[a-z]+)$/i)) {\n            throw new TexError_js_1.default('IllegalControlSequenceName', 'Illegal control sequence name for %1', name);\n        }\n        return cs;\n    }\n    NewcommandUtil.GetCsNameArgument = GetCsNameArgument;\n    function GetArgCount(parser, name) {\n        var n = parser.GetBrackets(name);\n        if (n) {\n            n = ParseUtil_js_1.default.trimSpaces(n);\n            if (!n.match(/^[0-9]+$/)) {\n                throw new TexError_js_1.default('IllegalParamNumber', 'Illegal number of parameters specified in %1', name);\n            }\n        }\n        return n;\n    }\n    NewcommandUtil.GetArgCount = GetArgCount;\n    function GetTemplate(parser, cmd, cs) {\n        var c = parser.GetNext();\n        var params = [];\n        var n = 0;\n        var i = parser.i;\n        while (parser.i < parser.string.length) {\n            c = parser.GetNext();\n            if (c === '#') {\n                if (i !== parser.i) {\n                    params[n] = parser.string.substr(i, parser.i - i);\n                }\n                c = parser.string.charAt(++parser.i);\n                if (!c.match(/^[1-9]$/)) {\n                    throw new TexError_js_1.default('CantUseHash2', 'Illegal use of # in template for %1', cs);\n                }\n                if (parseInt(c) !== ++n) {\n                    throw new TexError_js_1.default('SequentialParam', 'Parameters for %1 must be numbered sequentially', cs);\n                }\n                i = parser.i + 1;\n            }\n            else if (c === '{') {\n                if (i !== parser.i) {\n                    params[n] = parser.string.substr(i, parser.i - i);\n                }\n                if (params.length > 0) {\n                    return [n.toString()].concat(params);\n                }\n                else {\n                    return n;\n                }\n            }\n            parser.i++;\n        }\n        throw new TexError_js_1.default('MissingReplacementString', 'Missing replacement string for definition of %1', cmd);\n    }\n    NewcommandUtil.GetTemplate = GetTemplate;\n    function GetParameter(parser, name, param) {\n        if (param == null) {\n            return parser.GetArgument(name);\n        }\n        var i = parser.i;\n        var j = 0;\n        var hasBraces = 0;\n        while (parser.i < parser.string.length) {\n            var c = parser.string.charAt(parser.i);\n            if (c === '{') {\n                if (parser.i === i) {\n                    hasBraces = 1;\n                }\n                parser.GetArgument(name);\n                j = parser.i - i;\n            }\n            else if (MatchParam(parser, param)) {\n                if (hasBraces) {\n                    i++;\n                    j -= 2;\n                }\n                return parser.string.substr(i, j);\n            }\n            else if (c === '\\\\') {\n                parser.i++;\n                j++;\n                hasBraces = 0;\n                var match = parser.string.substr(parser.i).match(/[a-z]+|./i);\n                if (match) {\n                    parser.i += match[0].length;\n                    j = parser.i - i;\n                }\n            }\n            else {\n                parser.i++;\n                j++;\n                hasBraces = 0;\n            }\n        }\n        throw new TexError_js_1.default('RunawayArgument', 'Runaway argument for %1?', name);\n    }\n    NewcommandUtil.GetParameter = GetParameter;\n    function MatchParam(parser, param) {\n        if (parser.string.substr(parser.i, param.length) !== param) {\n            return 0;\n        }\n        if (param.match(/\\\\[a-z]+$/i) &&\n            parser.string.charAt(parser.i + param.length).match(/[a-z]/i)) {\n            return 0;\n        }\n        parser.i += param.length;\n        return 1;\n    }\n    NewcommandUtil.MatchParam = MatchParam;\n    function addDelimiter(parser, cs, char, attr) {\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(NewcommandUtil.NEW_DELIMITER);\n        handler.add(cs, new Symbol_js_1.Symbol(cs, char, attr));\n    }\n    NewcommandUtil.addDelimiter = addDelimiter;\n    function addMacro(parser, cs, func, attr, symbol) {\n        if (symbol === void 0) { symbol = ''; }\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(NewcommandUtil.NEW_COMMAND);\n        handler.add(cs, new Symbol_js_1.Macro(symbol ? symbol : cs, func, attr));\n    }\n    NewcommandUtil.addMacro = addMacro;\n    function addEnvironment(parser, env, func, attr) {\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(NewcommandUtil.NEW_ENVIRONMENT);\n        handler.add(env, new Symbol_js_1.Macro(env, func, attr));\n    }\n    NewcommandUtil.addEnvironment = addEnvironment;\n    NewcommandUtil.NEW_DELIMITER = 'new-Delimiter';\n    NewcommandUtil.NEW_COMMAND = 'new-Command';\n    NewcommandUtil.NEW_ENVIRONMENT = 'new-Environment';\n})(NewcommandUtil || (NewcommandUtil = {}));\nexports.default = NewcommandUtil;\n//# sourceMappingURL=NewcommandUtil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoErrorsConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nfunction noErrors(factory, message, _id, expr) {\n    var mtext = factory.create('token', 'mtext', {}, expr.replace(/\\n/g, ' '));\n    var error = factory.create('node', 'merror', [mtext], { 'data-mjx-error': message, title: message });\n    return error;\n}\nexports.NoErrorsConfiguration = Configuration_js_1.Configuration.create('noerrors', { nodes: { 'error': noErrors } });\n//# sourceMappingURL=NoErrorsConfiguration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoUndefinedConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nfunction noUndefined(parser, name) {\n    var e_1, _a;\n    var textNode = parser.create('text', '\\\\' + name);\n    var options = parser.options.noundefined || {};\n    var def = {};\n    try {\n        for (var _b = __values(['color', 'background', 'size']), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var id = _c.value;\n            if (options[id]) {\n                def['math' + id] = options[id];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    parser.Push(parser.create('node', 'mtext', [], def, textNode));\n}\nexports.NoUndefinedConfiguration = Configuration_js_1.Configuration.create('noundefined', {\n    fallback: { macro: noUndefined },\n    options: {\n        noundefined: {\n            color: 'red',\n            background: '',\n            size: ''\n        }\n    },\n    priority: 3\n});\n//# sourceMappingURL=NoUndefinedConfiguration.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhysicsConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar PhysicsItems_js_1 = require(\"./PhysicsItems.js\");\nrequire(\"./PhysicsMappings.js\");\nexports.PhysicsConfiguration = Configuration_js_1.Configuration.create('physics', {\n    handler: {\n        macro: [\n            'Physics-automatic-bracing-macros',\n            'Physics-vector-macros',\n            'Physics-vector-mo',\n            'Physics-vector-mi',\n            'Physics-derivative-macros',\n            'Physics-expressions-macros',\n            'Physics-quick-quad-macros',\n            'Physics-bra-ket-macros',\n            'Physics-matrix-macros'\n        ],\n        character: ['Physics-characters'],\n        environment: ['Physics-aux-envs']\n    },\n    items: (_a = {},\n        _a[PhysicsItems_js_1.AutoOpen.prototype.kind] = PhysicsItems_js_1.AutoOpen,\n        _a),\n    options: {\n        physics: {\n            italicdiff: false,\n            arrowdel: false\n        }\n    }\n});\n//# sourceMappingURL=PhysicsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoOpen = void 0;\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar AutoOpen = (function (_super) {\n    __extends(AutoOpen, _super);\n    function AutoOpen() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.openCount = 0;\n        return _this;\n    }\n    Object.defineProperty(AutoOpen.prototype, \"kind\", {\n        get: function () {\n            return 'auto open';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AutoOpen.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AutoOpen.prototype.toMml = function () {\n        var parser = this.factory.configuration.parser;\n        var right = this.getProperty('right');\n        if (this.getProperty('smash')) {\n            var mml_1 = _super.prototype.toMml.call(this);\n            var smash = parser.create('node', 'mpadded', [mml_1], { height: 0, depth: 0 });\n            this.Clear();\n            this.Push(parser.create('node', 'TeXAtom', [smash]));\n        }\n        if (right) {\n            this.Push(new TexParser_js_1.default(right, parser.stack.env, parser.configuration).mml());\n        }\n        var mml = ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('open'), _super.prototype.toMml.call(this), this.getProperty('close'), this.getProperty('big'));\n        NodeUtil_js_1.default.removeProperties(mml, 'open', 'close', 'texClass');\n        return mml;\n    };\n    AutoOpen.prototype.checkItem = function (item) {\n        if (item.isKind('mml') && item.Size() === 1) {\n            var mml = item.toMml();\n            if (mml.isKind('mo') && mml.getText() === this.getProperty('open')) {\n                this.openCount++;\n            }\n        }\n        var close = item.getProperty('autoclose');\n        if (close && close === this.getProperty('close') && !this.openCount--) {\n            if (this.getProperty('ignore')) {\n                this.Clear();\n                return [[], true];\n            }\n            return [[this.toMml()], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    AutoOpen.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['ExtraOrMissingDelims', 'Extra open or missing close delimiter']\n    });\n    return AutoOpen;\n}(StackItem_js_1.BaseItem));\nexports.AutoOpen = AutoOpen;\n//# sourceMappingURL=PhysicsItems.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar PhysicsMethods_js_1 = __importDefault(require(\"./PhysicsMethods.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nnew SymbolMap_js_1.CommandMap('Physics-automatic-bracing-macros', {\n    'quantity': 'Quantity',\n    'qty': 'Quantity',\n    'pqty': ['Quantity', '(', ')', true],\n    'bqty': ['Quantity', '[', ']', true],\n    'vqty': ['Quantity', '|', '|', true],\n    'Bqty': ['Quantity', '\\\\{', '\\\\}', true],\n    'absolutevalue': ['Quantity', '|', '|', true],\n    'abs': ['Quantity', '|', '|', true],\n    'norm': ['Quantity', '\\\\|', '\\\\|', true],\n    'evaluated': 'Eval',\n    'eval': 'Eval',\n    'order': ['Quantity', '(', ')', true, 'O',\n        TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    'commutator': 'Commutator',\n    'comm': 'Commutator',\n    'anticommutator': ['Commutator', '\\\\{', '\\\\}'],\n    'acomm': ['Commutator', '\\\\{', '\\\\}'],\n    'poissonbracket': ['Commutator', '\\\\{', '\\\\}'],\n    'pb': ['Commutator', '\\\\{', '\\\\}']\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CharacterMap('Physics-vector-mo', ParseMethods_js_1.default.mathchar0mo, {\n    dotproduct: ['\\u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],\n    vdot: ['\\u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],\n    crossproduct: '\\u00D7',\n    cross: '\\u00D7',\n    cp: '\\u00D7',\n    gradientnabla: ['\\u2207', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }]\n});\nnew SymbolMap_js_1.CharacterMap('Physics-vector-mi', ParseMethods_js_1.default.mathchar0mi, {\n    real: ['\\u211C', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    imaginary: ['\\u2111', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }]\n});\nnew SymbolMap_js_1.CommandMap('Physics-vector-macros', {\n    'vnabla': 'Vnabla',\n    'vectorbold': 'VectorBold',\n    'vb': 'VectorBold',\n    'vectorarrow': ['StarMacro', 1, '\\\\vec{\\\\vb', '{#1}}'],\n    'va': ['StarMacro', 1, '\\\\vec{\\\\vb', '{#1}}'],\n    'vectorunit': ['StarMacro', 1, '\\\\hat{\\\\vb', '{#1}}'],\n    'vu': ['StarMacro', 1, '\\\\hat{\\\\vb', '{#1}}'],\n    'gradient': ['OperatorApplication', '\\\\vnabla', '(', '['],\n    'grad': ['OperatorApplication', '\\\\vnabla', '(', '['],\n    'divergence': ['VectorOperator', '\\\\vnabla\\\\vdot', '(', '['],\n    'div': ['VectorOperator', '\\\\vnabla\\\\vdot', '(', '['],\n    'curl': ['VectorOperator', '\\\\vnabla\\\\crossproduct', '(', '['],\n    'laplacian': ['OperatorApplication', '\\\\nabla^2', '(', '['],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-expressions-macros', {\n    'sin': 'Expression',\n    'sinh': 'Expression',\n    'arcsin': 'Expression',\n    'asin': 'Expression',\n    'cos': 'Expression',\n    'cosh': 'Expression',\n    'arccos': 'Expression',\n    'acos': 'Expression',\n    'tan': 'Expression',\n    'tanh': 'Expression',\n    'arctan': 'Expression',\n    'atan': 'Expression',\n    'csc': 'Expression',\n    'csch': 'Expression',\n    'arccsc': 'Expression',\n    'acsc': 'Expression',\n    'sec': 'Expression',\n    'sech': 'Expression',\n    'arcsec': 'Expression',\n    'asec': 'Expression',\n    'cot': 'Expression',\n    'coth': 'Expression',\n    'arccot': 'Expression',\n    'acot': 'Expression',\n    'exp': ['Expression', false],\n    'log': 'Expression',\n    'ln': 'Expression',\n    'det': ['Expression', false],\n    'Pr': ['Expression', false],\n    'tr': ['Expression', false],\n    'trace': ['Expression', false, 'tr'],\n    'Tr': ['Expression', false],\n    'Trace': ['Expression', false, 'Tr'],\n    'rank': 'NamedFn',\n    'erf': ['Expression', false],\n    'Residue': ['Macro', '\\\\mathrm{Res}'],\n    'Res': ['OperatorApplication', '\\\\Residue', '(', '[', '{'],\n    'principalvalue': ['OperatorApplication', '{\\\\cal P}'],\n    'pv': ['OperatorApplication', '{\\\\cal P}'],\n    'PV': ['OperatorApplication', '{\\\\rm P.V.}'],\n    'Re': ['OperatorApplication', '\\\\mathrm{Re}', '{'],\n    'Im': ['OperatorApplication', '\\\\mathrm{Im}', '{'],\n    'sine': ['NamedFn', 'sin'],\n    'hypsine': ['NamedFn', 'sinh'],\n    'arcsine': ['NamedFn', 'arcsin'],\n    'asine': ['NamedFn', 'asin'],\n    'cosine': ['NamedFn', 'cos'],\n    'hypcosine': ['NamedFn', 'cosh'],\n    'arccosine': ['NamedFn', 'arccos'],\n    'acosine': ['NamedFn', 'acos'],\n    'tangent': ['NamedFn', 'tan'],\n    'hyptangent': ['NamedFn', 'tanh'],\n    'arctangent': ['NamedFn', 'arctan'],\n    'atangent': ['NamedFn', 'atan'],\n    'cosecant': ['NamedFn', 'csc'],\n    'hypcosecant': ['NamedFn', 'csch'],\n    'arccosecant': ['NamedFn', 'arccsc'],\n    'acosecant': ['NamedFn', 'acsc'],\n    'secant': ['NamedFn', 'sec'],\n    'hypsecant': ['NamedFn', 'sech'],\n    'arcsecant': ['NamedFn', 'arcsec'],\n    'asecant': ['NamedFn', 'asec'],\n    'cotangent': ['NamedFn', 'cot'],\n    'hypcotangent': ['NamedFn', 'coth'],\n    'arccotangent': ['NamedFn', 'arccot'],\n    'acotangent': ['NamedFn', 'acot'],\n    'exponential': ['NamedFn', 'exp'],\n    'logarithm': ['NamedFn', 'log'],\n    'naturallogarithm': ['NamedFn', 'ln'],\n    'determinant': ['NamedFn', 'det'],\n    'Probability': ['NamedFn', 'Pr'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-quick-quad-macros', {\n    'qqtext': 'Qqtext',\n    'qq': 'Qqtext',\n    'qcomma': ['Macro', '\\\\qqtext*{,}'],\n    'qc': ['Macro', '\\\\qqtext*{,}'],\n    'qcc': ['Qqtext', 'c.c.'],\n    'qif': ['Qqtext', 'if'],\n    'qthen': ['Qqtext', 'then'],\n    'qelse': ['Qqtext', 'else'],\n    'qotherwise': ['Qqtext', 'otherwise'],\n    'qunless': ['Qqtext', 'unless'],\n    'qgiven': ['Qqtext', 'given'],\n    'qusing': ['Qqtext', 'using'],\n    'qassume': ['Qqtext', 'assume'],\n    'qsince': ['Qqtext', 'since'],\n    'qlet': ['Qqtext', 'let'],\n    'qfor': ['Qqtext', 'for'],\n    'qall': ['Qqtext', 'all'],\n    'qeven': ['Qqtext', 'even'],\n    'qodd': ['Qqtext', 'odd'],\n    'qinteger': ['Qqtext', 'integer'],\n    'qand': ['Qqtext', 'and'],\n    'qor': ['Qqtext', 'or'],\n    'qas': ['Qqtext', 'as'],\n    'qin': ['Qqtext', 'in'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-derivative-macros', {\n    'diffd': 'DiffD',\n    'flatfrac': ['Macro', '\\\\left.#1\\\\middle/#2\\\\right.', 2],\n    'differential': ['Differential', '\\\\diffd'],\n    'dd': ['Differential', '\\\\diffd'],\n    'variation': ['Differential', '\\\\delta'],\n    'var': ['Differential', '\\\\delta'],\n    'derivative': ['Derivative', 2, '\\\\diffd'],\n    'dv': ['Derivative', 2, '\\\\diffd'],\n    'partialderivative': ['Derivative', 3, '\\\\partial'],\n    'pderivative': ['Derivative', 3, '\\\\partial'],\n    'pdv': ['Derivative', 3, '\\\\partial'],\n    'functionalderivative': ['Derivative', 2, '\\\\delta'],\n    'fderivative': ['Derivative', 2, '\\\\delta'],\n    'fdv': ['Derivative', 2, '\\\\delta'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-bra-ket-macros', {\n    'bra': 'Bra',\n    'ket': 'Ket',\n    'innerproduct': 'BraKet',\n    'ip': 'BraKet',\n    'braket': 'BraKet',\n    'outerproduct': 'KetBra',\n    'dyad': 'KetBra',\n    'ketbra': 'KetBra',\n    'op': 'KetBra',\n    'expectationvalue': 'Expectation',\n    'expval': 'Expectation',\n    'ev': 'Expectation',\n    'matrixelement': 'MatrixElement',\n    'matrixel': 'MatrixElement',\n    'mel': 'MatrixElement',\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-matrix-macros', {\n    'matrixquantity': 'MatrixQuantity',\n    'mqty': 'MatrixQuantity',\n    'pmqty': ['Macro', '\\\\mqty(#1)', 1],\n    'Pmqty': ['Macro', '\\\\mqty*(#1)', 1],\n    'bmqty': ['Macro', '\\\\mqty[#1]', 1],\n    'vmqty': ['Macro', '\\\\mqty|#1|', 1],\n    'smallmatrixquantity': ['MatrixQuantity', true],\n    'smqty': ['MatrixQuantity', true],\n    'spmqty': ['Macro', '\\\\smqty(#1)', 1],\n    'sPmqty': ['Macro', '\\\\smqty*(#1)', 1],\n    'sbmqty': ['Macro', '\\\\smqty[#1]', 1],\n    'svmqty': ['Macro', '\\\\smqty|#1|', 1],\n    'matrixdeterminant': ['Macro', '\\\\vmqty{#1}', 1],\n    'mdet': ['Macro', '\\\\vmqty{#1}', 1],\n    'smdet': ['Macro', '\\\\svmqty{#1}', 1],\n    'identitymatrix': 'IdentityMatrix',\n    'imat': 'IdentityMatrix',\n    'xmatrix': 'XMatrix',\n    'xmat': 'XMatrix',\n    'zeromatrix': ['Macro', '\\\\xmat{0}{#1}{#2}', 2],\n    'zmat': ['Macro', '\\\\xmat{0}{#1}{#2}', 2],\n    'paulimatrix': 'PauliMatrix',\n    'pmat': 'PauliMatrix',\n    'diagonalmatrix': 'DiagonalMatrix',\n    'dmat': 'DiagonalMatrix',\n    'antidiagonalmatrix': ['DiagonalMatrix', true],\n    'admat': ['DiagonalMatrix', true]\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.EnvironmentMap('Physics-aux-envs', ParseMethods_js_1.default.environment, {\n    smallmatrix: ['Array', null, null, null, 'c', '0.333em', '.2em', 'S', 1]\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.MacroMap('Physics-characters', {\n    '|': ['AutoClose', MmlNode_js_1.TEXCLASS.ORD],\n    ')': 'AutoClose',\n    ']': 'AutoClose'\n}, PhysicsMethods_js_1.default);\n//# sourceMappingURL=PhysicsMappings.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar NodeFactory_js_1 = require(\"../NodeFactory.js\");\nvar PhysicsMethods = {};\nvar pairs = {\n    '(': ')',\n    '[': ']',\n    '{': '}',\n    '|': '|',\n};\nvar biggs = /^(b|B)i(g{1,2})$/;\nPhysicsMethods.Quantity = function (parser, name, open, close, arg, named, variant) {\n    if (open === void 0) { open = '('; }\n    if (close === void 0) { close = ')'; }\n    if (arg === void 0) { arg = false; }\n    if (named === void 0) { named = ''; }\n    if (variant === void 0) { variant = ''; }\n    var star = arg ? parser.GetStar() : false;\n    var next = parser.GetNext();\n    var position = parser.i;\n    var big = null;\n    if (next === '\\\\') {\n        parser.i++;\n        big = parser.GetCS();\n        if (!big.match(biggs)) {\n            var empty = parser.create('node', 'mrow');\n            parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));\n            parser.i = position;\n            return;\n        }\n        next = parser.GetNext();\n    }\n    var right = pairs[next];\n    if (arg && next !== '{') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    if (!right) {\n        var empty = parser.create('node', 'mrow');\n        parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));\n        parser.i = position;\n        return;\n    }\n    if (named) {\n        var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, named);\n        if (variant) {\n            NodeUtil_js_1.default.setAttribute(mml, 'mathvariant', variant);\n        }\n        parser.Push(parser.itemFactory.create('fn', mml));\n    }\n    if (next === '{') {\n        var argument = parser.GetArgument(name);\n        next = arg ? open : '\\\\{';\n        right = arg ? close : '\\\\}';\n        argument = star ? next + ' ' + argument + ' ' + right :\n            (big ?\n                '\\\\' + big + 'l' + next + ' ' + argument + ' ' + '\\\\' + big + 'r' + right :\n                '\\\\left' + next + ' ' + argument + ' ' + '\\\\right' + right);\n        parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n        return;\n    }\n    if (arg) {\n        next = open;\n        right = close;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: next, close: right, big: big }));\n};\nPhysicsMethods.Eval = function (parser, name) {\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    if (next === '{') {\n        var arg = parser.GetArgument(name);\n        var replace = '\\\\left. ' +\n            (star ? '\\\\smash{' + arg + '}' : arg) +\n            ' ' + '\\\\vphantom{\\\\int}\\\\right|';\n        parser.string = parser.string.slice(0, parser.i) + replace +\n            parser.string.slice(parser.i);\n        return;\n    }\n    if (next === '(' || next === '[') {\n        parser.i++;\n        parser.Push(parser.itemFactory.create('auto open')\n            .setProperties({ open: next, close: '|',\n            smash: star, right: '\\\\vphantom{\\\\int}' }));\n        return;\n    }\n    throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n};\nPhysicsMethods.Commutator = function (parser, name, open, close) {\n    if (open === void 0) { open = '['; }\n    if (close === void 0) { close = ']'; }\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    var big = null;\n    if (next === '\\\\') {\n        parser.i++;\n        big = parser.GetCS();\n        if (!big.match(biggs)) {\n            throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n        }\n        next = parser.GetNext();\n    }\n    if (next !== '{') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var argument = arg1 + ',' + arg2;\n    argument = star ? open + ' ' + argument + ' ' + close :\n        (big ?\n            '\\\\' + big + 'l' + open + ' ' + argument + ' ' + '\\\\' + big + 'r' + close :\n            '\\\\left' + open + ' ' + argument + ' ' + '\\\\right' + close);\n    parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n};\nvar latinCap = [0x41, 0x5A];\nvar latinSmall = [0x61, 0x7A];\nvar greekCap = [0x391, 0x3A9];\nvar greekSmall = [0x3B1, 0x3C9];\nvar digits = [0x30, 0x39];\nfunction inRange(value, range) {\n    return (value >= range[0] && value <= range[1]);\n}\nfunction createVectorToken(factory, kind, def, text) {\n    var parser = factory.configuration.parser;\n    var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);\n    var code = text.codePointAt(0);\n    if (text.length === 1 && !parser.stack.env.font &&\n        parser.stack.env.vectorFont &&\n        (inRange(code, latinCap) || inRange(code, latinSmall) ||\n            inRange(code, greekCap) || inRange(code, digits) ||\n            (inRange(code, greekSmall) && parser.stack.env.vectorStar) ||\n            NodeUtil_js_1.default.getAttribute(token, 'accent'))) {\n        NodeUtil_js_1.default.setAttribute(token, 'mathvariant', parser.stack.env.vectorFont);\n    }\n    return token;\n}\nPhysicsMethods.VectorBold = function (parser, name) {\n    var star = parser.GetStar();\n    var arg = parser.GetArgument(name);\n    var oldToken = parser.configuration.nodeFactory.get('token');\n    var oldFont = parser.stack.env.font;\n    delete parser.stack.env.font;\n    parser.configuration.nodeFactory.set('token', createVectorToken);\n    parser.stack.env.vectorFont = star ? 'bold-italic' : 'bold';\n    parser.stack.env.vectorStar = star;\n    var node = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n    if (oldFont) {\n        parser.stack.env.font = oldFont;\n    }\n    delete parser.stack.env.vectorFont;\n    delete parser.stack.env.vectorStar;\n    parser.configuration.nodeFactory.set('token', oldToken);\n    parser.Push(node);\n};\nPhysicsMethods.StarMacro = function (parser, name, argcount) {\n    var parts = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        parts[_i - 3] = arguments[_i];\n    }\n    var star = parser.GetStar();\n    var args = [];\n    if (argcount) {\n        for (var i = args.length; i < argcount; i++) {\n            args.push(parser.GetArgument(name));\n        }\n    }\n    var macro = parts.join(star ? '*' : '');\n    macro = ParseUtil_js_1.default.substituteArgs(parser, args, macro);\n    parser.string = ParseUtil_js_1.default.addArgs(parser, macro, parser.string.slice(parser.i));\n    parser.i = 0;\n    ParseUtil_js_1.default.checkMaxMacros(parser);\n};\nvar vectorApplication = function (parser, kind, name, operator, fences) {\n    var op = new TexParser_js_1.default(operator, parser.stack.env, parser.configuration).mml();\n    parser.Push(parser.itemFactory.create(kind, op));\n    var left = parser.GetNext();\n    var right = pairs[left];\n    if (!right) {\n        return;\n    }\n    var lfence = '', rfence = '', arg = '';\n    var enlarge = fences.indexOf(left) !== -1;\n    if (left === '{') {\n        arg = parser.GetArgument(name);\n        lfence = enlarge ? '\\\\left\\\\{' : '';\n        rfence = enlarge ? '\\\\right\\\\}' : '';\n        var macro = lfence + ' ' + arg + ' ' + rfence;\n        parser.string = macro + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    if (!enlarge) {\n        return;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: left, close: right }));\n};\nPhysicsMethods.OperatorApplication = function (parser, name, operator) {\n    var fences = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        fences[_i - 3] = arguments[_i];\n    }\n    vectorApplication(parser, 'fn', name, operator, fences);\n};\nPhysicsMethods.VectorOperator = function (parser, name, operator) {\n    var fences = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        fences[_i - 3] = arguments[_i];\n    }\n    vectorApplication(parser, 'mml', name, operator, fences);\n};\nPhysicsMethods.Expression = function (parser, name, opt, id) {\n    if (opt === void 0) { opt = true; }\n    if (id === void 0) { id = ''; }\n    id = id || name.slice(1);\n    var exp = opt ? parser.GetBrackets(name) : null;\n    var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, id);\n    if (exp) {\n        var sup = new TexParser_js_1.default(exp, parser.stack.env, parser.configuration).mml();\n        mml = parser.create('node', 'msup', [mml, sup]);\n    }\n    parser.Push(parser.itemFactory.create('fn', mml));\n    if (parser.GetNext() !== '(') {\n        return;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: '(', close: ')' }));\n};\nPhysicsMethods.Qqtext = function (parser, name, text) {\n    var star = parser.GetStar();\n    var arg = text ? text : parser.GetArgument(name);\n    var replace = (star ? '' : '\\\\quad') + '\\\\text{' + arg + '}\\\\quad ';\n    parser.string = parser.string.slice(0, parser.i) + replace +\n        parser.string.slice(parser.i);\n};\nPhysicsMethods.Differential = function (parser, name, op) {\n    var optArg = parser.GetBrackets(name);\n    var power = optArg != null ? '^{' + optArg + '}' : ' ';\n    var parens = parser.GetNext() === '(';\n    var braces = parser.GetNext() === '{';\n    var macro = op + power;\n    if (!(parens || braces)) {\n        macro += parser.GetArgument(name, true) || '';\n        var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();\n        parser.Push(mml);\n        return;\n    }\n    if (braces) {\n        macro += parser.GetArgument(name);\n        var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();\n        parser.Push(parser.create('node', 'TeXAtom', [mml], { texClass: MmlNode_js_1.TEXCLASS.OP }));\n        return;\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: '(', close: ')' }));\n};\nPhysicsMethods.Derivative = function (parser, name, argMax, op) {\n    var star = parser.GetStar();\n    var optArg = parser.GetBrackets(name);\n    var argCounter = 1;\n    var args = [];\n    args.push(parser.GetArgument(name));\n    while (parser.GetNext() === '{' && argCounter < argMax) {\n        args.push(parser.GetArgument(name));\n        argCounter++;\n    }\n    var ignore = false;\n    var power1 = ' ';\n    var power2 = ' ';\n    if (argMax > 2 && args.length > 2) {\n        power1 = '^{' + (args.length - 1) + '}';\n        ignore = true;\n    }\n    else if (optArg != null) {\n        if (argMax > 2 && args.length > 1) {\n            ignore = true;\n        }\n        power1 = '^{' + optArg + '}';\n        power2 = power1;\n    }\n    var frac = star ? '\\\\flatfrac' : '\\\\frac';\n    var first = args.length > 1 ? args[0] : '';\n    var second = args.length > 1 ? args[1] : args[0];\n    var rest = '';\n    for (var i = 2, arg = void 0; arg = args[i]; i++) {\n        rest += op + ' ' + arg;\n    }\n    var macro = frac + '{' + op + power1 + first + '}' +\n        '{' + op + ' ' + second + power2 + ' ' + rest + '}';\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n    if (parser.GetNext() === '(') {\n        parser.i++;\n        parser.Push(parser.itemFactory.create('auto open')\n            .setProperties({ open: '(', close: ')', ignore: ignore }));\n    }\n};\nPhysicsMethods.Bra = function (parser, name) {\n    var starBra = parser.GetStar();\n    var bra = parser.GetArgument(name);\n    var ket = '';\n    var hasKet = false;\n    var starKet = false;\n    if (parser.GetNext() === '\\\\') {\n        var saveI = parser.i;\n        parser.i++;\n        var cs = parser.GetCS();\n        var symbol = parser.lookup('macro', cs);\n        if (symbol && symbol.symbol === 'ket') {\n            hasKet = true;\n            saveI = parser.i;\n            starKet = parser.GetStar();\n            if (parser.GetNext() === '{') {\n                ket = parser.GetArgument(cs, true);\n            }\n            else {\n                parser.i = saveI;\n                starKet = false;\n            }\n        }\n        else {\n            parser.i = saveI;\n        }\n    }\n    var macro = '';\n    if (hasKet) {\n        macro = (starBra || starKet) ?\n            \"\\\\langle{\".concat(bra, \"}\\\\vert{\").concat(ket, \"}\\\\rangle\") :\n            \"\\\\left\\\\langle{\".concat(bra, \"}\\\\middle\\\\vert{\").concat(ket, \"}\\\\right\\\\rangle\");\n    }\n    else {\n        macro = (starBra || starKet) ?\n            \"\\\\langle{\".concat(bra, \"}\\\\vert\") : \"\\\\left\\\\langle{\".concat(bra, \"}\\\\right\\\\vert{\").concat(ket, \"}\");\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.Ket = function (parser, name) {\n    var star = parser.GetStar();\n    var ket = parser.GetArgument(name);\n    var macro = star ? \"\\\\vert{\".concat(ket, \"}\\\\rangle\") :\n        \"\\\\left\\\\vert{\".concat(ket, \"}\\\\right\\\\rangle\");\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.BraKet = function (parser, name) {\n    var star = parser.GetStar();\n    var bra = parser.GetArgument(name);\n    var ket = null;\n    if (parser.GetNext() === '{') {\n        ket = parser.GetArgument(name, true);\n    }\n    var macro = '';\n    if (ket == null) {\n        macro = star ?\n            \"\\\\langle{\".concat(bra, \"}\\\\vert{\").concat(bra, \"}\\\\rangle\") :\n            \"\\\\left\\\\langle{\".concat(bra, \"}\\\\middle\\\\vert{\").concat(bra, \"}\\\\right\\\\rangle\");\n    }\n    else {\n        macro = star ?\n            \"\\\\langle{\".concat(bra, \"}\\\\vert{\").concat(ket, \"}\\\\rangle\") :\n            \"\\\\left\\\\langle{\".concat(bra, \"}\\\\middle\\\\vert{\").concat(ket, \"}\\\\right\\\\rangle\");\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.KetBra = function (parser, name) {\n    var star = parser.GetStar();\n    var ket = parser.GetArgument(name);\n    var bra = null;\n    if (parser.GetNext() === '{') {\n        bra = parser.GetArgument(name, true);\n    }\n    var macro = '';\n    if (bra == null) {\n        macro = star ?\n            \"\\\\vert{\".concat(ket, \"}\\\\rangle\\\\!\\\\langle{\").concat(ket, \"}\\\\vert\") :\n            \"\\\\left\\\\vert{\".concat(ket, \"}\\\\middle\\\\rangle\\\\!\\\\middle\\\\langle{\").concat(ket, \"}\\\\right\\\\vert\");\n    }\n    else {\n        macro = star ?\n            \"\\\\vert{\".concat(ket, \"}\\\\rangle\\\\!\\\\langle{\").concat(bra, \"}\\\\vert\") :\n            \"\\\\left\\\\vert{\".concat(ket, \"}\\\\middle\\\\rangle\\\\!\\\\middle\\\\langle{\").concat(bra, \"}\\\\right\\\\vert\");\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nfunction outputBraket(_a, star1, star2) {\n    var _b = __read(_a, 3), arg1 = _b[0], arg2 = _b[1], arg3 = _b[2];\n    return (star1 && star2) ?\n        \"\\\\left\\\\langle{\".concat(arg1, \"}\\\\middle\\\\vert{\").concat(arg2, \"}\\\\middle\\\\vert{\").concat(arg3, \"}\\\\right\\\\rangle\") :\n        (star1 ? \"\\\\langle{\".concat(arg1, \"}\\\\vert{\").concat(arg2, \"}\\\\vert{\").concat(arg3, \"}\\\\rangle\") :\n            \"\\\\left\\\\langle{\".concat(arg1, \"}\\\\right\\\\vert{\").concat(arg2, \"}\\\\left\\\\vert{\").concat(arg3, \"}\\\\right\\\\rangle\"));\n}\nPhysicsMethods.Expectation = function (parser, name) {\n    var star1 = parser.GetStar();\n    var star2 = star1 && parser.GetStar();\n    var arg1 = parser.GetArgument(name);\n    var arg2 = null;\n    if (parser.GetNext() === '{') {\n        arg2 = parser.GetArgument(name, true);\n    }\n    var macro = (arg1 && arg2) ?\n        outputBraket([arg2, arg1, arg2], star1, star2) :\n        (star1 ? \"\\\\langle {\".concat(arg1, \"} \\\\rangle\") :\n            \"\\\\left\\\\langle {\".concat(arg1, \"} \\\\right\\\\rangle\"));\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.MatrixElement = function (parser, name) {\n    var star1 = parser.GetStar();\n    var star2 = star1 && parser.GetStar();\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var arg3 = parser.GetArgument(name);\n    var macro = outputBraket([arg1, arg2, arg3], star1, star2);\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.MatrixQuantity = function (parser, name, small) {\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    var array = small ? 'smallmatrix' : 'array';\n    var arg = '';\n    var open = '';\n    var close = '';\n    switch (next) {\n        case '{':\n            arg = parser.GetArgument(name);\n            break;\n        case '(':\n            parser.i++;\n            open = star ? '\\\\lgroup' : '(';\n            close = star ? '\\\\rgroup' : ')';\n            arg = parser.GetUpTo(name, ')');\n            break;\n        case '[':\n            parser.i++;\n            open = '[';\n            close = ']';\n            arg = parser.GetUpTo(name, ']');\n            break;\n        case '|':\n            parser.i++;\n            open = '|';\n            close = '|';\n            arg = parser.GetUpTo(name, '|');\n            break;\n        default:\n            open = '(';\n            close = ')';\n            break;\n    }\n    var macro = (open ? '\\\\left' : '') + open +\n        '\\\\begin{' + array + '}{} ' + arg + '\\\\end{' + array + '}' +\n        (open ? '\\\\right' : '') + close;\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.IdentityMatrix = function (parser, name) {\n    var arg = parser.GetArgument(name);\n    var size = parseInt(arg, 10);\n    if (isNaN(size)) {\n        throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n    }\n    if (size <= 1) {\n        parser.string = '1' + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    var zeros = Array(size).fill('0');\n    var columns = [];\n    for (var i = 0; i < size; i++) {\n        var row = zeros.slice();\n        row[i] = '1';\n        columns.push(row.join(' & '));\n    }\n    parser.string = columns.join('\\\\\\\\ ') + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nPhysicsMethods.XMatrix = function (parser, name) {\n    var star = parser.GetStar();\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var arg3 = parser.GetArgument(name);\n    var n = parseInt(arg2, 10);\n    var m = parseInt(arg3, 10);\n    if (isNaN(n) || isNaN(m) || m.toString() !== arg3 || n.toString() !== arg2) {\n        throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n    }\n    n = n < 1 ? 1 : n;\n    m = m < 1 ? 1 : m;\n    if (!star) {\n        var row = Array(m).fill(arg1).join(' & ');\n        var matrix_1 = Array(n).fill(row).join('\\\\\\\\ ');\n        parser.string = matrix_1 + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    var matrix = '';\n    if (n === 1 && m === 1) {\n        matrix = arg1;\n    }\n    else if (n === 1) {\n        var row = [];\n        for (var i = 1; i <= m; i++) {\n            row.push(\"\".concat(arg1, \"_{\").concat(i, \"}\"));\n        }\n        matrix = row.join(' & ');\n    }\n    else if (m === 1) {\n        var row = [];\n        for (var i = 1; i <= n; i++) {\n            row.push(\"\".concat(arg1, \"_{\").concat(i, \"}\"));\n        }\n        matrix = row.join('\\\\\\\\ ');\n    }\n    else {\n        var rows = [];\n        for (var i = 1; i <= n; i++) {\n            var row = [];\n            for (var j = 1; j <= m; j++) {\n                row.push(\"\".concat(arg1, \"_{{\").concat(i, \"}{\").concat(j, \"}}\"));\n            }\n            rows.push(row.join(' & '));\n        }\n        matrix = rows.join('\\\\\\\\ ');\n    }\n    parser.string = matrix + parser.string.slice(parser.i);\n    parser.i = 0;\n    return;\n};\nPhysicsMethods.PauliMatrix = function (parser, name) {\n    var arg = parser.GetArgument(name);\n    var matrix = arg.slice(1);\n    switch (arg[0]) {\n        case '0':\n            matrix += ' 1 & 0\\\\\\\\ 0 & 1';\n            break;\n        case '1':\n        case 'x':\n            matrix += ' 0 & 1\\\\\\\\ 1 & 0';\n            break;\n        case '2':\n        case 'y':\n            matrix += ' 0 & -i\\\\\\\\ i & 0';\n            break;\n        case '3':\n        case 'z':\n            matrix += ' 1 & 0\\\\\\\\ 0 & -1';\n            break;\n        default:\n    }\n    parser.string = matrix + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nPhysicsMethods.DiagonalMatrix = function (parser, name, anti) {\n    if (parser.GetNext() !== '{') {\n        return;\n    }\n    var startI = parser.i;\n    parser.GetArgument(name);\n    var endI = parser.i;\n    parser.i = startI + 1;\n    var elements = [];\n    var element = '';\n    var currentI = parser.i;\n    while (currentI < endI) {\n        try {\n            element = parser.GetUpTo(name, ',');\n        }\n        catch (e) {\n            parser.i = endI;\n            elements.push(parser.string.slice(currentI, endI - 1));\n            break;\n        }\n        if (parser.i >= endI) {\n            elements.push(parser.string.slice(currentI, endI));\n            break;\n        }\n        currentI = parser.i;\n        elements.push(element);\n    }\n    parser.string = makeDiagMatrix(elements, anti) + parser.string.slice(endI);\n    parser.i = 0;\n};\nfunction makeDiagMatrix(elements, anti) {\n    var length = elements.length;\n    var matrix = [];\n    for (var i = 0; i < length; i++) {\n        matrix.push(Array(anti ? length - i : i + 1).join('&') +\n            '\\\\mqty{' + elements[i] + '}');\n    }\n    return matrix.join('\\\\\\\\ ');\n}\nPhysicsMethods.AutoClose = function (parser, fence, _texclass) {\n    var mo = parser.create('token', 'mo', { stretchy: false }, fence);\n    var item = parser.itemFactory.create('mml', mo).\n        setProperties({ autoclose: fence });\n    parser.Push(item);\n};\nPhysicsMethods.Vnabla = function (parser, _name) {\n    var argument = parser.options.physics.arrowdel ?\n        '\\\\vec{\\\\gradientnabla}' : '{\\\\gradientnabla}';\n    return parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.DiffD = function (parser, _name) {\n    var argument = parser.options.physics.italicdiff ? 'd' : '{\\\\rm d}';\n    return parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.Macro = BaseMethods_js_1.default.Macro;\nPhysicsMethods.NamedFn = BaseMethods_js_1.default.NamedFn;\nPhysicsMethods.Array = BaseMethods_js_1.default.Array;\nexports.default = PhysicsMethods;\n//# sourceMappingURL=PhysicsMethods.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SetOptionsConfiguration = exports.SetOptionsUtil = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nvar Options_js_1 = require(\"../../../util/Options.js\");\nexports.SetOptionsUtil = {\n    filterPackage: function (parser, extension) {\n        if (extension !== 'tex' && !Configuration_js_1.ConfigurationHandler.get(extension)) {\n            throw new TexError_js_1.default('NotAPackage', 'Not a defined package: %1', extension);\n        }\n        var config = parser.options.setoptions;\n        var options = config.allowOptions[extension];\n        if ((options === undefined && !config.allowPackageDefault) || options === false) {\n            throw new TexError_js_1.default('PackageNotSettable', 'Options can\\'t be set for package \"%1\"', extension);\n        }\n        return true;\n    },\n    filterOption: function (parser, extension, option) {\n        var _a;\n        var config = parser.options.setoptions;\n        var options = config.allowOptions[extension] || {};\n        var allow = (options.hasOwnProperty(option) && !(0, Options_js_1.isObject)(options[option]) ? options[option] : null);\n        if (allow === false || (allow === null && !config.allowOptionsDefault)) {\n            throw new TexError_js_1.default('OptionNotSettable', 'Option \"%1\" is not allowed to be set', option);\n        }\n        if (!((_a = (extension === 'tex' ? parser.options : parser.options[extension])) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(option))) {\n            if (extension === 'tex') {\n                throw new TexError_js_1.default('InvalidTexOption', 'Invalid TeX option \"%1\"', option);\n            }\n            else {\n                throw new TexError_js_1.default('InvalidOptionKey', 'Invalid option \"%1\" for package \"%2\"', option, extension);\n            }\n        }\n        return true;\n    },\n    filterValue: function (_parser, _extension, _option, value) {\n        return value;\n    }\n};\nvar setOptionsMap = new SymbolMap_js_1.CommandMap('setoptions', {\n    setOptions: 'SetOptions'\n}, {\n    SetOptions: function (parser, name) {\n        var e_1, _a;\n        var extension = parser.GetBrackets(name) || 'tex';\n        var options = ParseUtil_js_1.default.keyvalOptions(parser.GetArgument(name));\n        var config = parser.options.setoptions;\n        if (!config.filterPackage(parser, extension))\n            return;\n        try {\n            for (var _b = __values(Object.keys(options)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                if (config.filterOption(parser, extension, key)) {\n                    (extension === 'tex' ? parser.options : parser.options[extension])[key] =\n                        config.filterValue(parser, extension, key, options[key]);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n});\nfunction setoptionsConfig(_config, jax) {\n    var require = jax.parseOptions.handlers.get('macro').lookup('require');\n    if (require) {\n        setOptionsMap.add('Require', new Symbol_js_1.Macro('Require', require._func));\n        setOptionsMap.add('require', new Symbol_js_1.Macro('require', BaseMethods_js_1.default.Macro, ['\\\\Require{#2}\\\\setOptions[#2]{#1}', 2, '']));\n    }\n}\nexports.SetOptionsConfiguration = Configuration_js_1.Configuration.create('setoptions', {\n    handler: { macro: ['setoptions'] },\n    config: setoptionsConfig,\n    priority: 3,\n    options: {\n        setoptions: {\n            filterPackage: exports.SetOptionsUtil.filterPackage,\n            filterOption: exports.SetOptionsUtil.filterOption,\n            filterValue: exports.SetOptionsUtil.filterValue,\n            allowPackageDefault: true,\n            allowOptionsDefault: true,\n            allowOptions: (0, Options_js_1.expandable)({\n                tex: {\n                    FindTeX: false,\n                    formatError: false,\n                    package: false,\n                    baseURL: false,\n                    tags: false,\n                    maxBuffer: false,\n                    maxMaxros: false,\n                    macros: false,\n                    environments: false\n                },\n                setoptions: false,\n                autoload: false,\n                require: false,\n                configmacros: false,\n                tagformat: false\n            })\n        }\n    }\n});\n//# sourceMappingURL=SetOptionsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TagFormatConfiguration = exports.tagformatConfig = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nvar tagID = 0;\nfunction tagformatConfig(config, jax) {\n    var tags = jax.parseOptions.options.tags;\n    if (tags !== 'base' && config.tags.hasOwnProperty(tags)) {\n        Tags_js_1.TagsFactory.add(tags, config.tags[tags]);\n    }\n    var TagClass = Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor;\n    var TagFormat = (function (_super) {\n        __extends(TagFormat, _super);\n        function TagFormat() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TagFormat.prototype.formatNumber = function (n) {\n            return jax.parseOptions.options.tagformat.number(n);\n        };\n        TagFormat.prototype.formatTag = function (tag) {\n            return jax.parseOptions.options.tagformat.tag(tag);\n        };\n        TagFormat.prototype.formatId = function (id) {\n            return jax.parseOptions.options.tagformat.id(id);\n        };\n        TagFormat.prototype.formatUrl = function (id, base) {\n            return jax.parseOptions.options.tagformat.url(id, base);\n        };\n        return TagFormat;\n    }(TagClass));\n    tagID++;\n    var tagName = 'configTags-' + tagID;\n    Tags_js_1.TagsFactory.add(tagName, TagFormat);\n    jax.parseOptions.options.tags = tagName;\n}\nexports.tagformatConfig = tagformatConfig;\nexports.TagFormatConfiguration = Configuration_js_1.Configuration.create('tagformat', {\n    config: [tagformatConfig, 10],\n    options: {\n        tagformat: {\n            number: function (n) { return n.toString(); },\n            tag: function (tag) { return '(' + tag + ')'; },\n            id: function (id) { return 'mjx-eqn:' + id.replace(/\\s/g, '_'); },\n            url: function (id, base) { return base + '#' + encodeURIComponent(id); },\n        }\n    }\n});\n//# sourceMappingURL=TagFormatConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextcompConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nrequire(\"./TextcompMappings.js\");\nexports.TextcompConfiguration = Configuration_js_1.Configuration.create('textcomp', {\n    handler: { macro: ['textcomp-macros'] }\n});\n//# sourceMappingURL=TextcompConfiguration.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar TextMacrosMethods_js_1 = require(\"../textmacros/TextMacrosMethods.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar TextParser_js_1 = require(\"../textmacros/TextParser.js\");\nnew SymbolMap_js_1.CommandMap('textcomp-macros', {\n    'textasciicircum': ['Insert', '\\u005E'],\n    'textasciitilde': ['Insert', '\\u007E'],\n    'textasteriskcentered': ['Insert', '\\u002A'],\n    'textbackslash': ['Insert', '\\u005C'],\n    'textbar': ['Insert', '\\u007C'],\n    'textbraceleft': ['Insert', '\\u007B'],\n    'textbraceright': ['Insert', '\\u007D'],\n    'textbullet': ['Insert', '\\u2022'],\n    'textdagger': ['Insert', '\\u2020'],\n    'textdaggerdbl': ['Insert', '\\u2021'],\n    'textellipsis': ['Insert', '\\u2026'],\n    'textemdash': ['Insert', '\\u2014'],\n    'textendash': ['Insert', '\\u2013'],\n    'textexclamdown': ['Insert', '\\u00A1'],\n    'textgreater': ['Insert', '\\u003E'],\n    'textless': ['Insert', '\\u003C'],\n    'textordfeminine': ['Insert', '\\u00AA'],\n    'textordmasculine': ['Insert', '\\u00BA'],\n    'textparagraph': ['Insert', '\\u00B6'],\n    'textperiodcentered': ['Insert', '\\u00B7'],\n    'textquestiondown': ['Insert', '\\u00BF'],\n    'textquotedblleft': ['Insert', '\\u201C'],\n    'textquotedblright': ['Insert', '\\u201D'],\n    'textquoteleft': ['Insert', '\\u2018'],\n    'textquoteright': ['Insert', '\\u2019'],\n    'textsection': ['Insert', '\\u00A7'],\n    'textunderscore': ['Insert', '\\u005F'],\n    'textvisiblespace': ['Insert', '\\u2423'],\n    'textacutedbl': ['Insert', '\\u02DD'],\n    'textasciiacute': ['Insert', '\\u00B4'],\n    'textasciibreve': ['Insert', '\\u02D8'],\n    'textasciicaron': ['Insert', '\\u02C7'],\n    'textasciidieresis': ['Insert', '\\u00A8'],\n    'textasciimacron': ['Insert', '\\u00AF'],\n    'textgravedbl': ['Insert', '\\u02F5'],\n    'texttildelow': ['Insert', '\\u02F7'],\n    'textbaht': ['Insert', '\\u0E3F'],\n    'textcent': ['Insert', '\\u00A2'],\n    'textcolonmonetary': ['Insert', '\\u20A1'],\n    'textcurrency': ['Insert', '\\u00A4'],\n    'textdollar': ['Insert', '\\u0024'],\n    'textdong': ['Insert', '\\u20AB'],\n    'texteuro': ['Insert', '\\u20AC'],\n    'textflorin': ['Insert', '\\u0192'],\n    'textguarani': ['Insert', '\\u20B2'],\n    'textlira': ['Insert', '\\u20A4'],\n    'textnaira': ['Insert', '\\u20A6'],\n    'textpeso': ['Insert', '\\u20B1'],\n    'textsterling': ['Insert', '\\u00A3'],\n    'textwon': ['Insert', '\\u20A9'],\n    'textyen': ['Insert', '\\u00A5'],\n    'textcircledP': ['Insert', '\\u2117'],\n    'textcompwordmark': ['Insert', '\\u200C'],\n    'textcopyleft': ['Insert', \"\\uD83C\\uDD2F\"],\n    'textcopyright': ['Insert', '\\u00A9'],\n    'textregistered': ['Insert', '\\u00AE'],\n    'textservicemark': ['Insert', '\\u2120'],\n    'texttrademark': ['Insert', '\\u2122'],\n    'textbardbl': ['Insert', '\\u2016'],\n    'textbigcircle': ['Insert', '\\u25EF'],\n    'textblank': ['Insert', '\\u2422'],\n    'textbrokenbar': ['Insert', '\\u00A6'],\n    'textdiscount': ['Insert', '\\u2052'],\n    'textestimated': ['Insert', '\\u212E'],\n    'textinterrobang': ['Insert', '\\u203D'],\n    'textinterrobangdown': ['Insert', '\\u2E18'],\n    'textmusicalnote': ['Insert', '\\u266A'],\n    'textnumero': ['Insert', '\\u2116'],\n    'textopenbullet': ['Insert', '\\u25E6'],\n    'textpertenthousand': ['Insert', '\\u2031'],\n    'textperthousand': ['Insert', '\\u2030'],\n    'textrecipe': ['Insert', '\\u211E'],\n    'textreferencemark': ['Insert', '\\u203B'],\n    'textlangle': ['Insert', '\\u2329'],\n    'textrangle': ['Insert', '\\u232A'],\n    'textlbrackdbl': ['Insert', '\\u27E6'],\n    'textrbrackdbl': ['Insert', '\\u27E7'],\n    'textlquill': ['Insert', '\\u2045'],\n    'textrquill': ['Insert', '\\u2046'],\n    'textcelsius': ['Insert', '\\u2103'],\n    'textdegree': ['Insert', '\\u00B0'],\n    'textdiv': ['Insert', '\\u00F7'],\n    'textdownarrow': ['Insert', '\\u2193'],\n    'textfractionsolidus': ['Insert', '\\u2044'],\n    'textleftarrow': ['Insert', '\\u2190'],\n    'textlnot': ['Insert', '\\u00AC'],\n    'textmho': ['Insert', '\\u2127'],\n    'textminus': ['Insert', '\\u2212'],\n    'textmu': ['Insert', '\\u00B5'],\n    'textohm': ['Insert', '\\u2126'],\n    'textonehalf': ['Insert', '\\u00BD'],\n    'textonequarter': ['Insert', '\\u00BC'],\n    'textonesuperior': ['Insert', '\\u00B9'],\n    'textpm': ['Insert', '\\u00B1'],\n    'textrightarrow': ['Insert', '\\u2192'],\n    'textsurd': ['Insert', '\\u221A'],\n    'textthreequarters': ['Insert', '\\u00BE'],\n    'textthreesuperior': ['Insert', '\\u00B3'],\n    'texttimes': ['Insert', '\\u00D7'],\n    'texttwosuperior': ['Insert', '\\u00B2'],\n    'textuparrow': ['Insert', '\\u2191'],\n    'textborn': ['Insert', '\\u002A'],\n    'textdied': ['Insert', '\\u2020'],\n    'textdivorced': ['Insert', '\\u26AE'],\n    'textmarried': ['Insert', '\\u26AD'],\n    'textcentoldstyle': ['Insert', '\\u00A2', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textdollaroldstyle': ['Insert', '\\u0024', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textzerooldstyle': ['Insert', '0', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textoneoldstyle': ['Insert', '1', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'texttwooldstyle': ['Insert', '2', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textthreeoldstyle': ['Insert', '3', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textfouroldstyle': ['Insert', '4', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textfiveoldstyle': ['Insert', '5', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textsixoldstyle': ['Insert', '6', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textsevenoldstyle': ['Insert', '7', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'texteightoldstyle': ['Insert', '8', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    'textnineoldstyle': ['Insert', '9', TexConstants_js_1.TexConstant.Variant.OLDSTYLE]\n}, {\n    Insert: function (parser, name, c, font) {\n        if (parser instanceof TextParser_js_1.TextParser) {\n            if (!font) {\n                TextMacrosMethods_js_1.TextMacrosMethods.Insert(parser, name, c);\n                return;\n            }\n            parser.saveText();\n        }\n        parser.Push(ParseUtil_js_1.default.internalText(parser, c, font ? { mathvariant: font } : {}));\n    }\n});\n//# sourceMappingURL=TextcompMappings.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextMacrosConfiguration = exports.TextBaseConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar ParseOptions_js_1 = __importDefault(require(\"../ParseOptions.js\"));\nvar Tags_js_1 = require(\"../Tags.js\");\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar TextParser_js_1 = require(\"./TextParser.js\");\nvar TextMacrosMethods_js_1 = require(\"./TextMacrosMethods.js\");\nrequire(\"./TextMacrosMappings.js\");\nexports.TextBaseConfiguration = Configuration_js_1.Configuration.create('text-base', {\n    parser: 'text',\n    handler: {\n        character: ['command', 'text-special'],\n        macro: ['text-macros']\n    },\n    fallback: {\n        character: function (parser, c) {\n            parser.text += c;\n        },\n        macro: function (parser, name) {\n            var texParser = parser.texParser;\n            var macro = texParser.lookup('macro', name);\n            if (macro && macro._func !== TextMacrosMethods_js_1.TextMacrosMethods.Macro) {\n                parser.Error('MathMacro', '%1 is only supported in math mode', '\\\\' + name);\n            }\n            texParser.parse('macro', [parser, name]);\n        }\n    },\n    items: (_a = {},\n        _a[BaseItems_js_1.StartItem.prototype.kind] = BaseItems_js_1.StartItem,\n        _a[BaseItems_js_1.StopItem.prototype.kind] = BaseItems_js_1.StopItem,\n        _a[BaseItems_js_1.MmlItem.prototype.kind] = BaseItems_js_1.MmlItem,\n        _a[BaseItems_js_1.StyleItem.prototype.kind] = BaseItems_js_1.StyleItem,\n        _a)\n});\nfunction internalMath(parser, text, level, mathvariant) {\n    var config = parser.configuration.packageData.get('textmacros');\n    if (!(parser instanceof TextParser_js_1.TextParser)) {\n        config.texParser = parser;\n    }\n    return [(new TextParser_js_1.TextParser(text, mathvariant ? { mathvariant: mathvariant } : {}, config.parseOptions, level)).mml()];\n}\nexports.TextMacrosConfiguration = Configuration_js_1.Configuration.create('textmacros', {\n    config: function (_config, jax) {\n        var textConf = new Configuration_js_1.ParserConfiguration(jax.parseOptions.options.textmacros.packages, ['tex', 'text']);\n        textConf.init();\n        var parseOptions = new ParseOptions_js_1.default(textConf, []);\n        parseOptions.options = jax.parseOptions.options;\n        textConf.config(jax);\n        Tags_js_1.TagsFactory.addTags(textConf.tags);\n        parseOptions.tags = Tags_js_1.TagsFactory.getDefault();\n        parseOptions.tags.configuration = parseOptions;\n        parseOptions.packageData = jax.parseOptions.packageData;\n        parseOptions.packageData.set('textmacros', { parseOptions: parseOptions, jax: jax, texParser: null });\n        parseOptions.options.internalMath = internalMath;\n    },\n    preprocessors: [function (data) {\n            var config = data.data.packageData.get('textmacros');\n            config.parseOptions.nodeFactory.setMmlFactory(config.jax.mmlFactory);\n        }],\n    options: {\n        textmacros: {\n            packages: ['text-base']\n        }\n    }\n});\n//# sourceMappingURL=TextMacrosConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar TextMacrosMethods_js_1 = require(\"./TextMacrosMethods.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nnew SymbolMap_js_1.MacroMap('text-special', {\n    '$': 'Math',\n    '%': 'Comment',\n    '^': 'MathModeOnly',\n    '_': 'MathModeOnly',\n    '&': 'Misplaced',\n    '#': 'Misplaced',\n    '~': 'Tilde',\n    ' ': 'Space',\n    '\\t': 'Space',\n    '\\r': 'Space',\n    '\\n': 'Space',\n    '\\u00A0': 'Tilde',\n    '{': 'OpenBrace',\n    '}': 'CloseBrace',\n    '`': 'OpenQuote',\n    '\\'': 'CloseQuote'\n}, TextMacrosMethods_js_1.TextMacrosMethods);\nnew SymbolMap_js_1.CommandMap('text-macros', {\n    '(': 'Math',\n    '$': 'SelfQuote',\n    '_': 'SelfQuote',\n    '%': 'SelfQuote',\n    '{': 'SelfQuote',\n    '}': 'SelfQuote',\n    ' ': 'SelfQuote',\n    '&': 'SelfQuote',\n    '#': 'SelfQuote',\n    '\\\\': 'SelfQuote',\n    '\\'': ['Accent', '\\u00B4'],\n    '\\u2019': ['Accent', '\\u00B4'],\n    '`': ['Accent', '\\u0060'],\n    '\\u2018': ['Accent', '\\u0060'],\n    '^': ['Accent', '^'],\n    '\\\"': ['Accent', '\\u00A8'],\n    '~': ['Accent', '~'],\n    '=': ['Accent', '\\u00AF'],\n    '.': ['Accent', '\\u02D9'],\n    'u': ['Accent', '\\u02D8'],\n    'v': ['Accent', '\\u02C7'],\n    emph: 'Emph',\n    rm: ['SetFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    mit: ['SetFont', TexConstants_js_1.TexConstant.Variant.ITALIC],\n    oldstyle: ['SetFont', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    cal: ['SetFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    it: ['SetFont', '-tex-mathit'],\n    bf: ['SetFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    bbFont: ['SetFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    scr: ['SetFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],\n    frak: ['SetFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],\n    sf: ['SetFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    tt: ['SetFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    tiny: ['SetSize', 0.5],\n    Tiny: ['SetSize', 0.6],\n    scriptsize: ['SetSize', 0.7],\n    small: ['SetSize', 0.85],\n    normalsize: ['SetSize', 1.0],\n    large: ['SetSize', 1.2],\n    Large: ['SetSize', 1.44],\n    LARGE: ['SetSize', 1.73],\n    huge: ['SetSize', 2.07],\n    Huge: ['SetSize', 2.49],\n    Bbb: ['Macro', '{\\\\bbFont #1}', 1],\n    textnormal: ['Macro', '{\\\\rm #1}', 1],\n    textup: ['Macro', '{\\\\rm #1}', 1],\n    textrm: ['Macro', '{\\\\rm #1}', 1],\n    textit: ['Macro', '{\\\\it #1}', 1],\n    textbf: ['Macro', '{\\\\bf #1}', 1],\n    textsf: ['Macro', '{\\\\sf #1}', 1],\n    texttt: ['Macro', '{\\\\tt #1}', 1],\n    dagger: ['Insert', '\\u2020'],\n    ddagger: ['Insert', '\\u2021'],\n    S: ['Insert', '\\u00A7'],\n    ',': ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],\n    ':': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],\n    '>': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],\n    ';': ['Spacer', lengths_js_1.MATHSPACE.thickmathspace],\n    '!': ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],\n    enspace: ['Spacer', .5],\n    quad: ['Spacer', 1],\n    qquad: ['Spacer', 2],\n    thinspace: ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],\n    negthinspace: ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],\n    hskip: 'Hskip',\n    hspace: 'Hskip',\n    kern: 'Hskip',\n    mskip: 'Hskip',\n    mspace: 'Hskip',\n    mkern: 'Hskip',\n    rule: 'rule',\n    Rule: ['Rule'],\n    Space: ['Rule', 'blank'],\n    color: 'CheckAutoload',\n    textcolor: 'CheckAutoload',\n    colorbox: 'CheckAutoload',\n    fcolorbox: 'CheckAutoload',\n    href: 'CheckAutoload',\n    style: 'CheckAutoload',\n    class: 'CheckAutoload',\n    cssId: 'CheckAutoload',\n    unicode: 'CheckAutoload',\n    ref: ['HandleRef', false],\n    eqref: ['HandleRef', true],\n}, TextMacrosMethods_js_1.TextMacrosMethods);\n//# sourceMappingURL=TextMacrosMappings.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextMacrosMethods = void 0;\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar Retries_js_1 = require(\"../../../util/Retries.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"../base/BaseMethods.js\"));\nexports.TextMacrosMethods = {\n    Comment: function (parser, _c) {\n        while (parser.i < parser.string.length && parser.string.charAt(parser.i) !== '\\n') {\n            parser.i++;\n        }\n        parser.i++;\n    },\n    Math: function (parser, open) {\n        parser.saveText();\n        var i = parser.i;\n        var j, c;\n        var braces = 0;\n        while ((c = parser.GetNext())) {\n            j = parser.i++;\n            switch (c) {\n                case '\\\\':\n                    var cs = parser.GetCS();\n                    if (cs === ')')\n                        c = '\\\\(';\n                case '$':\n                    if (braces === 0 && open === c) {\n                        var config = parser.texParser.configuration;\n                        var mml = (new TexParser_js_1.default(parser.string.substr(i, j - i), parser.stack.env, config)).mml();\n                        parser.PushMath(mml);\n                        return;\n                    }\n                    break;\n                case '{':\n                    braces++;\n                    break;\n                case '}':\n                    if (braces === 0) {\n                        parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');\n                    }\n                    braces--;\n                    break;\n            }\n        }\n        parser.Error('MathNotTerminated', 'Math-mode is not properly terminated');\n    },\n    MathModeOnly: function (parser, c) {\n        parser.Error('MathModeOnly', '\\'%1\\' allowed only in math mode', c);\n    },\n    Misplaced: function (parser, c) {\n        parser.Error('Misplaced', '\\'%1\\' can not be used here', c);\n    },\n    OpenBrace: function (parser, _c) {\n        var env = parser.stack.env;\n        parser.envStack.push(env);\n        parser.stack.env = Object.assign({}, env);\n    },\n    CloseBrace: function (parser, _c) {\n        if (parser.envStack.length) {\n            parser.saveText();\n            parser.stack.env = parser.envStack.pop();\n        }\n        else {\n            parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');\n        }\n    },\n    OpenQuote: function (parser, c) {\n        if (parser.string.charAt(parser.i) === c) {\n            parser.text += '\\u201C';\n            parser.i++;\n        }\n        else {\n            parser.text += '\\u2018';\n        }\n    },\n    CloseQuote: function (parser, c) {\n        if (parser.string.charAt(parser.i) === c) {\n            parser.text += '\\u201D';\n            parser.i++;\n        }\n        else {\n            parser.text += '\\u2019';\n        }\n    },\n    Tilde: function (parser, _c) {\n        parser.text += '\\u00A0';\n    },\n    Space: function (parser, _c) {\n        parser.text += ' ';\n        while (parser.GetNext().match(/\\s/))\n            parser.i++;\n    },\n    SelfQuote: function (parser, name) {\n        parser.text += name.substr(1);\n    },\n    Insert: function (parser, _name, c) {\n        parser.text += c;\n    },\n    Accent: function (parser, name, c) {\n        var base = parser.ParseArg(name);\n        var accent = parser.create('token', 'mo', {}, c);\n        parser.addAttributes(accent);\n        parser.Push(parser.create('node', 'mover', [base, accent]));\n    },\n    Emph: function (parser, name) {\n        var variant = (parser.stack.env.mathvariant === '-tex-mathit' ? 'normal' : '-tex-mathit');\n        parser.Push(parser.ParseTextArg(name, { mathvariant: variant }));\n    },\n    SetFont: function (parser, _name, variant) {\n        parser.saveText();\n        parser.stack.env.mathvariant = variant;\n    },\n    SetSize: function (parser, _name, size) {\n        parser.saveText();\n        parser.stack.env.mathsize = size;\n    },\n    CheckAutoload: function (parser, name) {\n        var autoload = parser.configuration.packageData.get('autoload');\n        var texParser = parser.texParser;\n        name = name.slice(1);\n        var macro = texParser.lookup('macro', name);\n        if (!macro || (autoload && macro._func === autoload.Autoload)) {\n            texParser.parse('macro', [texParser, name]);\n            if (!macro)\n                return;\n            (0, Retries_js_1.retryAfter)(Promise.resolve());\n        }\n        texParser.parse('macro', [parser, name]);\n    },\n    Macro: BaseMethods_js_1.default.Macro,\n    Spacer: BaseMethods_js_1.default.Spacer,\n    Hskip: BaseMethods_js_1.default.Hskip,\n    rule: BaseMethods_js_1.default.rule,\n    Rule: BaseMethods_js_1.default.Rule,\n    HandleRef: BaseMethods_js_1.default.HandleRef\n};\n//# sourceMappingURL=TextMacrosMethods.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextParser = void 0;\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar TextParser = (function (_super) {\n    __extends(TextParser, _super);\n    function TextParser(text, env, configuration, level) {\n        var _this = _super.call(this, text, env, configuration) || this;\n        _this.level = level;\n        return _this;\n    }\n    Object.defineProperty(TextParser.prototype, \"texParser\", {\n        get: function () {\n            return this.configuration.packageData.get('textmacros').texParser;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextParser.prototype, \"tags\", {\n        get: function () {\n            return this.texParser.tags;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextParser.prototype.mml = function () {\n        return (this.level != null ?\n            this.create('node', 'mstyle', this.nodes, { displaystyle: false, scriptlevel: this.level }) :\n            this.nodes.length === 1 ? this.nodes[0] : this.create('node', 'mrow', this.nodes));\n    };\n    TextParser.prototype.Parse = function () {\n        this.text = '';\n        this.nodes = [];\n        this.envStack = [];\n        _super.prototype.Parse.call(this);\n    };\n    TextParser.prototype.saveText = function () {\n        if (this.text) {\n            var mathvariant = this.stack.env.mathvariant;\n            var text = ParseUtil_js_1.default.internalText(this, this.text, mathvariant ? { mathvariant: mathvariant } : {});\n            this.text = '';\n            this.Push(text);\n        }\n    };\n    TextParser.prototype.Push = function (mml) {\n        if (this.text) {\n            this.saveText();\n        }\n        if (mml instanceof BaseItems_js_1.StopItem) {\n            return _super.prototype.Push.call(this, mml);\n        }\n        if (mml instanceof BaseItems_js_1.StyleItem) {\n            this.stack.env.mathcolor = this.stack.env.color;\n            return;\n        }\n        if (mml instanceof MmlNode_js_1.AbstractMmlNode) {\n            this.addAttributes(mml);\n            this.nodes.push(mml);\n        }\n    };\n    TextParser.prototype.PushMath = function (mml) {\n        var e_1, _a;\n        var env = this.stack.env;\n        if (!mml.isKind('TeXAtom')) {\n            mml = this.create('node', 'TeXAtom', [mml]);\n        }\n        try {\n            for (var _b = __values(['mathsize', 'mathcolor']), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_1 = _c.value;\n                if (env[name_1] && !mml.attributes.getExplicit(name_1)) {\n                    if (!mml.isToken && !mml.isKind('mstyle')) {\n                        mml = this.create('node', 'mstyle', [mml]);\n                    }\n                    NodeUtil_js_1.default.setAttribute(mml, name_1, env[name_1]);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (mml.isInferred) {\n            mml = this.create('node', 'mrow', mml.childNodes);\n        }\n        this.nodes.push(mml);\n    };\n    TextParser.prototype.addAttributes = function (mml) {\n        var e_2, _a;\n        var env = this.stack.env;\n        if (!mml.isToken)\n            return;\n        try {\n            for (var _b = __values(['mathsize', 'mathcolor', 'mathvariant']), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_2 = _c.value;\n                if (env[name_2] && !mml.attributes.getExplicit(name_2)) {\n                    NodeUtil_js_1.default.setAttribute(mml, name_2, env[name_2]);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    TextParser.prototype.ParseTextArg = function (name, env) {\n        var text = this.GetArgument(name);\n        env = Object.assign(Object.assign({}, this.stack.env), env);\n        return (new TextParser(text, env, this.configuration)).mml();\n    };\n    TextParser.prototype.ParseArg = function (name) {\n        return (new TextParser(this.GetArgument(name), this.stack.env, this.configuration)).mml();\n    };\n    TextParser.prototype.Error = function (id, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        throw new (TexError_js_1.default.bind.apply(TexError_js_1.default, __spreadArray([void 0, id, message], __read(args), false)))();\n    };\n    return TextParser;\n}(TexParser_js_1.default));\nexports.TextParser = TextParser;\n//# sourceMappingURL=TextParser.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnicodeConfiguration = exports.UnicodeMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nexports.UnicodeMethods = {};\nvar UnicodeCache = {};\nexports.UnicodeMethods.Unicode = function (parser, name) {\n    var HD = parser.GetBrackets(name);\n    var HDsplit = null;\n    var font = null;\n    if (HD) {\n        if (HD.replace(/ /g, '').\n            match(/^(\\d+(\\.\\d*)?|\\.\\d+),(\\d+(\\.\\d*)?|\\.\\d+)$/)) {\n            HDsplit = HD.replace(/ /g, '').split(/,/);\n            font = parser.GetBrackets(name);\n        }\n        else {\n            font = HD;\n        }\n    }\n    var n = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name)).replace(/^0x/, 'x');\n    if (!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/)) {\n        throw new TexError_js_1.default('BadUnicode', 'Argument to \\\\unicode must be a number');\n    }\n    var N = parseInt(n.match(/^x/) ? '0' + n : n);\n    if (!UnicodeCache[N]) {\n        UnicodeCache[N] = [800, 200, font, N];\n    }\n    else if (!font) {\n        font = UnicodeCache[N][2];\n    }\n    if (HDsplit) {\n        UnicodeCache[N][0] = Math.floor(parseFloat(HDsplit[0]) * 1000);\n        UnicodeCache[N][1] = Math.floor(parseFloat(HDsplit[1]) * 1000);\n    }\n    var variant = parser.stack.env.font;\n    var def = {};\n    if (font) {\n        UnicodeCache[N][2] = def.fontfamily = font.replace(/'/g, '\\'');\n        if (variant) {\n            if (variant.match(/bold/)) {\n                def.fontweight = 'bold';\n            }\n            if (variant.match(/italic|-mathit/)) {\n                def.fontstyle = 'italic';\n            }\n        }\n    }\n    else if (variant) {\n        def.mathvariant = variant;\n    }\n    var node = parser.create('token', 'mtext', def, (0, Entities_js_1.numeric)(n));\n    NodeUtil_js_1.default.setProperty(node, 'unicode', true);\n    parser.Push(node);\n};\nnew SymbolMap_js_1.CommandMap('unicode', { unicode: 'Unicode' }, exports.UnicodeMethods);\nexports.UnicodeConfiguration = Configuration_js_1.Configuration.create('unicode', { handler: { macro: ['unicode'] } });\n//# sourceMappingURL=UnicodeConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpgreekConfiguration = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nfunction mathchar0miNormal(parser, mchar) {\n    var def = mchar.attributes || {};\n    def.mathvariant = TexConstants_js_1.TexConstant.Variant.NORMAL;\n    var node = parser.create('token', 'mi', def, mchar.char);\n    parser.Push(node);\n}\nnew SymbolMap_js_1.CharacterMap('upgreek', mathchar0miNormal, {\n    upalpha: '\\u03B1',\n    upbeta: '\\u03B2',\n    upgamma: '\\u03B3',\n    updelta: '\\u03B4',\n    upepsilon: '\\u03F5',\n    upzeta: '\\u03B6',\n    upeta: '\\u03B7',\n    uptheta: '\\u03B8',\n    upiota: '\\u03B9',\n    upkappa: '\\u03BA',\n    uplambda: '\\u03BB',\n    upmu: '\\u03BC',\n    upnu: '\\u03BD',\n    upxi: '\\u03BE',\n    upomicron: '\\u03BF',\n    uppi: '\\u03C0',\n    uprho: '\\u03C1',\n    upsigma: '\\u03C3',\n    uptau: '\\u03C4',\n    upupsilon: '\\u03C5',\n    upphi: '\\u03D5',\n    upchi: '\\u03C7',\n    uppsi: '\\u03C8',\n    upomega: '\\u03C9',\n    upvarepsilon: '\\u03B5',\n    upvartheta: '\\u03D1',\n    upvarpi: '\\u03D6',\n    upvarrho: '\\u03F1',\n    upvarsigma: '\\u03C2',\n    upvarphi: '\\u03C6',\n    Upgamma: '\\u0393',\n    Updelta: '\\u0394',\n    Uptheta: '\\u0398',\n    Uplambda: '\\u039B',\n    Upxi: '\\u039E',\n    Uppi: '\\u03A0',\n    Upsigma: '\\u03A3',\n    Upupsilon: '\\u03A5',\n    Upphi: '\\u03A6',\n    Uppsi: '\\u03A8',\n    Upomega: '\\u03A9'\n});\nexports.UpgreekConfiguration = Configuration_js_1.Configuration.create('upgreek', {\n    handler: { macro: ['upgreek'] },\n});\n//# sourceMappingURL=UpgreekConfiguration.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VerbConfiguration = exports.VerbMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nexports.VerbMethods = {};\nexports.VerbMethods.Verb = function (parser, name) {\n    var c = parser.GetNext();\n    var start = ++parser.i;\n    if (c === '') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', name);\n    }\n    while (parser.i < parser.string.length &&\n        parser.string.charAt(parser.i) !== c) {\n        parser.i++;\n    }\n    if (parser.i === parser.string.length) {\n        throw new TexError_js_1.default('NoClosingDelim', 'Can\\'t find closing delimiter for %1', parser.currentCS);\n    }\n    var text = parser.string.slice(start, parser.i).replace(/ /g, '\\u00A0');\n    parser.i++;\n    parser.Push(parser.create('token', 'mtext', { mathvariant: TexConstants_js_1.TexConstant.Variant.MONOSPACE }, text));\n};\nnew SymbolMap_js_1.CommandMap('verb', { verb: 'Verb' }, exports.VerbMethods);\nexports.VerbConfiguration = Configuration_js_1.Configuration.create('verb', { handler: { macro: ['verb'] } });\n//# sourceMappingURL=VerbConfiguration.js.map","\"use strict\";\n/*!\n *************************************************************************\n *\n *  mhchemParser.ts\n *  4.1.1\n *\n *  Parser for the \\ce command and \\pu command for MathJax and Co.\n *\n *  mhchem's \\ce is a tool for writing beautiful chemical equations easily.\n *  mhchem's \\pu is a tool for writing physical units easily.\n *\n *  ----------------------------------------------------------------------\n *\n *  Copyright (c) 2015-2021 Martin Hensel\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n *  ----------------------------------------------------------------------\n *\n *  https://github.com/mhchem/mhchemParser\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mhchemParser = void 0;\nvar mhchemParser = (function () {\n    function mhchemParser() {\n    }\n    mhchemParser.toTex = function (input, type) {\n        return _mhchemTexify.go(_mhchemParser.go(input, type), type !== \"tex\");\n    };\n    return mhchemParser;\n}());\nexports.mhchemParser = mhchemParser;\nfunction _mhchemCreateTransitions(o) {\n    var pattern, state;\n    var transitions = {};\n    for (pattern in o) {\n        for (state in o[pattern]) {\n            var stateArray = state.split(\"|\");\n            o[pattern][state].stateArray = stateArray;\n            for (var i = 0; i < stateArray.length; i++) {\n                transitions[stateArray[i]] = [];\n            }\n        }\n    }\n    for (pattern in o) {\n        for (state in o[pattern]) {\n            var stateArray = o[pattern][state].stateArray || [];\n            for (var i = 0; i < stateArray.length; i++) {\n                var p = o[pattern][state];\n                p.action_ = [].concat(p.action_);\n                for (var k = 0; k < p.action_.length; k++) {\n                    if (typeof p.action_[k] === \"string\") {\n                        p.action_[k] = { type_: p.action_[k] };\n                    }\n                }\n                var patternArray = pattern.split(\"|\");\n                for (var j = 0; j < patternArray.length; j++) {\n                    if (stateArray[i] === '*') {\n                        var t = void 0;\n                        for (t in transitions) {\n                            transitions[t].push({ pattern: patternArray[j], task: p });\n                        }\n                    }\n                    else {\n                        transitions[stateArray[i]].push({ pattern: patternArray[j], task: p });\n                    }\n                }\n            }\n        }\n    }\n    return transitions;\n}\n;\nvar _mhchemParser = {\n    go: function (input, stateMachine) {\n        if (!input) {\n            return [];\n        }\n        if (stateMachine === undefined) {\n            stateMachine = 'ce';\n        }\n        var state = '0';\n        var buffer = {};\n        buffer['parenthesisLevel'] = 0;\n        input = input.replace(/\\n/g, \" \");\n        input = input.replace(/[\\u2212\\u2013\\u2014\\u2010]/g, \"-\");\n        input = input.replace(/[\\u2026]/g, \"...\");\n        var lastInput;\n        var watchdog = 10;\n        var output = [];\n        while (true) {\n            if (lastInput !== input) {\n                watchdog = 10;\n                lastInput = input;\n            }\n            else {\n                watchdog--;\n            }\n            var machine = _mhchemParser.stateMachines[stateMachine];\n            var t = machine.transitions[state] || machine.transitions['*'];\n            iterateTransitions: for (var i = 0; i < t.length; i++) {\n                var matches = _mhchemParser.patterns.match_(t[i].pattern, input);\n                if (matches) {\n                    var task = t[i].task;\n                    for (var iA = 0; iA < task.action_.length; iA++) {\n                        var o = void 0;\n                        if (machine.actions[task.action_[iA].type_]) {\n                            o = machine.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);\n                        }\n                        else if (_mhchemParser.actions[task.action_[iA].type_]) {\n                            o = _mhchemParser.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);\n                        }\n                        else {\n                            throw [\"MhchemBugA\", \"mhchem bug A. Please report. (\" + task.action_[iA].type_ + \")\"];\n                        }\n                        _mhchemParser.concatArray(output, o);\n                    }\n                    state = task.nextState || state;\n                    if (input.length > 0) {\n                        if (!task.revisit) {\n                            input = matches.remainder;\n                        }\n                        if (!task.toContinue) {\n                            break iterateTransitions;\n                        }\n                    }\n                    else {\n                        return output;\n                    }\n                }\n            }\n            if (watchdog <= 0) {\n                throw [\"MhchemBugU\", \"mhchem bug U. Please report.\"];\n            }\n        }\n    },\n    concatArray: function (a, b) {\n        if (b) {\n            if (Array.isArray(b)) {\n                for (var iB = 0; iB < b.length; iB++) {\n                    a.push(b[iB]);\n                }\n            }\n            else {\n                a.push(b);\n            }\n        }\n    },\n    patterns: {\n        patterns: {\n            'empty': /^$/,\n            'else': /^./,\n            'else2': /^./,\n            'space': /^\\s/,\n            'space A': /^\\s(?=[A-Z\\\\$])/,\n            'space$': /^\\s$/,\n            'a-z': /^[a-z]/,\n            'x': /^x/,\n            'x$': /^x$/,\n            'i$': /^i$/,\n            'letters': /^(?:[a-zA-Z\\u03B1-\\u03C9\\u0391-\\u03A9?@]|(?:\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\\s+|\\{\\}|(?![a-zA-Z]))))+/,\n            '\\\\greek': /^\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\\s+|\\{\\}|(?![a-zA-Z]))/,\n            'one lowercase latin letter $': /^(?:([a-z])(?:$|[^a-zA-Z]))$/,\n            '$one lowercase latin letter$ $': /^\\$(?:([a-z])(?:$|[^a-zA-Z]))\\$$/,\n            'one lowercase greek letter $': /^(?:\\$?[\\u03B1-\\u03C9]\\$?|\\$?\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\\s*\\$?)(?:\\s+|\\{\\}|(?![a-zA-Z]))$/,\n            'digits': /^[0-9]+/,\n            '-9.,9': /^[+\\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))/,\n            '-9.,9 no missing 0': /^[+\\-]?[0-9]+(?:[.,][0-9]+)?/,\n            '(-)(9.,9)(e)(99)': function (input) {\n                var match = input.match(/^(\\+\\-|\\+\\/\\-|\\+|\\-|\\\\pm\\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))?(\\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))\\))?(?:(?:([eE])|\\s*(\\*|x|\\\\times|\\u00D7)\\s*10\\^)([+\\-]?[0-9]+|\\{[+\\-]?[0-9]+\\}))?/);\n                if (match && match[0]) {\n                    return { match_: match.slice(1), remainder: input.substr(match[0].length) };\n                }\n                return null;\n            },\n            '(-)(9)^(-9)': /^(\\+\\-|\\+\\/\\-|\\+|\\-|\\\\pm\\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+)?)\\^([+\\-]?[0-9]+|\\{[+\\-]?[0-9]+\\})/,\n            'state of aggregation $': function (input) {\n                var a = _mhchemParser.patterns.findObserveGroups(input, \"\", /^\\([a-z]{1,3}(?=[\\),])/, \")\", \"\");\n                if (a && a.remainder.match(/^($|[\\s,;\\)\\]\\}])/)) {\n                    return a;\n                }\n                var match = input.match(/^(?:\\((?:\\\\ca\\s?)?\\$[amothc]\\$\\))/);\n                if (match) {\n                    return { match_: match[0], remainder: input.substr(match[0].length) };\n                }\n                return null;\n            },\n            '_{(state of aggregation)}$': /^_\\{(\\([a-z]{1,3}\\))\\}/,\n            '{[(': /^(?:\\\\\\{|\\[|\\()/,\n            ')]}': /^(?:\\)|\\]|\\\\\\})/,\n            ', ': /^[,;]\\s*/,\n            ',': /^[,;]/,\n            '.': /^[.]/,\n            '. __* ': /^([.\\u22C5\\u00B7\\u2022]|[*])\\s*/,\n            '...': /^\\.\\.\\.(?=$|[^.])/,\n            '^{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"^{\", \"\", \"\", \"}\"); },\n            '^($...$)': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"^\", \"$\", \"$\", \"\"); },\n            '^a': /^\\^([0-9]+|[^\\\\_])/,\n            '^\\\\x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"^\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n            '^\\\\x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"^\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n            '^\\\\x': /^\\^(\\\\[a-zA-Z]+)\\s*/,\n            '^(-1)': /^\\^(-?\\d+)/,\n            '\\'': /^'/,\n            '_{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"_{\", \"\", \"\", \"}\"); },\n            '_($...$)': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"_\", \"$\", \"$\", \"\"); },\n            '_9': /^_([+\\-]?[0-9]+|[^\\\\])/,\n            '_\\\\x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"_\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n            '_\\\\x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"_\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n            '_\\\\x': /^_(\\\\[a-zA-Z]+)\\s*/,\n            '^_': /^(?:\\^(?=_)|\\_(?=\\^)|[\\^_]$)/,\n            '{}^': /^\\{\\}(?=\\^)/,\n            '{}': /^\\{\\}/,\n            '{...}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\", \"{\", \"}\", \"\"); },\n            '{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"{\", \"\", \"\", \"}\"); },\n            '$...$': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\", \"$\", \"$\", \"\"); },\n            '${(...)}$__$(...)$': function (input) {\n                return _mhchemParser.patterns.findObserveGroups(input, \"${\", \"\", \"\", \"}$\") || _mhchemParser.patterns.findObserveGroups(input, \"$\", \"\", \"\", \"$\");\n            },\n            '=<>': /^[=<>]/,\n            '#': /^[#\\u2261]/,\n            '+': /^\\+/,\n            '-$': /^-(?=[\\s_},;\\]/]|$|\\([a-z]+\\))/,\n            '-9': /^-(?=[0-9])/,\n            '- orbital overlap': /^-(?=(?:[spd]|sp)(?:$|[\\s,;\\)\\]\\}]))/,\n            '-': /^-/,\n            'pm-operator': /^(?:\\\\pm|\\$\\\\pm\\$|\\+-|\\+\\/-)/,\n            'operator': /^(?:\\+|(?:[\\-=<>]|<<|>>|\\\\approx|\\$\\\\approx\\$)(?=\\s|$|-?[0-9]))/,\n            'arrowUpDown': /^(?:v|\\(v\\)|\\^|\\(\\^\\))(?=$|[\\s,;\\)\\]\\}])/,\n            '\\\\bond{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\bond{\", \"\", \"\", \"}\"); },\n            '->': /^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\\u2192\\u27F6\\u21CC])/,\n            'CMT': /^[CMT](?=\\[)/,\n            '[(...)]': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"[\", \"\", \"\", \"]\"); },\n            '1st-level escape': /^(&|\\\\\\\\|\\\\hline)\\s*/,\n            '\\\\,': /^(?:\\\\[,\\ ;:])/,\n            '\\\\x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n            '\\\\x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n            '\\\\ca': /^\\\\ca(?:\\s+|(?![a-zA-Z]))/,\n            '\\\\x': /^(?:\\\\[a-zA-Z]+\\s*|\\\\[_&{}%])/,\n            'orbital': /^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,\n            'others': /^[\\/~|]/,\n            '\\\\frac{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\frac{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n            '\\\\overset{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\overset{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n            '\\\\underset{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\underset{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n            '\\\\underbrace{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\underbrace{\", \"\", \"\", \"}_\", \"{\", \"\", \"\", \"}\"); },\n            '\\\\color{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\color{\", \"\", \"\", \"}\"); },\n            '\\\\color{(...)}{(...)}': function (input) {\n                return _mhchemParser.patterns.findObserveGroups(input, \"\\\\color{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\") ||\n                    _mhchemParser.patterns.findObserveGroups(input, \"\\\\color\", \"\\\\\", \"\", /^(?=\\{)/, \"{\", \"\", \"\", \"}\");\n            },\n            '\\\\ce{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\ce{\", \"\", \"\", \"}\"); },\n            '\\\\pu{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, \"\\\\pu{\", \"\", \"\", \"}\"); },\n            'oxidation$': /^(?:[+-][IVX]+|\\\\pm\\s*0|\\$\\\\pm\\$\\s*0)$/,\n            'd-oxidation$': /^(?:[+-]?\\s?[IVX]+|\\\\pm\\s*0|\\$\\\\pm\\$\\s*0)$/,\n            'roman numeral': /^[IVX]+/,\n            '1/2$': /^[+\\-]?(?:[0-9]+|\\$[a-z]\\$|[a-z])\\/[0-9]+(?:\\$[a-z]\\$|[a-z])?$/,\n            'amount': function (input) {\n                var match;\n                match = input.match(/^(?:(?:(?:\\([+\\-]?[0-9]+\\/[0-9]+\\)|[+\\-]?(?:[0-9]+|\\$[a-z]\\$|[a-z])\\/[0-9]+|[+\\-]?[0-9]+[.,][0-9]+|[+\\-]?\\.[0-9]+|[+\\-]?[0-9]+)(?:[a-z](?=\\s*[A-Z]))?)|[+\\-]?[a-z](?=\\s*[A-Z])|\\+(?!\\s))/);\n                if (match) {\n                    return { match_: match[0], remainder: input.substr(match[0].length) };\n                }\n                var a = _mhchemParser.patterns.findObserveGroups(input, \"\", \"$\", \"$\", \"\");\n                if (a) {\n                    match = a.match_.match(/^\\$(?:\\(?[+\\-]?(?:[0-9]*[a-z]?[+\\-])?[0-9]*[a-z](?:[+\\-][0-9]*[a-z]?)?\\)?|\\+|-)\\$$/);\n                    if (match) {\n                        return { match_: match[0], remainder: input.substr(match[0].length) };\n                    }\n                }\n                return null;\n            },\n            'amount2': function (input) { return this['amount'](input); },\n            '(KV letters),': /^(?:[A-Z][a-z]{0,2}|i)(?=,)/,\n            'formula$': function (input) {\n                if (input.match(/^\\([a-z]+\\)$/)) {\n                    return null;\n                }\n                var match = input.match(/^(?:[a-z]|(?:[0-9\\ \\+\\-\\,\\.\\(\\)]+[a-z])+[0-9\\ \\+\\-\\,\\.\\(\\)]*|(?:[a-z][0-9\\ \\+\\-\\,\\.\\(\\)]+)+[a-z]?)$/);\n                if (match) {\n                    return { match_: match[0], remainder: input.substr(match[0].length) };\n                }\n                return null;\n            },\n            'uprightEntities': /^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,\n            '/': /^\\s*(\\/)\\s*/,\n            '//': /^\\s*(\\/\\/)\\s*/,\n            '*': /^\\s*[*.]\\s*/\n        },\n        findObserveGroups: function (input, begExcl, begIncl, endIncl, endExcl, beg2Excl, beg2Incl, end2Incl, end2Excl, combine) {\n            var _match = function (input, pattern) {\n                if (typeof pattern === \"string\") {\n                    if (input.indexOf(pattern) !== 0) {\n                        return null;\n                    }\n                    return pattern;\n                }\n                else {\n                    var match_1 = input.match(pattern);\n                    if (!match_1) {\n                        return null;\n                    }\n                    return match_1[0];\n                }\n            };\n            var _findObserveGroups = function (input, i, endChars) {\n                var braces = 0;\n                while (i < input.length) {\n                    var a = input.charAt(i);\n                    var match_2 = _match(input.substr(i), endChars);\n                    if (match_2 !== null && braces === 0) {\n                        return { endMatchBegin: i, endMatchEnd: i + match_2.length };\n                    }\n                    else if (a === \"{\") {\n                        braces++;\n                    }\n                    else if (a === \"}\") {\n                        if (braces === 0) {\n                            throw [\"ExtraCloseMissingOpen\", \"Extra close brace or missing open brace\"];\n                        }\n                        else {\n                            braces--;\n                        }\n                    }\n                    i++;\n                }\n                if (braces > 0) {\n                    return null;\n                }\n                return null;\n            };\n            var match = _match(input, begExcl);\n            if (match === null) {\n                return null;\n            }\n            input = input.substr(match.length);\n            match = _match(input, begIncl);\n            if (match === null) {\n                return null;\n            }\n            var e = _findObserveGroups(input, match.length, endIncl || endExcl);\n            if (e === null) {\n                return null;\n            }\n            var match1 = input.substring(0, (endIncl ? e.endMatchEnd : e.endMatchBegin));\n            if (!(beg2Excl || beg2Incl)) {\n                return {\n                    match_: match1,\n                    remainder: input.substr(e.endMatchEnd)\n                };\n            }\n            else {\n                var group2 = this.findObserveGroups(input.substr(e.endMatchEnd), beg2Excl, beg2Incl, end2Incl, end2Excl);\n                if (group2 === null) {\n                    return null;\n                }\n                var matchRet = [match1, group2.match_];\n                return {\n                    match_: (combine ? matchRet.join(\"\") : matchRet),\n                    remainder: group2.remainder\n                };\n            }\n        },\n        match_: function (m, input) {\n            var pattern = _mhchemParser.patterns.patterns[m];\n            if (pattern === undefined) {\n                throw [\"MhchemBugP\", \"mhchem bug P. Please report. (\" + m + \")\"];\n            }\n            else if (typeof pattern === \"function\") {\n                return _mhchemParser.patterns.patterns[m](input);\n            }\n            else {\n                var match = input.match(pattern);\n                if (match) {\n                    if (match.length > 2) {\n                        return { match_: match.slice(1), remainder: input.substr(match[0].length) };\n                    }\n                    else {\n                        return { match_: match[1] || match[0], remainder: input.substr(match[0].length) };\n                    }\n                }\n                return null;\n            }\n        }\n    },\n    actions: {\n        'a=': function (buffer, m) { buffer.a = (buffer.a || \"\") + m; return undefined; },\n        'b=': function (buffer, m) { buffer.b = (buffer.b || \"\") + m; return undefined; },\n        'p=': function (buffer, m) { buffer.p = (buffer.p || \"\") + m; return undefined; },\n        'o=': function (buffer, m) { buffer.o = (buffer.o || \"\") + m; return undefined; },\n        'q=': function (buffer, m) { buffer.q = (buffer.q || \"\") + m; return undefined; },\n        'd=': function (buffer, m) { buffer.d = (buffer.d || \"\") + m; return undefined; },\n        'rm=': function (buffer, m) { buffer.rm = (buffer.rm || \"\") + m; return undefined; },\n        'text=': function (buffer, m) { buffer.text_ = (buffer.text_ || \"\") + m; return undefined; },\n        'insert': function (_buffer, _m, a) { return { type_: a }; },\n        'insert+p1': function (_buffer, m, a) { return { type_: a, p1: m }; },\n        'insert+p1+p2': function (_buffer, m, a) { return { type_: a, p1: m[0], p2: m[1] }; },\n        'copy': function (_buffer, m) { return m; },\n        'write': function (_buffer, _m, a) { return a; },\n        'rm': function (_buffer, m) { return { type_: 'rm', p1: m }; },\n        'text': function (_buffer, m) { return _mhchemParser.go(m, 'text'); },\n        'tex-math': function (_buffer, m) { return _mhchemParser.go(m, 'tex-math'); },\n        'tex-math tight': function (_buffer, m) { return _mhchemParser.go(m, 'tex-math tight'); },\n        'bond': function (_buffer, m, k) { return { type_: 'bond', kind_: k || m }; },\n        'color0-output': function (_buffer, m) { return { type_: 'color0', color: m }; },\n        'ce': function (_buffer, m) { return _mhchemParser.go(m, 'ce'); },\n        'pu': function (_buffer, m) { return _mhchemParser.go(m, 'pu'); },\n        '1/2': function (_buffer, m) {\n            var ret = [];\n            if (m.match(/^[+\\-]/)) {\n                ret.push(m.substr(0, 1));\n                m = m.substr(1);\n            }\n            var n = m.match(/^([0-9]+|\\$[a-z]\\$|[a-z])\\/([0-9]+)(\\$[a-z]\\$|[a-z])?$/);\n            n[1] = n[1].replace(/\\$/g, \"\");\n            ret.push({ type_: 'frac', p1: n[1], p2: n[2] });\n            if (n[3]) {\n                n[3] = n[3].replace(/\\$/g, \"\");\n                ret.push({ type_: 'tex-math', p1: n[3] });\n            }\n            return ret;\n        },\n        '9,9': function (_buffer, m) { return _mhchemParser.go(m, '9,9'); }\n    },\n    stateMachines: {\n        'tex': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '0': { action_: 'copy' }\n                },\n                '\\\\ce{(...)}': {\n                    '0': { action_: [{ type_: 'write', option: \"{\" }, 'ce', { type_: 'write', option: \"}\" }] }\n                },\n                '\\\\pu{(...)}': {\n                    '0': { action_: [{ type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                'else': {\n                    '0': { action_: 'copy' }\n                },\n            }),\n            actions: {}\n        },\n        'ce': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                'else': {\n                    '0|1|2': { action_: 'beginsWithBond=false', revisit: true, toContinue: true }\n                },\n                'oxidation$': {\n                    '0': { action_: 'oxidation-output' }\n                },\n                'CMT': {\n                    'r': { action_: 'rdt=', nextState: 'rt' },\n                    'rd': { action_: 'rqt=', nextState: 'rdt' }\n                },\n                'arrowUpDown': {\n                    '0|1|2|as': { action_: ['sb=false', 'output', 'operator'], nextState: '1' }\n                },\n                'uprightEntities': {\n                    '0|1|2': { action_: ['o=', 'output'], nextState: '1' }\n                },\n                'orbital': {\n                    '0|1|2|3': { action_: 'o=', nextState: 'o' }\n                },\n                '->': {\n                    '0|1|2|3': { action_: 'r=', nextState: 'r' },\n                    'a|as': { action_: ['output', 'r='], nextState: 'r' },\n                    '*': { action_: ['output', 'r='], nextState: 'r' }\n                },\n                '+': {\n                    'o': { action_: 'd= kv', nextState: 'd' },\n                    'd|D': { action_: 'd=', nextState: 'd' },\n                    'q': { action_: 'd=', nextState: 'qd' },\n                    'qd|qD': { action_: 'd=', nextState: 'qd' },\n                    'dq': { action_: ['output', 'd='], nextState: 'd' },\n                    '3': { action_: ['sb=false', 'output', 'operator'], nextState: '0' }\n                },\n                'amount': {\n                    '0|2': { action_: 'a=', nextState: 'a' }\n                },\n                'pm-operator': {\n                    '0|1|2|a|as': { action_: ['sb=false', 'output', { type_: 'operator', option: '\\\\pm' }], nextState: '0' }\n                },\n                'operator': {\n                    '0|1|2|a|as': { action_: ['sb=false', 'output', 'operator'], nextState: '0' }\n                },\n                '-$': {\n                    'o|q': { action_: ['charge or bond', 'output'], nextState: 'qd' },\n                    'd': { action_: 'd=', nextState: 'd' },\n                    'D': { action_: ['output', { type_: 'bond', option: \"-\" }], nextState: '3' },\n                    'q': { action_: 'd=', nextState: 'qd' },\n                    'qd': { action_: 'd=', nextState: 'qd' },\n                    'qD|dq': { action_: ['output', { type_: 'bond', option: \"-\" }], nextState: '3' }\n                },\n                '-9': {\n                    '3|o': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '3' }\n                },\n                '- orbital overlap': {\n                    'o': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' },\n                    'd': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' }\n                },\n                '-': {\n                    '0|1|2': { action_: [{ type_: 'output', option: 1 }, 'beginsWithBond=true', { type_: 'bond', option: \"-\" }], nextState: '3' },\n                    '3': { action_: { type_: 'bond', option: \"-\" } },\n                    'a': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' },\n                    'as': { action_: [{ type_: 'output', option: 2 }, { type_: 'bond', option: \"-\" }], nextState: '3' },\n                    'b': { action_: 'b=' },\n                    'o': { action_: { type_: '- after o/d', option: false }, nextState: '2' },\n                    'q': { action_: { type_: '- after o/d', option: false }, nextState: '2' },\n                    'd|qd|dq': { action_: { type_: '- after o/d', option: true }, nextState: '2' },\n                    'D|qD|p': { action_: ['output', { type_: 'bond', option: \"-\" }], nextState: '3' }\n                },\n                'amount2': {\n                    '1|3': { action_: 'a=', nextState: 'a' }\n                },\n                'letters': {\n                    '0|1|2|3|a|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },\n                    'q|dq': { action_: ['output', 'o='], nextState: 'o' },\n                    'd|D|qd|qD': { action_: 'o after d', nextState: 'o' }\n                },\n                'digits': {\n                    'o': { action_: 'q=', nextState: 'q' },\n                    'd|D': { action_: 'q=', nextState: 'dq' },\n                    'q': { action_: ['output', 'o='], nextState: 'o' },\n                    'a': { action_: 'o=', nextState: 'o' }\n                },\n                'space A': {\n                    'b|p|bp': { action_: [] }\n                },\n                'space': {\n                    'a': { action_: [], nextState: 'as' },\n                    '0': { action_: 'sb=false' },\n                    '1|2': { action_: 'sb=true' },\n                    'r|rt|rd|rdt|rdq': { action_: 'output', nextState: '0' },\n                    '*': { action_: ['output', 'sb=true'], nextState: '1' }\n                },\n                '1st-level escape': {\n                    '1|2': { action_: ['output', { type_: 'insert+p1', option: '1st-level escape' }] },\n                    '*': { action_: ['output', { type_: 'insert+p1', option: '1st-level escape' }], nextState: '0' }\n                },\n                '[(...)]': {\n                    'r|rt': { action_: 'rd=', nextState: 'rd' },\n                    'rd|rdt': { action_: 'rq=', nextState: 'rdq' }\n                },\n                '...': {\n                    'o|d|D|dq|qd|qD': { action_: ['output', { type_: 'bond', option: \"...\" }], nextState: '3' },\n                    '*': { action_: [{ type_: 'output', option: 1 }, { type_: 'insert', option: 'ellipsis' }], nextState: '1' }\n                },\n                '. __* ': {\n                    '*': { action_: ['output', { type_: 'insert', option: 'addition compound' }], nextState: '1' }\n                },\n                'state of aggregation $': {\n                    '*': { action_: ['output', 'state of aggregation'], nextState: '1' }\n                },\n                '{[(': {\n                    'a|as|o': { action_: ['o=', 'output', 'parenthesisLevel++'], nextState: '2' },\n                    '0|1|2|3': { action_: ['o=', 'output', 'parenthesisLevel++'], nextState: '2' },\n                    '*': { action_: ['output', 'o=', 'output', 'parenthesisLevel++'], nextState: '2' }\n                },\n                ')]}': {\n                    '0|1|2|3|b|p|bp|o': { action_: ['o=', 'parenthesisLevel--'], nextState: 'o' },\n                    'a|as|d|D|q|qd|qD|dq': { action_: ['output', 'o=', 'parenthesisLevel--'], nextState: 'o' }\n                },\n                ', ': {\n                    '*': { action_: ['output', 'comma'], nextState: '0' }\n                },\n                '^_': {\n                    '*': { action_: [] }\n                },\n                '^{(...)}|^($...$)': {\n                    '0|1|2|as': { action_: 'b=', nextState: 'b' },\n                    'p': { action_: 'b=', nextState: 'bp' },\n                    '3|o': { action_: 'd= kv', nextState: 'D' },\n                    'q': { action_: 'd=', nextState: 'qD' },\n                    'd|D|qd|qD|dq': { action_: ['output', 'd='], nextState: 'D' }\n                },\n                '^a|^\\\\x{}{}|^\\\\x{}|^\\\\x|\\'': {\n                    '0|1|2|as': { action_: 'b=', nextState: 'b' },\n                    'p': { action_: 'b=', nextState: 'bp' },\n                    '3|o': { action_: 'd= kv', nextState: 'd' },\n                    'q': { action_: 'd=', nextState: 'qd' },\n                    'd|qd|D|qD': { action_: 'd=' },\n                    'dq': { action_: ['output', 'd='], nextState: 'd' }\n                },\n                '_{(state of aggregation)}$': {\n                    'd|D|q|qd|qD|dq': { action_: ['output', 'q='], nextState: 'q' }\n                },\n                '_{(...)}|_($...$)|_9|_\\\\x{}{}|_\\\\x{}|_\\\\x': {\n                    '0|1|2|as': { action_: 'p=', nextState: 'p' },\n                    'b': { action_: 'p=', nextState: 'bp' },\n                    '3|o': { action_: 'q=', nextState: 'q' },\n                    'd|D': { action_: 'q=', nextState: 'dq' },\n                    'q|qd|qD|dq': { action_: ['output', 'q='], nextState: 'q' }\n                },\n                '=<>': {\n                    '0|1|2|3|a|as|o|q|d|D|qd|qD|dq': { action_: [{ type_: 'output', option: 2 }, 'bond'], nextState: '3' }\n                },\n                '#': {\n                    '0|1|2|3|a|as|o': { action_: [{ type_: 'output', option: 2 }, { type_: 'bond', option: \"#\" }], nextState: '3' }\n                },\n                '{}^': {\n                    '*': { action_: [{ type_: 'output', option: 1 }, { type_: 'insert', option: 'tinySkip' }], nextState: '1' }\n                },\n                '{}': {\n                    '*': { action_: { type_: 'output', option: 1 }, nextState: '1' }\n                },\n                '{...}': {\n                    '0|1|2|3|a|as|b|p|bp': { action_: 'o=', nextState: 'o' },\n                    'o|d|D|q|qd|qD|dq': { action_: ['output', 'o='], nextState: 'o' }\n                },\n                '$...$': {\n                    'a': { action_: 'a=' },\n                    '0|1|2|3|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },\n                    'as|o': { action_: 'o=' },\n                    'q|d|D|qd|qD|dq': { action_: ['output', 'o='], nextState: 'o' }\n                },\n                '\\\\bond{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'bond'], nextState: \"3\" }\n                },\n                '\\\\frac{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 1 }, 'frac-output'], nextState: '3' }\n                },\n                '\\\\overset{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'overset-output'], nextState: '3' }\n                },\n                '\\\\underset{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'underset-output'], nextState: '3' }\n                },\n                '\\\\underbrace{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'underbrace-output'], nextState: '3' }\n                },\n                '\\\\color{(...)}{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'color-output'], nextState: '3' }\n                },\n                '\\\\color{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'color0-output'] }\n                },\n                '\\\\ce{(...)}': {\n                    '*': { action_: [{ type_: 'output', option: 2 }, 'ce'], nextState: '3' }\n                },\n                '\\\\,': {\n                    '*': { action_: [{ type_: 'output', option: 1 }, 'copy'], nextState: '1' }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: ['output', { type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }], nextState: '3' }\n                },\n                '\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '0|1|2|3|a|as|b|p|bp|o|c0': { action_: ['o=', 'output'], nextState: '3' },\n                    '*': { action_: ['output', 'o=', 'output'], nextState: '3' }\n                },\n                'others': {\n                    '*': { action_: [{ type_: 'output', option: 1 }, 'copy'], nextState: '3' }\n                },\n                'else2': {\n                    'a': { action_: 'a to o', nextState: 'o', revisit: true },\n                    'as': { action_: ['output', 'sb=true'], nextState: '1', revisit: true },\n                    'r|rt|rd|rdt|rdq': { action_: ['output'], nextState: '0', revisit: true },\n                    '*': { action_: ['output', 'copy'], nextState: '3' }\n                }\n            }),\n            actions: {\n                'o after d': function (buffer, m) {\n                    var ret;\n                    if ((buffer.d || \"\").match(/^[1-9][0-9]*$/)) {\n                        var tmp = buffer.d;\n                        buffer.d = undefined;\n                        ret = this['output'](buffer);\n                        ret.push({ type_: 'tinySkip' });\n                        buffer.b = tmp;\n                    }\n                    else {\n                        ret = this['output'](buffer);\n                    }\n                    _mhchemParser.actions['o='](buffer, m);\n                    return ret;\n                },\n                'd= kv': function (buffer, m) {\n                    buffer.d = m;\n                    buffer.dType = 'kv';\n                    return undefined;\n                },\n                'charge or bond': function (buffer, m) {\n                    if (buffer['beginsWithBond']) {\n                        var ret = [];\n                        _mhchemParser.concatArray(ret, this['output'](buffer));\n                        _mhchemParser.concatArray(ret, _mhchemParser.actions['bond'](buffer, m, \"-\"));\n                        return ret;\n                    }\n                    else {\n                        buffer.d = m;\n                        return undefined;\n                    }\n                },\n                '- after o/d': function (buffer, m, isAfterD) {\n                    var c1 = _mhchemParser.patterns.match_('orbital', buffer.o || \"\");\n                    var c2 = _mhchemParser.patterns.match_('one lowercase greek letter $', buffer.o || \"\");\n                    var c3 = _mhchemParser.patterns.match_('one lowercase latin letter $', buffer.o || \"\");\n                    var c4 = _mhchemParser.patterns.match_('$one lowercase latin letter$ $', buffer.o || \"\");\n                    var hyphenFollows = m === \"-\" && (c1 && c1.remainder === \"\" || c2 || c3 || c4);\n                    if (hyphenFollows && !buffer.a && !buffer.b && !buffer.p && !buffer.d && !buffer.q && !c1 && c3) {\n                        buffer.o = '$' + buffer.o + '$';\n                    }\n                    var ret = [];\n                    if (hyphenFollows) {\n                        _mhchemParser.concatArray(ret, this['output'](buffer));\n                        ret.push({ type_: 'hyphen' });\n                    }\n                    else {\n                        c1 = _mhchemParser.patterns.match_('digits', buffer.d || \"\");\n                        if (isAfterD && c1 && c1.remainder === '') {\n                            _mhchemParser.concatArray(ret, _mhchemParser.actions['d='](buffer, m));\n                            _mhchemParser.concatArray(ret, this['output'](buffer));\n                        }\n                        else {\n                            _mhchemParser.concatArray(ret, this['output'](buffer));\n                            _mhchemParser.concatArray(ret, _mhchemParser.actions['bond'](buffer, m, \"-\"));\n                        }\n                    }\n                    return ret;\n                },\n                'a to o': function (buffer) {\n                    buffer.o = buffer.a;\n                    buffer.a = undefined;\n                    return undefined;\n                },\n                'sb=true': function (buffer) { buffer.sb = true; return undefined; },\n                'sb=false': function (buffer) { buffer.sb = false; return undefined; },\n                'beginsWithBond=true': function (buffer) { buffer['beginsWithBond'] = true; return undefined; },\n                'beginsWithBond=false': function (buffer) { buffer['beginsWithBond'] = false; return undefined; },\n                'parenthesisLevel++': function (buffer) { buffer['parenthesisLevel']++; return undefined; },\n                'parenthesisLevel--': function (buffer) { buffer['parenthesisLevel']--; return undefined; },\n                'state of aggregation': function (_buffer, m) {\n                    return { type_: 'state of aggregation', p1: _mhchemParser.go(m, 'o') };\n                },\n                'comma': function (buffer, m) {\n                    var a = m.replace(/\\s*$/, '');\n                    var withSpace = (a !== m);\n                    if (withSpace && buffer['parenthesisLevel'] === 0) {\n                        return { type_: 'comma enumeration L', p1: a };\n                    }\n                    else {\n                        return { type_: 'comma enumeration M', p1: a };\n                    }\n                },\n                'output': function (buffer, _m, entityFollows) {\n                    var ret;\n                    if (!buffer.r) {\n                        ret = [];\n                        if (!buffer.a && !buffer.b && !buffer.p && !buffer.o && !buffer.q && !buffer.d && !entityFollows) {\n                        }\n                        else {\n                            if (buffer.sb) {\n                                ret.push({ type_: 'entitySkip' });\n                            }\n                            if (!buffer.o && !buffer.q && !buffer.d && !buffer.b && !buffer.p && entityFollows !== 2) {\n                                buffer.o = buffer.a;\n                                buffer.a = undefined;\n                            }\n                            else if (!buffer.o && !buffer.q && !buffer.d && (buffer.b || buffer.p)) {\n                                buffer.o = buffer.a;\n                                buffer.d = buffer.b;\n                                buffer.q = buffer.p;\n                                buffer.a = buffer.b = buffer.p = undefined;\n                            }\n                            else {\n                                if (buffer.o && buffer.dType === 'kv' && _mhchemParser.patterns.match_('d-oxidation$', buffer.d || \"\")) {\n                                    buffer.dType = 'oxidation';\n                                }\n                                else if (buffer.o && buffer.dType === 'kv' && !buffer.q) {\n                                    buffer.dType = undefined;\n                                }\n                            }\n                            ret.push({\n                                type_: 'chemfive',\n                                a: _mhchemParser.go(buffer.a, 'a'),\n                                b: _mhchemParser.go(buffer.b, 'bd'),\n                                p: _mhchemParser.go(buffer.p, 'pq'),\n                                o: _mhchemParser.go(buffer.o, 'o'),\n                                q: _mhchemParser.go(buffer.q, 'pq'),\n                                d: _mhchemParser.go(buffer.d, (buffer.dType === 'oxidation' ? 'oxidation' : 'bd')),\n                                dType: buffer.dType\n                            });\n                        }\n                    }\n                    else {\n                        var rd = void 0;\n                        if (buffer.rdt === 'M') {\n                            rd = _mhchemParser.go(buffer.rd, 'tex-math');\n                        }\n                        else if (buffer.rdt === 'T') {\n                            rd = [{ type_: 'text', p1: buffer.rd || \"\" }];\n                        }\n                        else {\n                            rd = _mhchemParser.go(buffer.rd, 'ce');\n                        }\n                        var rq = void 0;\n                        if (buffer.rqt === 'M') {\n                            rq = _mhchemParser.go(buffer.rq, 'tex-math');\n                        }\n                        else if (buffer.rqt === 'T') {\n                            rq = [{ type_: 'text', p1: buffer.rq || \"\" }];\n                        }\n                        else {\n                            rq = _mhchemParser.go(buffer.rq, 'ce');\n                        }\n                        ret = {\n                            type_: 'arrow',\n                            r: buffer.r,\n                            rd: rd,\n                            rq: rq\n                        };\n                    }\n                    for (var p in buffer) {\n                        if (p !== 'parenthesisLevel' && p !== 'beginsWithBond') {\n                            delete buffer[p];\n                        }\n                    }\n                    return ret;\n                },\n                'oxidation-output': function (_buffer, m) {\n                    var ret = [\"{\"];\n                    _mhchemParser.concatArray(ret, _mhchemParser.go(m, 'oxidation'));\n                    ret.push(\"}\");\n                    return ret;\n                },\n                'frac-output': function (_buffer, m) {\n                    return { type_: 'frac-ce', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };\n                },\n                'overset-output': function (_buffer, m) {\n                    return { type_: 'overset', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };\n                },\n                'underset-output': function (_buffer, m) {\n                    return { type_: 'underset', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };\n                },\n                'underbrace-output': function (_buffer, m) {\n                    return { type_: 'underbrace', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };\n                },\n                'color-output': function (_buffer, m) {\n                    return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'ce') };\n                },\n                'r=': function (buffer, m) { buffer.r = m; return undefined; },\n                'rdt=': function (buffer, m) { buffer.rdt = m; return undefined; },\n                'rd=': function (buffer, m) { buffer.rd = m; return undefined; },\n                'rqt=': function (buffer, m) { buffer.rqt = m; return undefined; },\n                'rq=': function (buffer, m) { buffer.rq = m; return undefined; },\n                'operator': function (_buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; }\n            }\n        },\n        'a': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                '1/2$': {\n                    '0': { action_: '1/2' }\n                },\n                'else': {\n                    '0': { action_: [], nextState: '1', revisit: true }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math tight', nextState: '1' }\n                },\n                ',': {\n                    '*': { action_: { type_: 'insert', option: 'commaDecimal' } }\n                },\n                'else2': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {}\n        },\n        'o': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                '1/2$': {\n                    '0': { action_: '1/2' }\n                },\n                'else': {\n                    '0': { action_: [], nextState: '1', revisit: true }\n                },\n                'letters': {\n                    '*': { action_: 'rm' }\n                },\n                '\\\\ca': {\n                    '*': { action_: { type_: 'insert', option: 'circa' } }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: [{ type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: 'copy' }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math' }\n                },\n                '{(...)}': {\n                    '*': { action_: [{ type_: 'write', option: \"{\" }, 'text', { type_: 'write', option: \"}\" }] }\n                },\n                'else2': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {}\n        },\n        'text': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                '{...}': {\n                    '*': { action_: 'text=' }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math' }\n                },\n                '\\\\greek': {\n                    '*': { action_: ['output', 'rm'] }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: ['output', { type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: ['output', 'copy'] }\n                },\n                'else': {\n                    '*': { action_: 'text=' }\n                }\n            }),\n            actions: {\n                'output': function (buffer) {\n                    if (buffer.text_) {\n                        var ret = { type_: 'text', p1: buffer.text_ };\n                        for (var p in buffer) {\n                            delete buffer[p];\n                        }\n                        return ret;\n                    }\n                    return undefined;\n                }\n            }\n        },\n        'pq': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                'state of aggregation $': {\n                    '*': { action_: 'state of aggregation' }\n                },\n                'i$': {\n                    '0': { action_: [], nextState: '!f', revisit: true }\n                },\n                '(KV letters),': {\n                    '0': { action_: 'rm', nextState: '0' }\n                },\n                'formula$': {\n                    '0': { action_: [], nextState: 'f', revisit: true }\n                },\n                '1/2$': {\n                    '0': { action_: '1/2' }\n                },\n                'else': {\n                    '0': { action_: [], nextState: '!f', revisit: true }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math' }\n                },\n                '{(...)}': {\n                    '*': { action_: 'text' }\n                },\n                'a-z': {\n                    'f': { action_: 'tex-math' }\n                },\n                'letters': {\n                    '*': { action_: 'rm' }\n                },\n                '-9.,9': {\n                    '*': { action_: '9,9' }\n                },\n                ',': {\n                    '*': { action_: { type_: 'insert+p1', option: 'comma enumeration S' } }\n                },\n                '\\\\color{(...)}{(...)}': {\n                    '*': { action_: 'color-output' }\n                },\n                '\\\\color{(...)}': {\n                    '*': { action_: 'color0-output' }\n                },\n                '\\\\ce{(...)}': {\n                    '*': { action_: 'ce' }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: [{ type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: 'copy' }\n                },\n                'else2': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {\n                'state of aggregation': function (_buffer, m) {\n                    return { type_: 'state of aggregation subscript', p1: _mhchemParser.go(m, 'o') };\n                },\n                'color-output': function (_buffer, m) {\n                    return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'pq') };\n                }\n            }\n        },\n        'bd': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                'x$': {\n                    '0': { action_: [], nextState: '!f', revisit: true }\n                },\n                'formula$': {\n                    '0': { action_: [], nextState: 'f', revisit: true }\n                },\n                'else': {\n                    '0': { action_: [], nextState: '!f', revisit: true }\n                },\n                '-9.,9 no missing 0': {\n                    '*': { action_: '9,9' }\n                },\n                '.': {\n                    '*': { action_: { type_: 'insert', option: 'electron dot' } }\n                },\n                'a-z': {\n                    'f': { action_: 'tex-math' }\n                },\n                'x': {\n                    '*': { action_: { type_: 'insert', option: 'KV x' } }\n                },\n                'letters': {\n                    '*': { action_: 'rm' }\n                },\n                '\\'': {\n                    '*': { action_: { type_: 'insert', option: 'prime' } }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math' }\n                },\n                '{(...)}': {\n                    '*': { action_: 'text' }\n                },\n                '\\\\color{(...)}{(...)}': {\n                    '*': { action_: 'color-output' }\n                },\n                '\\\\color{(...)}': {\n                    '*': { action_: 'color0-output' }\n                },\n                '\\\\ce{(...)}': {\n                    '*': { action_: 'ce' }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: [{ type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: 'copy' }\n                },\n                'else2': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {\n                'color-output': function (_buffer, m) {\n                    return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'bd') };\n                }\n            }\n        },\n        'oxidation': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                'roman numeral': {\n                    '*': { action_: 'roman-numeral' }\n                },\n                '${(...)}$__$(...)$': {\n                    '*': { action_: 'tex-math' }\n                },\n                'else': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {\n                'roman-numeral': function (_buffer, m) { return { type_: 'roman numeral', p1: m }; }\n            }\n        },\n        'tex-math': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                '\\\\ce{(...)}': {\n                    '*': { action_: ['output', 'ce'] }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: ['output', { type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '{...}|\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: 'o=' }\n                },\n                'else': {\n                    '*': { action_: 'o=' }\n                }\n            }),\n            actions: {\n                'output': function (buffer) {\n                    if (buffer.o) {\n                        var ret = { type_: 'tex-math', p1: buffer.o };\n                        for (var p in buffer) {\n                            delete buffer[p];\n                        }\n                        return ret;\n                    }\n                    return undefined;\n                }\n            }\n        },\n        'tex-math tight': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                '\\\\ce{(...)}': {\n                    '*': { action_: ['output', 'ce'] }\n                },\n                '\\\\pu{(...)}': {\n                    '*': { action_: ['output', { type_: 'write', option: \"{\" }, 'pu', { type_: 'write', option: \"}\" }] }\n                },\n                '{...}|\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n                    '*': { action_: 'o=' }\n                },\n                '-|+': {\n                    '*': { action_: 'tight operator' }\n                },\n                'else': {\n                    '*': { action_: 'o=' }\n                }\n            }),\n            actions: {\n                'tight operator': function (buffer, m) { buffer.o = (buffer.o || \"\") + \"{\" + m + \"}\"; return undefined; },\n                'output': function (buffer) {\n                    if (buffer.o) {\n                        var ret = { type_: 'tex-math', p1: buffer.o };\n                        for (var p in buffer) {\n                            delete buffer[p];\n                        }\n                        return ret;\n                    }\n                    return undefined;\n                }\n            }\n        },\n        '9,9': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: [] }\n                },\n                ',': {\n                    '*': { action_: 'comma' }\n                },\n                'else': {\n                    '*': { action_: 'copy' }\n                }\n            }),\n            actions: {\n                'comma': function () { return { type_: 'commaDecimal' }; }\n            }\n        },\n        'pu': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                'space$': {\n                    '*': { action_: ['output', 'space'] }\n                },\n                '{[(|)]}': {\n                    '0|a': { action_: 'copy' }\n                },\n                '(-)(9)^(-9)': {\n                    '0': { action_: 'number^', nextState: 'a' }\n                },\n                '(-)(9.,9)(e)(99)': {\n                    '0': { action_: 'enumber', nextState: 'a' }\n                },\n                'space': {\n                    '0|a': { action_: [] }\n                },\n                'pm-operator': {\n                    '0|a': { action_: { type_: 'operator', option: '\\\\pm' }, nextState: '0' }\n                },\n                'operator': {\n                    '0|a': { action_: 'copy', nextState: '0' }\n                },\n                '//': {\n                    'd': { action_: 'o=', nextState: '/' }\n                },\n                '/': {\n                    'd': { action_: 'o=', nextState: '/' }\n                },\n                '{...}|else': {\n                    '0|d': { action_: 'd=', nextState: 'd' },\n                    'a': { action_: ['space', 'd='], nextState: 'd' },\n                    '/|q': { action_: 'q=', nextState: 'q' }\n                }\n            }),\n            actions: {\n                'enumber': function (_buffer, m) {\n                    var ret = [];\n                    if (m[0] === \"+-\" || m[0] === \"+/-\") {\n                        ret.push(\"\\\\pm \");\n                    }\n                    else if (m[0]) {\n                        ret.push(m[0]);\n                    }\n                    if (m[1]) {\n                        _mhchemParser.concatArray(ret, _mhchemParser.go(m[1], 'pu-9,9'));\n                        if (m[2]) {\n                            if (m[2].match(/[,.]/)) {\n                                _mhchemParser.concatArray(ret, _mhchemParser.go(m[2], 'pu-9,9'));\n                            }\n                            else {\n                                ret.push(m[2]);\n                            }\n                        }\n                        if (m[3] || m[4]) {\n                            if (m[3] === \"e\" || m[4] === \"*\") {\n                                ret.push({ type_: 'cdot' });\n                            }\n                            else {\n                                ret.push({ type_: 'times' });\n                            }\n                        }\n                    }\n                    if (m[5]) {\n                        ret.push(\"10^{\" + m[5] + \"}\");\n                    }\n                    return ret;\n                },\n                'number^': function (_buffer, m) {\n                    var ret = [];\n                    if (m[0] === \"+-\" || m[0] === \"+/-\") {\n                        ret.push(\"\\\\pm \");\n                    }\n                    else if (m[0]) {\n                        ret.push(m[0]);\n                    }\n                    _mhchemParser.concatArray(ret, _mhchemParser.go(m[1], 'pu-9,9'));\n                    ret.push(\"^{\" + m[2] + \"}\");\n                    return ret;\n                },\n                'operator': function (_buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; },\n                'space': function () { return { type_: 'pu-space-1' }; },\n                'output': function (buffer) {\n                    var ret;\n                    var md = _mhchemParser.patterns.match_('{(...)}', buffer.d || \"\");\n                    if (md && md.remainder === '') {\n                        buffer.d = md.match_;\n                    }\n                    var mq = _mhchemParser.patterns.match_('{(...)}', buffer.q || \"\");\n                    if (mq && mq.remainder === '') {\n                        buffer.q = mq.match_;\n                    }\n                    if (buffer.d) {\n                        buffer.d = buffer.d.replace(/\\u00B0C|\\^oC|\\^{o}C/g, \"{}^{\\\\circ}C\");\n                        buffer.d = buffer.d.replace(/\\u00B0F|\\^oF|\\^{o}F/g, \"{}^{\\\\circ}F\");\n                    }\n                    if (buffer.q) {\n                        buffer.q = buffer.q.replace(/\\u00B0C|\\^oC|\\^{o}C/g, \"{}^{\\\\circ}C\");\n                        buffer.q = buffer.q.replace(/\\u00B0F|\\^oF|\\^{o}F/g, \"{}^{\\\\circ}F\");\n                        var b5 = {\n                            d: _mhchemParser.go(buffer.d, 'pu'),\n                            q: _mhchemParser.go(buffer.q, 'pu')\n                        };\n                        if (buffer.o === '//') {\n                            ret = { type_: 'pu-frac', p1: b5.d, p2: b5.q };\n                        }\n                        else {\n                            ret = b5.d;\n                            if (b5.d.length > 1 || b5.q.length > 1) {\n                                ret.push({ type_: ' / ' });\n                            }\n                            else {\n                                ret.push({ type_: '/' });\n                            }\n                            _mhchemParser.concatArray(ret, b5.q);\n                        }\n                    }\n                    else {\n                        ret = _mhchemParser.go(buffer.d, 'pu-2');\n                    }\n                    for (var p in buffer) {\n                        delete buffer[p];\n                    }\n                    return ret;\n                }\n            }\n        },\n        'pu-2': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '*': { action_: 'output' }\n                },\n                '*': {\n                    '*': { action_: ['output', 'cdot'], nextState: '0' }\n                },\n                '\\\\x': {\n                    '*': { action_: 'rm=' }\n                },\n                'space': {\n                    '*': { action_: ['output', 'space'], nextState: '0' }\n                },\n                '^{(...)}|^(-1)': {\n                    '1': { action_: '^(-1)' }\n                },\n                '-9.,9': {\n                    '0': { action_: 'rm=', nextState: '0' },\n                    '1': { action_: '^(-1)', nextState: '0' }\n                },\n                '{...}|else': {\n                    '*': { action_: 'rm=', nextState: '1' }\n                }\n            }),\n            actions: {\n                'cdot': function () { return { type_: 'tight cdot' }; },\n                '^(-1)': function (buffer, m) { buffer.rm += \"^{\" + m + \"}\"; return undefined; },\n                'space': function () { return { type_: 'pu-space-2' }; },\n                'output': function (buffer) {\n                    var ret = [];\n                    if (buffer.rm) {\n                        var mrm = _mhchemParser.patterns.match_('{(...)}', buffer.rm || \"\");\n                        if (mrm && mrm.remainder === '') {\n                            ret = _mhchemParser.go(mrm.match_, 'pu');\n                        }\n                        else {\n                            ret = { type_: 'rm', p1: buffer.rm };\n                        }\n                    }\n                    for (var p in buffer) {\n                        delete buffer[p];\n                    }\n                    return ret;\n                }\n            }\n        },\n        'pu-9,9': {\n            transitions: _mhchemCreateTransitions({\n                'empty': {\n                    '0': { action_: 'output-0' },\n                    'o': { action_: 'output-o' }\n                },\n                ',': {\n                    '0': { action_: ['output-0', 'comma'], nextState: 'o' }\n                },\n                '.': {\n                    '0': { action_: ['output-0', 'copy'], nextState: 'o' }\n                },\n                'else': {\n                    '*': { action_: 'text=' }\n                }\n            }),\n            actions: {\n                'comma': function () { return { type_: 'commaDecimal' }; },\n                'output-0': function (buffer) {\n                    var ret = [];\n                    buffer.text_ = buffer.text_ || \"\";\n                    if (buffer.text_.length > 4) {\n                        var a = buffer.text_.length % 3;\n                        if (a === 0) {\n                            a = 3;\n                        }\n                        for (var i = buffer.text_.length - 3; i > 0; i -= 3) {\n                            ret.push(buffer.text_.substr(i, 3));\n                            ret.push({ type_: '1000 separator' });\n                        }\n                        ret.push(buffer.text_.substr(0, a));\n                        ret.reverse();\n                    }\n                    else {\n                        ret.push(buffer.text_);\n                    }\n                    for (var p in buffer) {\n                        delete buffer[p];\n                    }\n                    return ret;\n                },\n                'output-o': function (buffer) {\n                    var ret = [];\n                    buffer.text_ = buffer.text_ || \"\";\n                    if (buffer.text_.length > 4) {\n                        var a = buffer.text_.length - 3;\n                        var i = void 0;\n                        for (i = 0; i < a; i += 3) {\n                            ret.push(buffer.text_.substr(i, 3));\n                            ret.push({ type_: '1000 separator' });\n                        }\n                        ret.push(buffer.text_.substr(i));\n                    }\n                    else {\n                        ret.push(buffer.text_);\n                    }\n                    for (var p in buffer) {\n                        delete buffer[p];\n                    }\n                    return ret;\n                }\n            }\n        }\n    }\n};\nvar _mhchemTexify = {\n    go: function (input, addOuterBraces) {\n        if (!input) {\n            return \"\";\n        }\n        var res = \"\";\n        var cee = false;\n        for (var i = 0; i < input.length; i++) {\n            var inputi = input[i];\n            if (typeof inputi === \"string\") {\n                res += inputi;\n            }\n            else {\n                res += _mhchemTexify._go2(inputi);\n                if (inputi.type_ === '1st-level escape') {\n                    cee = true;\n                }\n            }\n        }\n        if (addOuterBraces && !cee && res) {\n            res = \"{\" + res + \"}\";\n        }\n        return res;\n    },\n    _goInner: function (input) {\n        return _mhchemTexify.go(input, false);\n    },\n    _go2: function (buf) {\n        var res;\n        switch (buf.type_) {\n            case 'chemfive':\n                res = \"\";\n                var b5 = {\n                    a: _mhchemTexify._goInner(buf.a),\n                    b: _mhchemTexify._goInner(buf.b),\n                    p: _mhchemTexify._goInner(buf.p),\n                    o: _mhchemTexify._goInner(buf.o),\n                    q: _mhchemTexify._goInner(buf.q),\n                    d: _mhchemTexify._goInner(buf.d)\n                };\n                if (b5.a) {\n                    if (b5.a.match(/^[+\\-]/)) {\n                        b5.a = \"{\" + b5.a + \"}\";\n                    }\n                    res += b5.a + \"\\\\,\";\n                }\n                if (b5.b || b5.p) {\n                    res += \"{\\\\vphantom{A}}\";\n                    res += \"^{\\\\hphantom{\" + (b5.b || \"\") + \"}}_{\\\\hphantom{\" + (b5.p || \"\") + \"}}\";\n                    res += \"\\\\mkern-1.5mu\";\n                    res += \"{\\\\vphantom{A}}\";\n                    res += \"^{\\\\smash[t]{\\\\vphantom{2}}\\\\llap{\" + (b5.b || \"\") + \"}}\";\n                    res += \"_{\\\\vphantom{2}\\\\llap{\\\\smash[t]{\" + (b5.p || \"\") + \"}}}\";\n                }\n                if (b5.o) {\n                    if (b5.o.match(/^[+\\-]/)) {\n                        b5.o = \"{\" + b5.o + \"}\";\n                    }\n                    res += b5.o;\n                }\n                if (buf.dType === 'kv') {\n                    if (b5.d || b5.q) {\n                        res += \"{\\\\vphantom{A}}\";\n                    }\n                    if (b5.d) {\n                        res += \"^{\" + b5.d + \"}\";\n                    }\n                    if (b5.q) {\n                        res += \"_{\\\\smash[t]{\" + b5.q + \"}}\";\n                    }\n                }\n                else if (buf.dType === 'oxidation') {\n                    if (b5.d) {\n                        res += \"{\\\\vphantom{A}}\";\n                        res += \"^{\" + b5.d + \"}\";\n                    }\n                    if (b5.q) {\n                        res += \"{\\\\vphantom{A}}\";\n                        res += \"_{\\\\smash[t]{\" + b5.q + \"}}\";\n                    }\n                }\n                else {\n                    if (b5.q) {\n                        res += \"{\\\\vphantom{A}}\";\n                        res += \"_{\\\\smash[t]{\" + b5.q + \"}}\";\n                    }\n                    if (b5.d) {\n                        res += \"{\\\\vphantom{A}}\";\n                        res += \"^{\" + b5.d + \"}\";\n                    }\n                }\n                break;\n            case 'rm':\n                res = \"\\\\mathrm{\" + buf.p1 + \"}\";\n                break;\n            case 'text':\n                if (buf.p1.match(/[\\^_]/)) {\n                    buf.p1 = buf.p1.replace(\" \", \"~\").replace(\"-\", \"\\\\text{-}\");\n                    res = \"\\\\mathrm{\" + buf.p1 + \"}\";\n                }\n                else {\n                    res = \"\\\\text{\" + buf.p1 + \"}\";\n                }\n                break;\n            case 'roman numeral':\n                res = \"\\\\mathrm{\" + buf.p1 + \"}\";\n                break;\n            case 'state of aggregation':\n                res = \"\\\\mskip2mu \" + _mhchemTexify._goInner(buf.p1);\n                break;\n            case 'state of aggregation subscript':\n                res = \"\\\\mskip1mu \" + _mhchemTexify._goInner(buf.p1);\n                break;\n            case 'bond':\n                res = _mhchemTexify._getBond(buf.kind_);\n                if (!res) {\n                    throw [\"MhchemErrorBond\", \"mhchem Error. Unknown bond type (\" + buf.kind_ + \")\"];\n                }\n                break;\n            case 'frac':\n                var c = \"\\\\frac{\" + buf.p1 + \"}{\" + buf.p2 + \"}\";\n                res = \"\\\\mathchoice{\\\\textstyle\" + c + \"}{\" + c + \"}{\" + c + \"}{\" + c + \"}\";\n                break;\n            case 'pu-frac':\n                var d = \"\\\\frac{\" + _mhchemTexify._goInner(buf.p1) + \"}{\" + _mhchemTexify._goInner(buf.p2) + \"}\";\n                res = \"\\\\mathchoice{\\\\textstyle\" + d + \"}{\" + d + \"}{\" + d + \"}{\" + d + \"}\";\n                break;\n            case 'tex-math':\n                res = buf.p1 + \" \";\n                break;\n            case 'frac-ce':\n                res = \"\\\\frac{\" + _mhchemTexify._goInner(buf.p1) + \"}{\" + _mhchemTexify._goInner(buf.p2) + \"}\";\n                break;\n            case 'overset':\n                res = \"\\\\overset{\" + _mhchemTexify._goInner(buf.p1) + \"}{\" + _mhchemTexify._goInner(buf.p2) + \"}\";\n                break;\n            case 'underset':\n                res = \"\\\\underset{\" + _mhchemTexify._goInner(buf.p1) + \"}{\" + _mhchemTexify._goInner(buf.p2) + \"}\";\n                break;\n            case 'underbrace':\n                res = \"\\\\underbrace{\" + _mhchemTexify._goInner(buf.p1) + \"}_{\" + _mhchemTexify._goInner(buf.p2) + \"}\";\n                break;\n            case 'color':\n                res = \"{\\\\color{\" + buf.color1 + \"}{\" + _mhchemTexify._goInner(buf.color2) + \"}}\";\n                break;\n            case 'color0':\n                res = \"\\\\color{\" + buf.color + \"}\";\n                break;\n            case 'arrow':\n                var b6 = {\n                    rd: _mhchemTexify._goInner(buf.rd),\n                    rq: _mhchemTexify._goInner(buf.rq)\n                };\n                var arrow = _mhchemTexify._getArrow(buf.r);\n                if (b6.rd || b6.rq) {\n                    if (buf.r === \"<=>\" || buf.r === \"<=>>\" || buf.r === \"<<=>\" || buf.r === \"<-->\") {\n                        arrow = \"\\\\long\" + arrow;\n                        if (b6.rd) {\n                            arrow = \"\\\\overset{\" + b6.rd + \"}{\" + arrow + \"}\";\n                        }\n                        if (b6.rq) {\n                            if (buf.r === \"<-->\") {\n                                arrow = \"\\\\underset{\\\\lower2mu{\" + b6.rq + \"}}{\" + arrow + \"}\";\n                            }\n                            else {\n                                arrow = \"\\\\underset{\\\\lower6mu{\" + b6.rq + \"}}{\" + arrow + \"}\";\n                            }\n                        }\n                        arrow = \" {}\\\\mathrel{\" + arrow + \"}{} \";\n                    }\n                    else {\n                        if (b6.rq) {\n                            arrow += \"[{\" + b6.rq + \"}]\";\n                        }\n                        arrow += \"{\" + b6.rd + \"}\";\n                        arrow = \" {}\\\\mathrel{\\\\x\" + arrow + \"}{} \";\n                    }\n                }\n                else {\n                    arrow = \" {}\\\\mathrel{\\\\long\" + arrow + \"}{} \";\n                }\n                res = arrow;\n                break;\n            case 'operator':\n                res = _mhchemTexify._getOperator(buf.kind_);\n                break;\n            case '1st-level escape':\n                res = buf.p1 + \" \";\n                break;\n            case 'space':\n                res = \" \";\n                break;\n            case 'tinySkip':\n                res = '\\\\mkern2mu';\n                break;\n            case 'entitySkip':\n                res = \"~\";\n                break;\n            case 'pu-space-1':\n                res = \"~\";\n                break;\n            case 'pu-space-2':\n                res = \"\\\\mkern3mu \";\n                break;\n            case '1000 separator':\n                res = \"\\\\mkern2mu \";\n                break;\n            case 'commaDecimal':\n                res = \"{,}\";\n                break;\n            case 'comma enumeration L':\n                res = \"{\" + buf.p1 + \"}\\\\mkern6mu \";\n                break;\n            case 'comma enumeration M':\n                res = \"{\" + buf.p1 + \"}\\\\mkern3mu \";\n                break;\n            case 'comma enumeration S':\n                res = \"{\" + buf.p1 + \"}\\\\mkern1mu \";\n                break;\n            case 'hyphen':\n                res = \"\\\\text{-}\";\n                break;\n            case 'addition compound':\n                res = \"\\\\,{\\\\cdot}\\\\,\";\n                break;\n            case 'electron dot':\n                res = \"\\\\mkern1mu \\\\bullet\\\\mkern1mu \";\n                break;\n            case 'KV x':\n                res = \"{\\\\times}\";\n                break;\n            case 'prime':\n                res = \"\\\\prime \";\n                break;\n            case 'cdot':\n                res = \"\\\\cdot \";\n                break;\n            case 'tight cdot':\n                res = \"\\\\mkern1mu{\\\\cdot}\\\\mkern1mu \";\n                break;\n            case 'times':\n                res = \"\\\\times \";\n                break;\n            case 'circa':\n                res = \"{\\\\sim}\";\n                break;\n            case '^':\n                res = \"uparrow\";\n                break;\n            case 'v':\n                res = \"downarrow\";\n                break;\n            case 'ellipsis':\n                res = \"\\\\ldots \";\n                break;\n            case '/':\n                res = \"/\";\n                break;\n            case ' / ':\n                res = \"\\\\,/\\\\,\";\n                break;\n            default:\n                assertNever(buf);\n                throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n        }\n        return res;\n    },\n    _getArrow: function (a) {\n        switch (a) {\n            case \"->\": return \"rightarrow\";\n            case \"\\u2192\": return \"rightarrow\";\n            case \"\\u27F6\": return \"rightarrow\";\n            case \"<-\": return \"leftarrow\";\n            case \"<->\": return \"leftrightarrow\";\n            case \"<-->\": return \"leftrightarrows\";\n            case \"<=>\": return \"rightleftharpoons\";\n            case \"\\u21CC\": return \"rightleftharpoons\";\n            case \"<=>>\": return \"Rightleftharpoons\";\n            case \"<<=>\": return \"Leftrightharpoons\";\n            default:\n                assertNever(a);\n                throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n        }\n    },\n    _getBond: function (a) {\n        switch (a) {\n            case \"-\": return \"{-}\";\n            case \"1\": return \"{-}\";\n            case \"=\": return \"{=}\";\n            case \"2\": return \"{=}\";\n            case \"#\": return \"{\\\\equiv}\";\n            case \"3\": return \"{\\\\equiv}\";\n            case \"~\": return \"{\\\\tripledash}\";\n            case \"~-\": return \"{\\\\rlap{\\\\lower.1em{-}}\\\\raise.1em{\\\\tripledash}}\";\n            case \"~=\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{\\\\tripledash}}-}\";\n            case \"~--\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{\\\\tripledash}}-}\";\n            case \"-~-\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{-}}\\\\tripledash}\";\n            case \"...\": return \"{{\\\\cdot}{\\\\cdot}{\\\\cdot}}\";\n            case \"....\": return \"{{\\\\cdot}{\\\\cdot}{\\\\cdot}{\\\\cdot}}\";\n            case \"->\": return \"{\\\\rightarrow}\";\n            case \"<-\": return \"{\\\\leftarrow}\";\n            case \"<\": return \"{<}\";\n            case \">\": return \"{>}\";\n            default:\n                assertNever(a);\n                throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n        }\n    },\n    _getOperator: function (a) {\n        switch (a) {\n            case \"+\": return \" {}+{} \";\n            case \"-\": return \" {}-{} \";\n            case \"=\": return \" {}={} \";\n            case \"<\": return \" {}<{} \";\n            case \">\": return \" {}>{} \";\n            case \"<<\": return \" {}\\\\ll{} \";\n            case \">>\": return \" {}\\\\gg{} \";\n            case \"\\\\pm\": return \" {}\\\\pm{} \";\n            case \"\\\\approx\": return \" {}\\\\approx{} \";\n            case \"$\\\\approx$\": return \" {}\\\\approx{} \";\n            case \"v\": return \" \\\\downarrow{} \";\n            case \"(v)\": return \" \\\\downarrow{} \";\n            case \"^\": return \" \\\\uparrow{} \";\n            case \"(^)\": return \" \\\\uparrow{} \";\n            default:\n                assertNever(a);\n                throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n        }\n    }\n};\nfunction assertNever(a) { }\n"],"names":["Object","defineProperty","exports","value","AllPackages","MathJax","loader","preLoad","__importDefault","this","mod","__esModule","ActionConfiguration","ActionMethods","Configuration_js_1","TexParser_js_1","SymbolMap_js_1","BaseMethods_js_1","Macro","default","Toggle","parser","name","children","arg","GetArgument","push","stack","env","configuration","mml","Push","create","actiontype","Mathtip","ParseArg","tip","CommandMap","toggle","mathtip","texttip","Configuration","handler","macro","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","_a","AmsConfiguration","AmsTags","AmsItems_js_1","Tags_js_1","AmsMethods_js_1","_super","apply","arguments","AbstractTags","init","config","NEW_OPS","append","local","priority","character","delimiter","environment","items","MultlineItem","kind","FlalignItem","tags","_config","jax","parseOptions","options","multlineWidth","ams","multlineIndent","__assign","assign","t","s","i","n","length","BaseItems_js_1","ParseUtil_js_1","NodeUtil_js_1","TexError_js_1","TexConstants_js_1","factory","args","_i","_this","start","get","enumerable","configurable","EndEntry","table","fixInitialMO","nodes","shove","getProperty","mtd","columnalign","setProperty","row","Clear","EndRow","EndTable","m","label","getAttribute","getChildren","setAttribute","TexConstant","Align","LEFT","RIGHT","tag","getTag","arraydef","side","mtr","mlabel","concat","copyAttributes","end","ArrayItem","numbered","padded","center","cell","shift","maxrow","isKind","def","width","lspace","mpadded","setChildren","global","indentalign","EqnArrayItem","__createBinding","o","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","__setModuleDefault","v","__importStar","result","sm","ParseMethods_js_1","MmlNode_js_1","lengths_js_1","CharacterMap","mathchar0mo","iiiint","texClass","TEXCLASS","OP","RegExpMap","AmsMethods","operatorLetter","mathring","nobreakspace","negmedspace","MATHSPACE","negativemediummathspace","negthickspace","negativethickmathspace","idotsint","dddot","ddddot","sideset","boxed","notag","eqref","substack","injlim","projlim","varliminf","varlimsup","varinjlim","varprojlim","DeclareMathOperator","operatorname","genfrac","frac","tfrac","dfrac","binom","tbinom","dbinom","cfrac","shoveleft","shoveright","xrightarrow","xleftarrow","EnvironmentMap","cols","thickmathspace","align","multline","split","gather","alignat","alignedat","aligned","gathered","xalignat","xxalignat","flalign","subarray","smallmatrix","matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","cases","DelimiterMap","OPEN","CLOSE","mathchar0mi","digamma","varkappa","varGamma","mathvariant","Variant","ITALIC","varDelta","varTheta","varLambda","varXi","varPi","varSigma","varUpsilon","varPhi","varPsi","varOmega","beth","gimel","daleth","backprime","variantForm","hslash","varnothing","blacktriangle","triangledown","blacktriangledown","square","Box","blacksquare","lozenge","Diamond","blacklozenge","circledS","NORMAL","bigstar","sphericalangle","measuredangle","nexists","complement","mho","eth","Finv","diagup","Game","diagdown","Bbbk","DOUBLESTRUCK","yen","circledR","checkmark","maltese","dotplus","ltimes","smallsetminus","rtimes","Cap","doublecap","leftthreetimes","Cup","doublecup","rightthreetimes","barwedge","curlywedge","veebar","curlyvee","doublebarwedge","boxminus","circleddash","boxtimes","circledast","boxdot","circledcirc","boxplus","centerdot","divideontimes","intercal","leqq","geqq","leqslant","geqslant","eqslantless","eqslantgtr","lesssim","gtrsim","lessapprox","gtrapprox","approxeq","lessdot","gtrdot","lll","llless","ggg","gggtr","lessgtr","gtrless","lesseqgtr","gtreqless","lesseqqgtr","gtreqqless","doteqdot","Doteq","eqcirc","risingdotseq","circeq","fallingdotseq","triangleq","backsim","thicksim","backsimeq","thickapprox","subseteqq","supseteqq","Subset","Supset","sqsubset","sqsupset","preccurlyeq","succcurlyeq","curlyeqprec","curlyeqsucc","precsim","succsim","precapprox","succapprox","vartriangleleft","lhd","vartriangleright","rhd","trianglelefteq","unlhd","trianglerighteq","unrhd","vDash","Vdash","Vvdash","smallsmile","shortmid","smallfrown","shortparallel","bumpeq","between","Bumpeq","pitchfork","varpropto","backepsilon","blacktriangleleft","blacktriangleright","therefore","because","eqsim","vartriangle","Join","nless","ngtr","nleq","ngeq","nleqslant","ngeqslant","nleqq","ngeqq","lneq","gneq","lneqq","gneqq","lvertneqq","gvertneqq","lnsim","gnsim","lnapprox","gnapprox","nprec","nsucc","npreceq","nsucceq","precneqq","succneqq","precnsim","succnsim","precnapprox","succnapprox","nsim","ncong","nshortmid","nshortparallel","nmid","nparallel","nvdash","nvDash","nVdash","nVDash","ntriangleleft","ntriangleright","ntrianglelefteq","ntrianglerighteq","nsubseteq","nsupseteq","nsubseteqq","nsupseteqq","subsetneq","supsetneq","varsubsetneq","varsupsetneq","subsetneqq","supsetneqq","varsubsetneqq","varsupsetneqq","leftleftarrows","rightrightarrows","leftrightarrows","rightleftarrows","Lleftarrow","Rrightarrow","twoheadleftarrow","twoheadrightarrow","leftarrowtail","rightarrowtail","looparrowleft","looparrowright","leftrightharpoons","rightleftharpoons","curvearrowleft","curvearrowright","circlearrowleft","circlearrowright","Lsh","Rsh","upuparrows","downdownarrows","upharpoonleft","upharpoonright","downharpoonleft","restriction","multimap","downharpoonright","leftrightsquigarrow","rightsquigarrow","leadsto","dashrightarrow","dashleftarrow","nleftarrow","nrightarrow","nLeftarrow","nRightarrow","nleftrightarrow","nLeftrightarrow","implies","impliedby","__read","Symbol","iterator","r","ar","e","next","done","error","Symbol_js_1","AmsEqnArray","begin","taggable","spacing","style","GetBrackets","getName","array","EqnArray","setArrayAlign","AlignAt","valign","match","count","parseInt","spaceStr","join","Multline","checkEqnEnv","item","itemFactory","displaystyle","rowspacing","columnspacing","minlabelspacing","framespacing","frame","XalignAt","FlalignArray","zeroWidthLabel","replace","columnwidth","HandleDeclareOp","star","GetStar","cs","trimSpaces","charAt","substr","op","handlers","retrieve","add","HandleOperatorName","font","multiLetterIdentifiers","operatorLetters","setProperties","movesupsub","movablelimits","c","GetNext","GetCS","SideSet","splitSideSet","preScripts","preRest","_b","postScripts","postRest","base","replaceChild","copyNode","getChildAt","appendChildren","mrow","appendChild","isInferred","childNodes","checkSideSetBase","child","splice","getText","variable","MultiIntegral","integral","string","slice","xArrow","chr","l","Em","bot","first","dstrut","depth","arrow","stretchy","REL","fromCodePoint","scriptlevel","setChild","over","bottom","bstrut","height","under","HandleShove","_name","top","Top","currentCS","Size","CFrac","lr","num","den","lrMap","numNode","denNode","numalign","denomalign","Genfrac","left","right","thick","GetDelimiterArg","fixedFence","styleDigit","styleAlpha","HandleTag","currentTag","tagId","HandleNoTag","HandleRef","Accent","Tilde","Spacer","NamedOp","Equation","AmsCdConfiguration","amscd","colspace","rowspace","harrowsize","varrowsize","hideHorizontalLabels","AmsCdMethods_js_1","CD","minCDarrowwidth","minCDarrowheight","MacroMap","BaseConfiguration_js_1","AmsCdMethods","minw","CD_minw","minh","CD_minh","Other","arrowRow","hdef","minsize","vdef","symmetric","rspace","a","GetUpTo","pad","nodeA","nodeB","arrowNode","ORD","isEntry","GetDimen","BboxConfiguration","BboxMethods","BBox","bbox","math","parts","background","part","trim","BBoxPadding","BBoxStyle","mathbackground","styles","__values","BoldsymbolConfiguration","rewriteBoldTokens","createBoldToken","BoldsymbolMethods","NodeFactory_js_1","BOLDVARIANT","BOLD","BOLDITALIC","FRAKTUR","BOLDFRAKTUR","SCRIPT","BOLDSCRIPT","SANSSERIF","BOLDSANSSERIF","Boldsymbol","boldsymbol","text","token","NodeFactory","createToken","addNode","e_1","data","getList","_c","node","variant","removeProperties","e_1_1","return","postprocessors","BraketConfiguration","BraketItems_js_1","BraketItem","StackItem_js_1","checkItem","toMml","BaseItem","fail","inner","open","close","fenced","attrs","fence","openNode","closeNode","INNER","BraketMethods_js_1","bra","ket","braket","Infinity","Bra","Ket","Braket","Set","ketbra","Ketbra","BraketMethods","barmax","single","barcount","Bar","node_1","braketbar","BussproofsConfiguration","BussproofsItems_js_1","BussproofsUtil_js_1","ProofTreeItem","preprocessors","saveDocument","clearDocument","makeBsprAttributes","balanceRules","Stack_js_1","BussproofsUtil","leftLabel","rigthLabel","innerStack","tree","prefix","BussproofsMethods_js_1","AxiomC","UnaryInfC","BinaryInfC","TrinaryInfC","QuaternaryInfC","QuinaryInfC","RightLabel","LeftLabel","AXC","UIC","BIC","TIC","RL","LL","noLine","singleLine","solidLine","dashedLine","alwaysNoLine","alwaysSingleLine","alwaysSolidLine","alwaysDashedLine","rootAtTop","alwaysRootAtTop","rootAtBottom","alwaysRootAtBottom","fCenter","Axiom","UnaryInf","BinaryInf","TrinaryInf","QuaternaryInf","QuinaryInf","prooftree","__spreadArray","to","from","pack","BussproofsMethods","Prooftree","newItem","line","currentLine","content","paddedContent","internalMath","lpad","rpad","Inference","childCount","Peek","unshift","Pop","conclusion","rule","createRule","premise","conclusions","upper","lower","rowlines","rightLabel","voffset","Label","SetLine","always","RootAtTop","where","AxiomF","parseFCenterLine","dollar","axiom","indexOf","prem","conc","fcenter","middle","FCenter","_parser","InferenceF","removeProperty","doc","getBBox","root","outputJax","w","getRule","isType","parent","getPremises","direction","getPremise","premises","firstPremise","lastPremise","getConclusion","getColumn","inf","nextSibling","previousSibling","getParentInf","getSpaces","children_1","index_1","index","adjustValue","x","y","addSpace","space","nodeFactory","moveProperties","mspace","dimen2em","src","dest","props","forEach","adjustSequents","sequents","nodeLists","seq","collect","sequent","adjustSequentPairwise","addSequentSpace","position","pop","compareSequents","Math","abs","tr","br","tl","bl","dl","dr","document","MathItem","display","inferences","inferences_1","inferences_1_1","isProof","premiseF","adjust_1","w_1","premiseL","adjust","maxAdjust","max","column","sibling","pos","parentRule","property_prefix","blacklistedProperties","property","walkTree","_data","attr","getPropertyNames","RegExp","Error","_arg","CancelConfiguration","CancelMethods","EncloseConfiguration_js_1","Cancel","notation","keyvalOptions","ENCLOSE_OPTIONS","CancelTo","Notation","UPDIAGONALSTRIKE","UPDIAGONALARROW","NORTHEASTARROW","cancel","bcancel","DOWNDIAGONALSTRIKE","xcancel","cancelto","CasesConfiguration","CasesMethods","CasesTags","CasesBeginItem","AmsConfiguration_js_1","EmpheqUtil_js_1","BeginItem","subcounter","defaultTags","autoTag","counter","formatNumber","toString","fromCharCode","NumCases","closing","Last","original","EmpheqUtil","Entry","tex","braces","PushAll","numcases","subnumcases","CenternotConfiguration","filterCenterOver","centerOver","centernot","CenterOver","_d","getTexClass","ColorConfiguration","ColorMethods_js_1","ColorUtil_js_1","color","textcolor","definecolor","colorbox","fcolorbox","ColorMethods","packageData","set","model","ColorModel","padding","borderWidth","COLORS","Map","colorPadding","unit","pad2","parseFloat","Color","colorDef","colorModel","getColor","mathcolor","TextColor","old","DefineColor","cname","defineColor","ColorBox","FColorBox","fname","ColorConstants_js_1","ColorModelProcessors","userColors","normalizeColor","has","modelProcessor","getColorByName","normalized","rgb","rgbParts","RGB","rgbParts_1","rgbParts_1_1","rgbPart","pn","floor","e_2","rgbParts_2","rgbParts_2_1","e_2_1","gray","ColortblConfiguration","ColorArrayItem","col","hasColor","attributes","createMml","cellcolor","rowcolor","columncolor","TableColor","type","lookup","ConfigurationHandler","ColorV2Methods","ConfigMacrosConfiguration","Options_js_1","NewcommandMethods_js_1","NewcommandItems_js_1","MACROSMAP","ENVIRONMENTMAP","configmacrosInit","configmacrosConfig","configMacros","configEnvironments","macros","keys","isArray","MacroWithTemplate","environments","BeginEnv","BeginEnvItem","expandable","EmpheqConfiguration","EmpheqMethods","EmpheqBeginItem","Empheq","empheq","adjustTable","eqnenv","opts","checkEnv","splitOptions","EmpheqMO","EmpheqDelim","GetDelimiter","empheqlbrace","empheqrbrace","empheqlbrack","empheqrbrack","empheqlangle","empheqrangle","empheqlparen","empheqrparen","empheqlvert","empheqrvert","empheqlVert","empheqrVert","empheqlfloor","empheqrfloor","empheqlceil","empheqrceil","empheqbiglbrace","empheqbigrbrace","empheqbiglbrack","empheqbigrbrack","empheqbiglangle","empheqbigrangle","empheqbiglparen","empheqbigrparen","empheqbiglvert","empheqbigrvert","empheqbiglVert","empheqbigrVert","empheqbiglfloor","empheqbigrfloor","empheqbiglceil","empheqbigrceil","empheql","empheqr","empheqbigl","empheqbigr","func","allowed","columnCount","cellBlock","topRowTable","rowspanCell","e_3","reverse","e_3_1","allowEnv","equation","EncloseConfiguration","EncloseMethods","Enclose","enclose","ExtpfeilConfiguration","ExtpfeilMethods","NewcommandUtil_js_1","NewcommandConfiguration_js_1","NewExtArrow","spaces","addMacro","xtwoheadrightarrow","xtwoheadleftarrow","xmapsto","xlongequal","xtofrom","Newextarrow","NewcommandConfiguration","GensymbConfiguration","mathcharUnit","mchar","class","char","ohm","degree","celsius","perthousand","micro","HtmlConfiguration","HtmlMethods_js_1","href","cssId","HtmlMethods","Href","url","GetArgumentMML","Class","CLASS","oldClass","Style","oldStyle","Id","ID","copyChildren","MathtoolsConfiguration","fixPrescripts","PAIREDDELIMS","MathtoolsUtil_js_1","MathtoolsTags_js_1","MathtoolsItems_js_1","initMathtools","configMathtools","pairedDelims","mathtools","pairedDelimiters","MathtoolsUtil","addPairedDelims","MathtoolsTagFormat","e_4","_e","_f","_g","_h","_j","_k","e_4_1","MultlinedItem","tagforms","gap","multlinegap","firstskip","lastskip","last","top_1","MathtoolsMethods_js_1","xleftrightarrow","xLeftarrow","xRightarrow","xLeftrightarrow","xhookleftarrow","xhookrightarrow","xrightharpoondown","xleftharpoondown","xrightleftharpoons","xrightharpoonup","xleftharpoonup","xleftrightharpoons","mathllap","mathrlap","mathclap","clap","textllap","textrlap","textclap","cramped","crampedllap","crampedrlap","crampedclap","crampedsubstack","mathmbox","mathmakebox","overbracket","underbracket","refeq","MoveEqLeft","Aboxed","ArrowBetweenLines","vdotswithin","shortvdotswithin","MTFlushSpaceAbove","MTFlushSpaceBelow","DeclarePairedDelimiter","DeclarePairedDelimiterX","DeclarePairedDelimiterXPP","DeclarePairedDelimiters","DeclarePairedDelimitersX","DeclarePairedDelimitersXPP","centercolon","ordinarycolon","MTThinColon","coloneqq","Coloneqq","coloneq","Coloneq","eqqcolon","Eqqcolon","eqcolon","Eqcolon","colonapprox","Colonapprox","colonsim","Colonsim","dblcolon","nuparrow","ndownarrow","bigtimes","splitfrac","splitdfrac","xmathstrut","prescript","newtagform","renewtagform","usetagform","adjustlimits","mathtoolsset","MathtoolsMethods","dcases","rcases","drcases","psmallmatrix","bsmallmatrix","Bsmallmatrix","vsmallmatrix","Vsmallmatrix","crampedsubarray","multlined","spreadlines","lgathered","rgathered","MtMatrix","MtSmallMatrix","MtMultlined","SpreadLines","spread","spreadLines","Cases","MathLap","setDisplayLevel","Cramped","MtLap","MathMakeBox","MathMBox","UnderOverBracket","thickness","length2em","accent","border","em","copy","script","underOver","munderover","checkAlignment","rest","substituteArgs","symbol","VDotsWithin","isFlush","ShortVDotsWithin","FlushSpaceAbove","FlushSpaceBelow","addRowSpacing","PairedDelimiters","body","pre","post","size","delim","reduce","addArgs","checkMaxMacros","GetCsNameArgument","GetArgCount","CenterColon","force","thin","dy","Relation","unicode","NArrow","SplitFrac","linethickness","XMathStrut","dd","dh","plusOrMinus","Prescript","sup","getScript","sub","NewTagForm","renew","id","format","mtFormats","UseTagForm","mtCurrent","SetOptions","tagID","TagsFactory","TagClass","TagFormat","forms","form","formatTag","tagName","MathtoolsConfiguration_js_1","delims","mtable","add_1","map","MhchemConfiguration","mhchemParser_js_1","MhchemMethods","Machine","machine","mhchemParser","toTex","err","ce","pu","longrightleftharpoons","longRightleftharpoons","longLeftrightharpoons","longleftrightarrows","tripledash","xRightleftharpoons","xLeftrightharpoons","NEW_DELIMITER","NEW_COMMAND","NEW_ENVIRONMENT","maxMacros","newcommand","renewcommand","newenvironment","renewenvironment","NewcommandMethods","NewCommand","opt","NewEnvironment","bdef","edef","addEnvironment","MacroDef","GetCSname","params","GetTemplate","Let","macro_1","addDelimiter","map_1","applicable","macro_2","newArgs","disassembleSymbol","method","_cs","symb","assembleSymbol","argCount","MatchParam","GetParameter","Parse","optional","NewcommandUtil","key","cmd","param","j","hasBraces","NoErrorsConfiguration","noErrors","message","_id","expr","mtext","title","NoUndefinedConfiguration","noUndefined","textNode","noundefined","fallback","PhysicsConfiguration","PhysicsItems_js_1","AutoOpen","physics","italicdiff","arrowdel","openCount","mml_1","smash","errors","PhysicsMethods_js_1","CALLIGRAPHIC","dotproduct","vdot","crossproduct","cross","cp","gradientnabla","real","imaginary","PhysicsMethods","pairs","biggs","Quantity","named","big","empty","argument","Eval","Commutator","arg1","arg2","latinCap","latinSmall","greekCap","greekSmall","digits","inRange","range","createVectorToken","code","codePointAt","vectorFont","vectorStar","VectorBold","oldToken","oldFont","StarMacro","argcount","vectorApplication","operator","fences","lfence","rfence","enlarge","OperatorApplication","VectorOperator","Expression","exp","Qqtext","Differential","optArg","power","parens","Derivative","argMax","argCounter","ignore","power1","power2","second","starBra","hasKet","starKet","saveI","BraKet","KetBra","outputBraket","star1","star2","arg3","Expectation","MatrixElement","MatrixQuantity","small","IdentityMatrix","isNaN","zeros","fill","columns","XMatrix","matrix_1","rows","PauliMatrix","DiagonalMatrix","anti","startI","endI","elements","element","currentI","makeDiagMatrix","AutoClose","_texclass","mo","autoclose","Vnabla","DiffD","NamedFn","SetOptionsConfiguration","SetOptionsUtil","filterPackage","extension","setoptions","allowOptions","allowPackageDefault","filterOption","option","allow","isObject","allowOptionsDefault","filterValue","_extension","_option","setOptionsMap","setOptions","setoptionsConfig","require","_func","FindTeX","formatError","package","baseURL","maxBuffer","maxMaxros","autoload","configmacros","tagformat","TagFormatConfiguration","tagformatConfig","number","formatId","formatUrl","encodeURIComponent","TextcompConfiguration","TextMacrosMethods_js_1","TextParser_js_1","OLDSTYLE","Insert","TextParser","TextMacrosMethods","saveText","internalText","TextMacrosConfiguration","TextBaseConfiguration","ParseOptions_js_1","texParser","parse","StartItem","StopItem","MmlItem","StyleItem","level","textConf","ParserConfiguration","textmacros","packages","addTags","getDefault","setMmlFactory","mmlFactory","emph","rm","mit","oldstyle","cal","it","bf","bbFont","scr","frak","sf","tt","MONOSPACE","tiny","Tiny","scriptsize","normalsize","large","Large","LARGE","huge","Huge","Bbb","textnormal","textup","textrm","textit","textbf","textsf","texttt","dagger","ddagger","S","thinmathspace","mediummathspace","negativethinmathspace","enspace","quad","qquad","thinspace","negthinspace","hskip","hspace","kern","mskip","mkern","Rule","Space","ref","Retries_js_1","Comment","PushMath","MathModeOnly","Misplaced","OpenBrace","envStack","CloseBrace","OpenQuote","CloseQuote","SelfQuote","addAttributes","Emph","ParseTextArg","SetFont","SetSize","mathsize","CheckAutoload","Autoload","retryAfter","Promise","resolve","Hskip","AbstractMmlNode","name_1","getExplicit","isToken","name_2","bind","UnicodeConfiguration","UnicodeMethods","Entities_js_1","UnicodeCache","Unicode","HD","HDsplit","N","fontfamily","fontweight","fontstyle","numeric","UpgreekConfiguration","mathchar0miNormal","upalpha","upbeta","upgamma","updelta","upepsilon","upzeta","upeta","uptheta","upiota","upkappa","uplambda","upmu","upnu","upxi","upomicron","uppi","uprho","upsigma","uptau","upupsilon","upphi","upchi","uppsi","upomega","upvarepsilon","upvartheta","upvarpi","upvarrho","upvarsigma","upvarphi","Upgamma","Updelta","Uptheta","Uplambda","Upxi","Uppi","Upsigma","Upupsilon","Upphi","Uppsi","Upomega","VerbConfiguration","VerbMethods","Verb","verb","input","_mhchemTexify","go","_mhchemParser","_mhchemCreateTransitions","pattern","state","transitions","stateArray","action_","type_","patternArray","task","stateMachine","buffer","lastInput","watchdog","output","stateMachines","iterateTransitions","matches","patterns","match_","iA","actions","concatArray","nextState","revisit","remainder","toContinue","iB","findObserveGroups","begExcl","begIncl","endIncl","endExcl","beg2Excl","beg2Incl","end2Incl","end2Excl","combine","_match","match_1","_findObserveGroups","endChars","match_2","endMatchBegin","endMatchEnd","match1","substring","group2","matchRet","q","text_","_buffer","_m","p1","p2","kind_","ret","tmp","dType","isAfterD","c1","c2","c3","c4","hyphenFollows","sb","withSpace","entityFollows","rd","rdt","rq","rqt","color1","color2","md","mq","b5","mrm","addOuterBraces","res","cee","inputi","_go2","_goInner","buf","_getBond","b6","_getArrow","_getOperator","assertNever"],"sourceRoot":""}