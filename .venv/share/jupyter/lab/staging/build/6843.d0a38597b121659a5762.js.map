{"version":3,"file":"6843.d0a38597b121659a5762.js?v=d0a38597b121659a5762","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/@codemirror/legacy-modes/mode/tiki.js"],"sourcesContent":["function inBlock(style, terminator, returnTokenizer) {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      if (stream.match(terminator)) {\n        state.tokenize = inText;\n        break;\n      }\n      stream.next();\n    }\n\n    if (returnTokenizer) state.tokenize = returnTokenizer;\n\n    return style;\n  };\n}\n\nfunction inLine(style) {\n  return function(stream, state) {\n    while(!stream.eol()) {\n      stream.next();\n    }\n    state.tokenize = inText;\n    return style;\n  };\n}\n\nfunction inText(stream, state) {\n  function chain(parser) {\n    state.tokenize = parser;\n    return parser(stream, state);\n  }\n\n  var sol = stream.sol();\n  var ch = stream.next();\n\n  //non start of line\n  switch (ch) { //switch is generally much faster than if, so it is used here\n  case \"{\": //plugin\n    stream.eat(\"/\");\n    stream.eatSpace();\n    stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?(}]/);\n    state.tokenize = inPlugin;\n    return \"tag\";\n  case \"_\": //bold\n    if (stream.eat(\"_\"))\n      return chain(inBlock(\"strong\", \"__\", inText));\n    break;\n  case \"'\": //italics\n    if (stream.eat(\"'\"))\n      return chain(inBlock(\"em\", \"''\", inText));\n    break;\n  case \"(\":// Wiki Link\n    if (stream.eat(\"(\"))\n      return chain(inBlock(\"link\", \"))\", inText));\n    break;\n  case \"[\":// Weblink\n    return chain(inBlock(\"url\", \"]\", inText));\n    break;\n  case \"|\": //table\n    if (stream.eat(\"|\"))\n      return chain(inBlock(\"comment\", \"||\"));\n    break;\n  case \"-\":\n    if (stream.eat(\"=\")) {//titleBar\n      return chain(inBlock(\"header string\", \"=-\", inText));\n    } else if (stream.eat(\"-\")) {//deleted\n      return chain(inBlock(\"error tw-deleted\", \"--\", inText));\n    }\n    break;\n  case \"=\": //underline\n    if (stream.match(\"==\"))\n      return chain(inBlock(\"tw-underline\", \"===\", inText));\n    break;\n  case \":\":\n    if (stream.eat(\":\"))\n      return chain(inBlock(\"comment\", \"::\"));\n    break;\n  case \"^\": //box\n    return chain(inBlock(\"tw-box\", \"^\"));\n    break;\n  case \"~\": //np\n    if (stream.match(\"np~\"))\n      return chain(inBlock(\"meta\", \"~/np~\"));\n    break;\n  }\n\n  //start of line types\n  if (sol) {\n    switch (ch) {\n    case \"!\": //header at start of line\n      if (stream.match('!!!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!')) {\n        return chain(inLine(\"header string\"));\n      } else {\n        return chain(inLine(\"header string\"));\n      }\n      break;\n    case \"*\": //unordered list line item, or <li /> at start of line\n    case \"#\": //ordered list line item, or <li /> at start of line\n    case \"+\": //ordered list line item, or <li /> at start of line\n      return chain(inLine(\"tw-listitem bracket\"));\n      break;\n    }\n  }\n\n  //stream.eatWhile(/[&{]/); was eating up plugins, turned off to act less like html and more like tiki\n  return null;\n}\n\n// Return variables for tokenizers\nvar pluginName, type;\nfunction inPlugin(stream, state) {\n  var ch = stream.next();\n  var peek = stream.peek();\n\n  if (ch == \"}\") {\n    state.tokenize = inText;\n    //type = ch == \")\" ? \"endPlugin\" : \"selfclosePlugin\"; inPlugin\n    return \"tag\";\n  } else if (ch == \"(\" || ch == \")\") {\n    return \"bracket\";\n  } else if (ch == \"=\") {\n    type = \"equals\";\n\n    if (peek == \">\") {\n      stream.next();\n      peek = stream.peek();\n    }\n\n    //here we detect values directly after equal character with no quotes\n    if (!/[\\'\\\"]/.test(peek)) {\n      state.tokenize = inAttributeNoQuote();\n    }\n    //end detect values\n\n    return \"operator\";\n  } else if (/[\\'\\\"]/.test(ch)) {\n    state.tokenize = inAttribute(ch);\n    return state.tokenize(stream, state);\n  } else {\n    stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?]/);\n    return \"keyword\";\n  }\n}\n\nfunction inAttribute(quote) {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      if (stream.next() == quote) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\n\nfunction inAttributeNoQuote() {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      var ch = stream.next();\n      var peek = stream.peek();\n      if (ch == \" \" || ch == \",\" || /[ )}]/.test(peek)) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\n\nvar curState, setStyle;\nfunction pass() {\n  for (var i = arguments.length - 1; i >= 0; i--) curState.cc.push(arguments[i]);\n}\n\nfunction cont() {\n  pass.apply(null, arguments);\n  return true;\n}\n\nfunction pushContext(pluginName, startOfLine) {\n  var noIndent = curState.context && curState.context.noIndent;\n  curState.context = {\n    prev: curState.context,\n    pluginName: pluginName,\n    indent: curState.indented,\n    startOfLine: startOfLine,\n    noIndent: noIndent\n  };\n}\n\nfunction popContext() {\n  if (curState.context) curState.context = curState.context.prev;\n}\n\nfunction element(type) {\n  if (type == \"openPlugin\") {curState.pluginName = pluginName; return cont(attributes, endplugin(curState.startOfLine));}\n  else if (type == \"closePlugin\") {\n    var err = false;\n    if (curState.context) {\n      err = curState.context.pluginName != pluginName;\n      popContext();\n    } else {\n      err = true;\n    }\n    if (err) setStyle = \"error\";\n    return cont(endcloseplugin(err));\n  }\n  else if (type == \"string\") {\n    if (!curState.context || curState.context.name != \"!cdata\") pushContext(\"!cdata\");\n    if (curState.tokenize == inText) popContext();\n    return cont();\n  }\n  else return cont();\n}\n\nfunction endplugin(startOfLine) {\n  return function(type) {\n    if (\n      type == \"selfclosePlugin\" ||\n        type == \"endPlugin\"\n    )\n      return cont();\n    if (type == \"endPlugin\") {pushContext(curState.pluginName, startOfLine); return cont();}\n    return cont();\n  };\n}\n\nfunction endcloseplugin(err) {\n  return function(type) {\n    if (err) setStyle = \"error\";\n    if (type == \"endPlugin\") return cont();\n    return pass();\n  };\n}\n\nfunction attributes(type) {\n  if (type == \"keyword\") {setStyle = \"attribute\"; return cont(attributes);}\n  if (type == \"equals\") return cont(attvalue, attributes);\n  return pass();\n}\nfunction attvalue(type) {\n  if (type == \"keyword\") {setStyle = \"string\"; return cont();}\n  if (type == \"string\") return cont(attvaluemaybe);\n  return pass();\n}\nfunction attvaluemaybe(type) {\n  if (type == \"string\") return cont(attvaluemaybe);\n  else return pass();\n}\nexport const tiki = {\n  name: \"tiki\",\n  startState: function() {\n    return {tokenize: inText, cc: [], indented: 0, startOfLine: true, pluginName: null, context: null};\n  },\n  token: function(stream, state) {\n    if (stream.sol()) {\n      state.startOfLine = true;\n      state.indented = stream.indentation();\n    }\n    if (stream.eatSpace()) return null;\n\n    setStyle = type = pluginName = null;\n    var style = state.tokenize(stream, state);\n    if ((style || type) && style != \"comment\") {\n      curState = state;\n      while (true) {\n        var comb = state.cc.pop() || element;\n        if (comb(type || style)) break;\n      }\n    }\n    state.startOfLine = false;\n    return setStyle || style;\n  },\n  indent: function(state, textAfter, cx) {\n    var context = state.context;\n    if (context && context.noIndent) return 0;\n    if (context && /^{\\//.test(textAfter))\n      context = context.prev;\n    while (context && !context.startOfLine)\n      context = context.prev;\n    if (context) return context.indent + cx.unit;\n    else return 0;\n  }\n};\n"],"names":["inBlock","style","terminator","returnTokenizer","stream","state","eol","match","tokenize","inText","next","inLine","chain","parser","sol","ch","eat","eatSpace","eatWhile","inPlugin","pluginName","type","peek","test","inAttributeNoQuote","inAttribute","quote","curState","setStyle","pass","i","arguments","length","cc","push","cont","apply","pushContext","startOfLine","noIndent","context","prev","indent","indented","popContext","element","attributes","endplugin","err","endcloseplugin","name","attvalue","attvaluemaybe","tiki","startState","token","indentation","comb","pop","textAfter","cx","unit"],"sourceRoot":""}